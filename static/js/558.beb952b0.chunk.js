"use strict";(self.webpackChunkgis_dashboard=self.webpackChunkgis_dashboard||[]).push([[558,9086],{62594:function(e,t,r){r.d(t,{C9:function(){return Q},Ci:function(){return q},FV:function(){return S},Fr:function(){return w},JD:function(){return Z},JY:function(){return z},Jj:function(){return j},KE:function(){return V},Ob:function(){return oe},SU:function(){return A},VG:function(){return G},Y5:function(){return k},gG:function(){return U},kZ:function(){return Y},kp:function(){return H},nU:function(){return te},rP:function(){return J},rk:function(){return X},sX:function(){return ie},tD:function(){return R},uj:function(){return C}});var n=r(1413),i=r(74165),u=r(37762),o=r(15861),a=r(19545),s=r(51508),c=r(10064),p=r(43404),l=r(76672),d=r(47492),f=r(37933),h=r(34999),y=r(28189),m=r(99837),b=r(86638),v=r(99086),w=new p.X({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});function Z(e,t,r,n){return x.apply(this,arguments)}function x(){return(x=(0,o.Z)((0,i.Z)().mark((function e(t,r,n,u){var o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t);case 2:return o=e.sent,e.next=5,g(t,r,u);case 5:if(o.addAttachment){e.next=7;break}throw new c.Z(u,"Layer source does not support addAttachment capability");case 7:return e.abrupt("return",o.addAttachment(r,n));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t,r){var n=t.attributes,i=e.objectIdField;return e.get("capabilities.data.supportsAttachment")?t?n?i&&n[i]?Promise.resolve():Promise.reject(new c.Z(r,"feature is missing the identifying attribute ".concat(i))):Promise.reject(new c.Z(r,"'attributes' are required on a feature to query attachments")):Promise.reject(new c.Z(r,"A feature is required to add/delete/update attachments")):Promise.reject(new c.Z(r,"this layer doesn't support attachments"))}function k(e,t,r,n,i){return F.apply(this,arguments)}function F(){return(F=(0,o.Z)((0,i.Z)().mark((function e(t,r,n,u,o){var a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t);case 2:return a=e.sent,e.next=5,g(t,r,o);case 5:if(a.updateAttachment){e.next=7;break}throw new c.Z(o,"Layer source does not support updateAttachment capability");case 7:return e.abrupt("return",a.updateAttachment(r,n,u));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,t,r){return I.apply(this,arguments)}function I(){return(I=(0,o.Z)((0,i.Z)().mark((function e(t,n,u){var o,a,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(1340),r.e(9887),r.e(6601)]).then(r.bind(r,29887));case 2:return o=e.sent,a=o.applyEdits,e.next=6,t.load();case 6:return s=e.sent,e.abrupt("return",a(s,s.source,n,u));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t,r){return P.apply(this,arguments)}function P(){return(P=(0,o.Z)((0,i.Z)().mark((function e(t,n,u){var o,a,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(1340),r.e(9887),r.e(6601)]).then(r.bind(r,29887));case 2:return o=e.sent,a=o.uploadAssets,e.next=6,t.load();case 6:return s=e.sent,e.abrupt("return",a(s,s.source,n,u));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t,r,n){return O.apply(this,arguments)}function O(){return(O=(0,o.Z)((0,i.Z)().mark((function e(t,r,n,u){var o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t);case 2:return o=e.sent,e.next=5,g(t,r,u);case 5:if(o.deleteAttachments){e.next=7;break}throw new c.Z(u,"Layer source does not support deleteAttachments capability");case 7:return e.abrupt("return",o.deleteAttachments(r,n));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e,t,r){return _.apply(this,arguments)}function _(){return(_=(0,o.Z)((0,i.Z)().mark((function e(t,r,n){var u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.load({signal:null===r||void 0===r?void 0:r.signal});case 2:if((u=e.sent.source).fetchRecomputedExtents){e.next=5;break}throw new c.Z(n,"Layer source does not support fetchUpdates capability");case 5:return e.abrupt("return",u.fetchRecomputedExtents(r));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t,r,n){return M.apply(this,arguments)}function M(){return M=(0,o.Z)((0,i.Z)().mark((function e(t,r,n,u){var o,a,s,p,l,d,f,h,y,b,v,w;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=m.Z.from(r),e.next=3,t.load();case 3:if(s=t.source,null!==(p=t.capabilities)&&void 0!==p&&null!==(o=p.data)&&void 0!==o&&o.supportsAttachment){e.next=6;break}throw new c.Z(u,"this layer doesn't support attachments");case 6:if(d=(l=r).attachmentTypes,f=l.objectIds,h=l.globalIds,y=l.num,b=l.size,v=l.start,w=l.where,null!==p&&void 0!==p&&null!==(a=p.operations)&&void 0!==a&&a.supportsQueryAttachments){e.next=10;break}if(!((null===d||void 0===d?void 0:d.length)>0||(null===h||void 0===h?void 0:h.length)>0||(null===b||void 0===b?void 0:b.length)>0||y||v||w)){e.next=10;break}throw new c.Z(u,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",r);case 10:if(null!==f&&void 0!==f&&f.length||null!==h&&void 0!==h&&h.length||w){e.next=12;break}throw new c.Z(u,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",r);case 12:if(s.queryAttachments){e.next=14;break}throw new c.Z(u,"Layer source does not support queryAttachments capability",r);case 14:return e.abrupt("return",s.queryAttachments(r));case 15:case"end":return e.stop()}}),e)}))),M.apply(this,arguments)}function R(e,t,r,n){return E.apply(this,arguments)}function E(){return(E=(0,o.Z)((0,i.Z)().mark((function e(t,r,n,u){var o,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t);case 2:if((a=e.sent).queryObjectIds){e.next=5;break}throw new c.Z(u,"Layer source does not support queryObjectIds capability");case 5:return e.abrupt("return",a.queryObjectIds(null!==(o=b.Z.from(r))&&void 0!==o?o:t.createQuery(),n));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e,t,r,n){return D.apply(this,arguments)}function D(){return(D=(0,o.Z)((0,i.Z)().mark((function e(t,r,n,u){var o,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t);case 2:if((a=e.sent).queryFeatureCount){e.next=5;break}throw new c.Z(u,"Layer source does not support queryFeatureCount capability");case 5:return e.abrupt("return",a.queryFeatureCount(null!==(o=b.Z.from(r))&&void 0!==o?o:t.createQuery(),n));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e,t,r,n){return L.apply(this,arguments)}function L(){return(L=(0,o.Z)((0,i.Z)().mark((function e(t,r,n,u){var o,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t);case 2:if((a=e.sent).queryExtent){e.next=5;break}throw new c.Z(u,"Layer source does not support queryExtent capability");case 5:return e.abrupt("return",a.queryExtent(null!==(o=b.Z.from(r))&&void 0!==o?o:t.createQuery(),n));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e,t,r,n){return N.apply(this,arguments)}function N(){return(N=(0,o.Z)((0,i.Z)().mark((function e(t,r,n,u){var o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t);case 2:if((o=e.sent).queryRelatedFeatures){e.next=5;break}throw new c.Z(u,"Layer source does not support queryRelatedFeatures capability");case 5:return e.abrupt("return",o.queryRelatedFeatures(v.default.from(r),n));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e,t,r,n){return T.apply(this,arguments)}function T(){return(T=(0,o.Z)((0,i.Z)().mark((function e(t,r,n,u){var o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t);case 2:if((o=e.sent).queryRelatedFeaturesCount){e.next=5;break}throw new c.Z(u,"Layer source does not support queryRelatedFeaturesCount capability");case 5:return e.abrupt("return",o.queryRelatedFeaturesCount(v.default.from(r),n));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){return B.apply(this,arguments)}function B(){return(B=(0,o.Z)((0,i.Z)().mark((function e(t){var r,u,o,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(r=t.source)||void 0===r||!r.refresh){e.next=14;break}return e.prev=2,e.next=5,r.refresh();case 5:if(u=e.sent,o=u.dataChanged,null!=(a=u.updates)&&(t.sourceJSON=(0,n.Z)((0,n.Z)({},t.sourceJSON),a),t.read(a,{origin:"service",url:t.parsedUrl})),!o){e.next=10;break}return e.abrupt("return",!0);case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(2);case 14:if(!t.definitionExpression){e.next=23;break}return e.prev=15,e.next=18,(0,l.E)(t.definitionExpression,t.fieldsIndex);case 18:return e.abrupt("return",e.sent.hasDateFunctions);case 21:e.prev=21,e.t1=e.catch(15);case 23:return e.abrupt("return",!1);case 24:case"end":return e.stop()}}),e,null,[[2,12],[15,21]])})))).apply(this,arguments)}function J(e){var t=new b.Z,r=e.get("capabilities.data"),n=e.get("capabilities.query");t.historicMoment=e.historicMoment,t.gdbVersion=e.gdbVersion,t.returnGeometry=!0,n&&(t.compactGeometryEnabled=n.supportsCompactGeometry,t.defaultSpatialReferenceEnabled=n.supportsDefaultSpatialReference),r&&(r.supportsZ&&null!=e.returnZ&&(t.returnZ=e.returnZ),r.supportsM&&null!=e.returnM&&(t.returnM=e.returnM)),t.outFields=["*"];var i=e.timeOffset,u=e.timeExtent;return t.timeExtent=null!=i&&null!=u?u.offset(-i.value,i.unit):u||null,t.multipatchOption="multipatch"===e.geometryType?"xyFootprint":null,t}function X(e){var t=e.globalIdField,r=e.fields;if(t)return t;if(r){var n,i=(0,u.Z)(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;if("esriFieldTypeGlobalID"===o.type)return o.name}}catch(a){i.e(a)}finally{i.f()}}}function Y(e){var t=e.objectIdField,r=e.fields;if(t)return t;if(r){var n,i=(0,u.Z)(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;if("esriFieldTypeOID"===o.type)return o.name}}catch(a){i.e(a)}finally{i.f()}}}function z(e){return e.currentVersion?e.currentVersion:e.hasOwnProperty("capabilities")||e.hasOwnProperty("drawingInfo")||e.hasOwnProperty("hasAttachments")||e.hasOwnProperty("htmlPopupType")||e.hasOwnProperty("relationships")||e.hasOwnProperty("timeInfo")||e.hasOwnProperty("typeIdField")||e.hasOwnProperty("types")?10:9.3}function K(e){return W.apply(this,arguments)}function W(){return(W=(0,o.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.load();case 2:return e.abrupt("return",e.sent.source);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e,t){return ee.apply(this,arguments)}function ee(){return(ee=(0,o.Z)((0,i.Z)().mark((function e(t,r){var n,u,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.id){e.next=2;break}return e.abrupt("return");case 2:if(!a.id.findCredential(t)){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,(0,f.oP)(t,r);case 7:if(u=e.sent,e.t0=u,!e.t0){e.next=13;break}return e.next=12,a.id.checkSignInStatus("".concat(u,"/sharing"));case 12:n=e.sent;case 13:e.next=17;break;case 15:e.prev=15,e.t1=e.catch(4);case 17:if(!n){e.next=26;break}return e.prev=18,o=null!=r?r.signal:null,e.next=22,a.id.getCredential(t,{signal:o});case 22:e.next=26;break;case 24:e.prev=24,e.t2=e.catch(18);case 26:case"end":return e.stop()}}),e,null,[[4,15],[18,24]])})))).apply(this,arguments)}function te(e,t){return re.apply(this,arguments)}function re(){return(re=(0,o.Z)((0,i.Z)().mark((function e(t,r){var n,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=null===(n=t.parsedUrl)||void 0===n?void 0:n.path,e.t0=u&&ne(t),!e.t0){e.next=5;break}return e.next=5,$(u,r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e){var t=e.editFieldsInfo;return!((null===t||void 0===t||!t.creatorField)&&(null===t||void 0===t||!t.editorField))||(e.userHasUpdateItemPrivileges?e.hasUpdateItemRestrictions:!!e.userHasFullEditingPrivileges&&e.hasFullEditingRestrictions)}function ie(e){var t;return!(null!==(t=e.sourceJSON)&&void 0!==t&&t.isMultiServicesView)&&(e.userHasUpdateItemPrivileges||e.editingEnabled)}var ue=(0,d.d)({types:s.QT});function oe(e,t){if(e.defaultSymbol)return e.types&&e.types.length?new y.Z({defaultSymbol:ue(e.defaultSymbol,e,t),field:e.typeIdField,uniqueValueInfos:e.types.map((function(e){return{id:e.id,symbol:ue(e.symbol,e,t)}}))}):new h.Z({symbol:ue(e.defaultSymbol,e,t)})}},25610:function(e,t,r){r.d(t,{v:function(){return s}});var n=r(37762),i=r(32718),u=r(83040),o=r(52410),a=r(37270);function s(){return{fields:{type:[u.Z],value:null},fieldsIndex:{readOnly:!0,get:function(){return new o.Z(this.fields||[])}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){var e=this._userOutFields;if(!e||!e.length)return null;if(e.includes("*"))return["*"];if(!this.fields)return e;var t,r=(0,n.Z)(e);try{for(r.s();!(t=r.n()).done;){var u,o=t.value;(null===(u=this.fieldsIndex)||void 0===u?void 0:u.has(o))||i.Z.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field","Invalid field ".concat(o," found in outFields"),{layer:this,outFields:e})}}catch(s){r.e(s)}finally{r.f()}return(0,a.Q0)(this.fieldsIndex,e)}}}}},99086:function(e,t,r){r.r(t),r.d(t,{default:function(){return v}});var n,i=r(15671),u=r(43144),o=r(60136),a=r(29388),s=r(27366),c=(r(59486),r(46784)),p=r(84652),l=r(49861),d=r(25243),f=r(69912),h=r(31201),y=r(64020),m=r(78952),b=n=function(e){(0,o.Z)(r,e);var t=(0,a.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).cacheHint=void 0,n.dynamicDataSource=void 0,n.gdbVersion=null,n.geometryPrecision=void 0,n.historicMoment=null,n.maxAllowableOffset=void 0,n.objectIds=null,n.orderByFields=null,n.outFields=null,n.outSpatialReference=null,n.relationshipId=void 0,n.start=void 0,n.num=void 0,n.returnGeometry=!1,n.returnM=void 0,n.returnZ=void 0,n.where=null,n}return(0,u.Z)(r,[{key:"_writeHistoricMoment",value:function(e,t){t.historicMoment=e&&e.getTime()}},{key:"writeStart",value:function(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,this.start>0&&null==this.where&&(t.definitionExpression="1=1")}},{key:"clone",value:function(){return new n((0,p.d9)({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}}]),r}(c.wq);(0,s._)([(0,l.Cb)({type:Boolean,json:{write:!0}})],b.prototype,"cacheHint",void 0),(0,s._)([(0,l.Cb)({type:y.n,json:{write:!0}})],b.prototype,"dynamicDataSource",void 0),(0,s._)([(0,l.Cb)({type:String,json:{write:!0}})],b.prototype,"gdbVersion",void 0),(0,s._)([(0,l.Cb)({type:Number,json:{write:!0}})],b.prototype,"geometryPrecision",void 0),(0,s._)([(0,l.Cb)({type:Date})],b.prototype,"historicMoment",void 0),(0,s._)([(0,h.c)("historicMoment")],b.prototype,"_writeHistoricMoment",null),(0,s._)([(0,l.Cb)({type:Number,json:{write:!0}})],b.prototype,"maxAllowableOffset",void 0),(0,s._)([(0,l.Cb)({type:[Number],json:{write:!0}})],b.prototype,"objectIds",void 0),(0,s._)([(0,l.Cb)({type:[String],json:{write:!0}})],b.prototype,"orderByFields",void 0),(0,s._)([(0,l.Cb)({type:[String],json:{write:!0}})],b.prototype,"outFields",void 0),(0,s._)([(0,l.Cb)({type:m.Z,json:{read:{source:"outSR"},write:{target:"outSR"}}})],b.prototype,"outSpatialReference",void 0),(0,s._)([(0,l.Cb)({json:{write:!0}})],b.prototype,"relationshipId",void 0),(0,s._)([(0,l.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],b.prototype,"start",void 0),(0,s._)([(0,h.c)("start"),(0,h.c)("num")],b.prototype,"writeStart",null),(0,s._)([(0,l.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],b.prototype,"num",void 0),(0,s._)([(0,l.Cb)({json:{write:!0}})],b.prototype,"returnGeometry",void 0),(0,s._)([(0,l.Cb)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],b.prototype,"returnM",void 0),(0,s._)([(0,l.Cb)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],b.prototype,"returnZ",void 0),(0,s._)([(0,l.Cb)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],b.prototype,"where",void 0),(b=n=(0,s._)([(0,f.j)("esri.rest.support.RelationshipQuery")],b)).from=(0,d.se)(b);var v=b}}]);
//# sourceMappingURL=558.beb952b0.chunk.js.map