"use strict";(self.webpackChunkgis_dashboard=self.webpackChunkgis_dashboard||[]).push([[478],{9997:function(e,n,t){t.d(n,{F:function(){return h},M:function(){return r}});var r={Base64:0,Hex:1,String:2,Raw:3},i=8,a=(1<<i)-1;function s(e,n){var t=(65535&e)+(65535&n);return(e>>16)+(n>>16)+(t>>16)<<16|65535&t}function u(e){for(var n=[],t=0,r=e.length*i;t<r;t+=i)n[t>>5]|=(e.charCodeAt(t/i)&a)<<t%32;return n}function o(e){for(var n=[],t=0,r=32*e.length;t<r;t+=i)n.push(String.fromCharCode(e[t>>5]>>>t%32&a));return n.join("")}function l(e,n,t,r,i,a){return s(function(e,n){return e<<n|e>>>32-n}(s(s(n,e),s(r,a)),i),t)}function c(e,n,t,r,i,a,s){return l(n&t|~n&r,e,n,i,a,s)}function p(e,n,t,r,i,a,s){return l(n&r|t&~r,e,n,i,a,s)}function v(e,n,t,r,i,a,s){return l(n^t^r,e,n,i,a,s)}function f(e,n,t,r,i,a,s){return l(t^(n|~r),e,n,i,a,s)}function d(e,n){e[n>>5]|=128<<n%32,e[14+(n+64>>>9<<4)]=n;for(var t=1732584193,r=-271733879,i=-1732584194,a=271733878,u=0;u<e.length;u+=16){var o=t,l=r,d=i,h=a;t=c(t,r,i,a,e[u],7,-680876936),a=c(a,t,r,i,e[u+1],12,-389564586),i=c(i,a,t,r,e[u+2],17,606105819),r=c(r,i,a,t,e[u+3],22,-1044525330),t=c(t,r,i,a,e[u+4],7,-176418897),a=c(a,t,r,i,e[u+5],12,1200080426),i=c(i,a,t,r,e[u+6],17,-1473231341),r=c(r,i,a,t,e[u+7],22,-45705983),t=c(t,r,i,a,e[u+8],7,1770035416),a=c(a,t,r,i,e[u+9],12,-1958414417),i=c(i,a,t,r,e[u+10],17,-42063),r=c(r,i,a,t,e[u+11],22,-1990404162),t=c(t,r,i,a,e[u+12],7,1804603682),a=c(a,t,r,i,e[u+13],12,-40341101),i=c(i,a,t,r,e[u+14],17,-1502002290),t=p(t,r=c(r,i,a,t,e[u+15],22,1236535329),i,a,e[u+1],5,-165796510),a=p(a,t,r,i,e[u+6],9,-1069501632),i=p(i,a,t,r,e[u+11],14,643717713),r=p(r,i,a,t,e[u],20,-373897302),t=p(t,r,i,a,e[u+5],5,-701558691),a=p(a,t,r,i,e[u+10],9,38016083),i=p(i,a,t,r,e[u+15],14,-660478335),r=p(r,i,a,t,e[u+4],20,-405537848),t=p(t,r,i,a,e[u+9],5,568446438),a=p(a,t,r,i,e[u+14],9,-1019803690),i=p(i,a,t,r,e[u+3],14,-187363961),r=p(r,i,a,t,e[u+8],20,1163531501),t=p(t,r,i,a,e[u+13],5,-1444681467),a=p(a,t,r,i,e[u+2],9,-51403784),i=p(i,a,t,r,e[u+7],14,1735328473),t=v(t,r=p(r,i,a,t,e[u+12],20,-1926607734),i,a,e[u+5],4,-378558),a=v(a,t,r,i,e[u+8],11,-2022574463),i=v(i,a,t,r,e[u+11],16,1839030562),r=v(r,i,a,t,e[u+14],23,-35309556),t=v(t,r,i,a,e[u+1],4,-1530992060),a=v(a,t,r,i,e[u+4],11,1272893353),i=v(i,a,t,r,e[u+7],16,-155497632),r=v(r,i,a,t,e[u+10],23,-1094730640),t=v(t,r,i,a,e[u+13],4,681279174),a=v(a,t,r,i,e[u],11,-358537222),i=v(i,a,t,r,e[u+3],16,-722521979),r=v(r,i,a,t,e[u+6],23,76029189),t=v(t,r,i,a,e[u+9],4,-640364487),a=v(a,t,r,i,e[u+12],11,-421815835),i=v(i,a,t,r,e[u+15],16,530742520),t=f(t,r=v(r,i,a,t,e[u+2],23,-995338651),i,a,e[u],6,-198630844),a=f(a,t,r,i,e[u+7],10,1126891415),i=f(i,a,t,r,e[u+14],15,-1416354905),r=f(r,i,a,t,e[u+5],21,-57434055),t=f(t,r,i,a,e[u+12],6,1700485571),a=f(a,t,r,i,e[u+3],10,-1894986606),i=f(i,a,t,r,e[u+10],15,-1051523),r=f(r,i,a,t,e[u+1],21,-2054922799),t=f(t,r,i,a,e[u+8],6,1873313359),a=f(a,t,r,i,e[u+15],10,-30611744),i=f(i,a,t,r,e[u+6],15,-1560198380),r=f(r,i,a,t,e[u+13],21,1309151649),t=f(t,r,i,a,e[u+4],6,-145523070),a=f(a,t,r,i,e[u+11],10,-1120210379),i=f(i,a,t,r,e[u+2],15,718787259),r=f(r,i,a,t,e[u+9],21,-343485551),t=s(t,o),r=s(r,l),i=s(i,d),a=s(a,h)}return[t,r,i,a]}function h(e){var n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.Hex)||r.Base64,t=d(u(e),e.length*i);switch(n){case r.Raw:return t;case r.Hex:return function(e){for(var n="0123456789abcdef",t=[],r=0,i=4*e.length;r<i;r++)t.push(n.charAt(e[r>>2]>>r%4*8+4&15)+n.charAt(e[r>>2]>>r%4*8&15));return t.join("")}(t);case r.String:return o(t);case r.Base64:return function(e){for(var n=[],t=0,r=4*e.length;t<r;t+=3)for(var i=(e[t>>2]>>t%4*8&255)<<16|(e[t+1>>2]>>(t+1)%4*8&255)<<8|e[t+2>>2]>>(t+2)%4*8&255,a=0;a<4;a++)8*t+6*a>32*e.length?n.push("="):n.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>6*(3-a)&63));return n.join("")}(t)}}},67040:function(e,n,t){t.d(n,{Z:function(){return h}});var r,i=t(15671),a=t(43144),s=t(60136),u=t(29388),o=t(27366),l=t(46784),c=t(84652),p=t(49861),v=(t(25243),t(69912)),f=t(3664),d=r=function(e){(0,s.Z)(t,e);var n=(0,u.Z)(t);function t(e){var r;return(0,i.Z)(this,t),(r=n.call(this,e)).isAutoGenerated=!1,r.name=null,r.alias=null,r.onStatisticField=null,r.onStatisticExpression=null,r.statisticType=null,r}return(0,a.Z)(t,[{key:"clone",value:function(){return new r({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:(0,c.d9)(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}}]),t}(l.wq);(0,o._)([(0,p.Cb)({type:Boolean,json:{write:!0}})],d.prototype,"isAutoGenerated",void 0),(0,o._)([(0,p.Cb)({type:String,json:{write:!0}})],d.prototype,"name",void 0),(0,o._)([(0,p.Cb)({type:String,json:{write:!0}})],d.prototype,"alias",void 0),(0,o._)([(0,p.Cb)({type:String,json:{write:!0}})],d.prototype,"onStatisticField",void 0),(0,o._)([(0,p.Cb)({type:f.Z,json:{write:!0}})],d.prototype,"onStatisticExpression",void 0),(0,o._)([(0,p.Cb)({type:String,json:{write:!0}})],d.prototype,"statisticType",void 0);var h=d=r=(0,o._)([(0,v.j)("esri.layers.support.AggregateField")],d)},3664:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(43144),i=t(15671),a=t(60136),s=t(29388),u=t(27366),o=t(11582),l=t(46784),c=t(49861),p=(t(25243),t(63780),t(93169),t(69912)),v=function(e){(0,a.Z)(t,e);var n=(0,s.Z)(t);function t(e){var r;return(0,i.Z)(this,t),(r=n.call(this,e)).expression=null,r.title=null,r.returnType=null,r}return(0,r.Z)(t)}((0,o.J)(l.wq));(0,u._)([(0,c.Cb)({type:String,json:{write:!0}})],v.prototype,"expression",void 0),(0,u._)([(0,c.Cb)({type:String,json:{write:!0}})],v.prototype,"title",void 0),(0,u._)([(0,c.Cb)({type:String,json:{write:!0}})],v.prototype,"returnType",void 0);var f=v=(0,u._)([(0,p.j)("esri.layers.support.ExpressionInfo")],v)},20478:function(e,n,t){t.d(n,{aV:function(){return A},S1:function(){return V},os:function(){return j},st:function(){return k},yR:function(){return R}});var r,i=t(4942),a=t(1413),s=t(37762),u=t(10064),o=t(93169),l=t(32718),c=t(9997),p=t(67040),v=t(3664),f=t(25472),d=t(17590),h=t(53896),m=t(15671),y=t(43144),g=t(60136),b=t(29388),x=t(27366),w=t(84652),_=t(49861),S=(t(25243),t(69912)),Z=t(31201),E=t(80724),z=r=function(e){(0,g.Z)(t,e);var n=(0,b.Z)(t);function t(){return(0,m.Z)(this,t),n.apply(this,arguments)}return(0,y.Z)(t,[{key:"writeLevels",value:function(e,n,t){for(var r in e){var i=this.levels[r];return void(n.stops=i)}}},{key:"clone",value:function(){return new r({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:(0,E.iY)(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:(0,E.iY)(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map((function(e){return e.clone()})),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone(),levels:(0,w.d9)(this.levels)})}}]),t}(d.Z);(0,x._)([(0,_.Cb)()],z.prototype,"levels",void 0),(0,x._)([(0,Z.c)("levels")],z.prototype,"writeLevels",null),z=r=(0,x._)([(0,S.j)("esri.views.2d.engine.LevelDependentSizeVariable")],z);var C=l.Z.getLogger("esri.views.2d.layers.support.clusterUtils");o.Z.add("esri-cluster-arcade-enabled",!0);var F=(0,o.Z)("esri-cluster-arcade-enabled"),V=function(e,n,t,r,i){var a=n.clone();if(!R(a))return a;if(a.authoringInfo||(a.authoringInfo=new f.Z),a.authoringInfo.isAutoGenerated=!0,"visualVariables"in a){var u=(a.visualVariables||[]).filter((function(e){return"$view.scale"!==e.valueExpression})),o=j(u);u.forEach((function(n){"rotation"===n.type?n.field?n.field=L(e,n.field,"avg_angle","number"):n.valueExpression&&(n.field=G(e,n.valueExpression,"avg_angle","number"),n.valueExpression=null):n.normalizationField?(n.field=L(e,n.field,"avg_norm","number",n.normalizationField),n.normalizationField=null):n.field?n.field=L(e,n.field,"avg","number"):n.valueExpression&&(n.field=G(e,n.valueExpression,"avg","number"),n.valueExpression=null)})),null==o&&!T(u)&&i&&(u.push(A(t,r)),a.dynamicClusterSize=!0),a.visualVariables=u}switch(a.type){case"simple":break;case"pie-chart":var l,c=(0,s.Z)(a.attributes);try{for(c.s();!(l=c.n()).done;){var p=l.value;p.field?p.field=L(e,p.field,"sum","number"):p.valueExpression&&(p.field=G(e,p.valueExpression,"sum","number"),p.valueExpression=null)}}catch(v){c.e(v)}finally{c.f()}break;case"unique-value":a.field?a.field=L(e,a.field,"mode","string"):a.valueExpression&&(a.field=G(e,a.valueExpression,"mode","string"),a.valueExpression=null);break;case"class-breaks":a.normalizationField?(a.field=L(e,a.field,"avg_norm","number",a.normalizationField),a.normalizationField=null):a.field?a.field=L(e,a.field,"avg","number"):a.valueExpression&&(a.field=G(e,a.valueExpression,"avg","number"),a.valueExpression=null)}return a},j=function(e){var n,t=(0,s.Z)(e);try{for(t.s();!(n=t.n()).done;){var r=n.value;if("size"===r.type)return r}}catch(i){t.e(i)}finally{t.f()}return null};function k(e,n,t){var r=e.clone(),i=!1;if("visualVariables"in r){var a=(r.visualVariables||[]).filter((function(e){return"$view.scale"!==e.valueExpression}));null==j(a)&&(r.visualVariables||(r.visualVariables=[]),r.visualVariables.push(A(n,t)),r.dynamicClusterSize=!0,i=!0)}return{renderer:r,didInject:i}}var T=function(e){var n,t=(0,s.Z)(e);try{for(t.s();!(n=t.n()).done;){if("cluster_count"===n.value.field)return!0}}catch(r){t.e(r)}finally{t.f()}return!1},A=function(e,n){var t=[new h.Z({value:0,size:0}),new h.Z({value:1})];if(null==n)return new d.Z({field:"cluster_count",stops:[].concat(t,[new h.Z({value:2,size:0})])});var r=Object.keys(n).reduce((function(r,s){return(0,a.Z)((0,a.Z)({},r),{},(0,i.Z)({},s,[].concat(t,[new h.Z({value:Math.max(2,n[s].minValue),size:e.clusterMinSize}),new h.Z({value:Math.max(3,n[s].maxValue),size:e.clusterMaxSize})])))}),{});return new z({field:"cluster_count",levels:r})},R=function(e){var n=function(n){return C.error(new u.Z("Unsupported-renderer",n,{renderer:e}))};if(!e)return!1;switch(e.type){case"unique-value":if(e.field2||e.field3)return n("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case"class-breaks":if(e.normalizationField){var t=e.normalizationType;if("field"!==t)return n("FeatureReductionCluster does not support a normalizationType of ".concat(t)),!1}break;case"simple":case"pie-chart":break;default:return n("FeatureReductionCluster does not support renderers of type ".concat(e.type)),!1}if(!F){if("valueExpression"in e&&e.valueExpression)return n("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in e&&e.visualVariables||[]).some((function(e){return!(!("valueExpression"in e)||!e.valueExpression)})))return n("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};function G(e,n,t,r){var i=(0,c.F)(n),a="mode"===t?"cluster_type_".concat(i):"sum"===t?"cluster_sum_".concat(i):"cluster_avg_".concat(i);return e.some((function(e){return e.name===a}))||e.push(new p.Z({name:a,isAutoGenerated:!0,onStatisticExpression:new v.Z({expression:n,returnType:r}),statisticType:t})),a}function L(e,n,t,r,i){if("cluster_count"===n||e.some((function(e){return e.name===n})))return n;var a=function(e,n,t){switch(e){case"sum":return"cluster_sum_".concat(n);case"avg":case"avg_angle":return"cluster_avg_".concat(n);case"mode":return"cluster_type_".concat(n);case"avg_norm":var r=t,i=n.toLowerCase()+",norm:field,"+r.toLowerCase();return"cluster_avg_"+(0,c.F)(i)}}(t,n,i);return e.some((function(e){return e.name===a}))||("avg_norm"===t?e.push(new p.Z({name:a,isAutoGenerated:!0,onStatisticExpression:new v.Z({expression:"$feature.".concat(n," / $feature.").concat(i),returnType:r}),statisticType:"avg"})):e.push(new p.Z({name:a,isAutoGenerated:!0,onStatisticField:n,statisticType:t}))),a}}}]);
//# sourceMappingURL=478.d3904e47.chunk.js.map