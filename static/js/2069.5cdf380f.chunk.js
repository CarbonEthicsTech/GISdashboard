"use strict";(self.webpackChunkgis_dashboard=self.webpackChunkgis_dashboard||[]).push([[2069],{67077:function(t,n,r){function e(){return[0,0,0,0]}function a(t,n,r,e){return[t,n,r,e]}function i(t,n){return new Float64Array(t,n,4)}function u(){return[0,0,0,0]}function o(){return a(1,1,1,1)}function f(){return a(1,0,0,0)}function c(){return a(0,1,0,0)}function h(){return a(0,0,1,0)}function s(){return a(0,0,0,1)}r.d(n,{a:function(){return i},c:function(){return e},f:function(){return a}});var d=[0,0,0,0],l=o(),y=f(),v=c(),p=h(),g=s();Object.freeze(Object.defineProperty({__proto__:null,ONES:l,UNIT_W:g,UNIT_X:y,UNIT_Y:v,UNIT_Z:p,ZEROS:d,clone:function(t){return[t[0],t[1],t[2],t[3]]},create:e,createView:i,fromArray:function(t){for(var n=[0,0,0,0],r=Math.min(4,t.length),e=0;e<r;++e)n[e]=t[e];return n},fromValues:a,ones:o,unitW:s,unitX:f,unitY:c,unitZ:h,zeros:u},Symbol.toStringTag,{value:"Module"}))},27811:function(t,n,r){r.d(n,{AJ:function(){return h},If:function(){return v},QM:function(){return l},hy:function(){return y},k0:function(){return c},nu:function(){return f},uI:function(){return d},wx:function(){return p}});var e=r(37762),a=r(16889),i=r(17842),u=r(90045),o=r(67077),f=2.4;function c(t){return(0,i.Wz)(t*f)}function h(t){return(0,i.F2)(t)/f}function s(t,n,r,e){var i=n.color,o=n.ratio,f=r.color,c=r.ratio;if(c===o){var h=1e-6;1===c?o-=h:c+=h}var s=(0,a.uZ)((e-o)/(c-o),0,1);(0,u.l)(t,i.toArray(),f.toArray(),s)}function d(t){var n=new Uint8ClampedArray(2048);if(t=t.filter((function(t){var n=t.ratio;return n>=0&&n<=1})).sort((function(t,n){return t.ratio-n.ratio})).map((function(t){var n=t.color,r=t.ratio;return{color:n,ratio:Math.max(r,.001)}})),t.length<1)return n;for(var r=t[0],e=t[0],a=1,i=(0,o.c)(),u=0;u<512;u++){for(var f=(u+.5)/512;f>e.ratio&&a<t.length;)r=e,e=t[a++];s(i,r,e,f),n.set(i,4*u)}return n}function l(t,n,r,a){var u,o,f=n.radius,c=n.fieldOffset,h=n.field,s=Math.round((0,i.F2)(f)),d=new Float64Array(r*a),l=Number.NEGATIVE_INFINITY,y=function(t,n){return null!=t?"string"==typeof n?function(n){return-1*+n.readAttribute(t)}:function(r){return+r.readAttribute(t)+n}:function(t){return 1}}(h,c),p=new Set,g=(0,e.Z)(t);try{for(g.s();!(o=g.n()).done;)for(var m=o.value.getCursor();m.next();){var w=m.getObjectId();if(!p.has(w)){p.add(w);var b=m.readLegacyPointGeometry(),_=128;if(!(b.x<-_||b.x>=r+_||b.y<-_||b.y>a+_))for(var M=+y(m),A=Math.max(0,Math.round(b.x)-s),C=Math.max(0,Math.round(b.y)-s),Z=Math.min(a,Math.round(b.y)+s),k=Math.min(r,Math.round(b.x)+s),I=C;I<Z;I++)for(var U=A;U<k;U++){var x=I*r+U,N=v(b.x-U,b.y-I,s);(u=d[x]+=N*M)>l&&(l=u)}}}}catch(D){g.e(D)}finally{g.f()}return{matrix:d.buffer,max:l}}function y(t,n,r,e,i,u){t.canvas.width=t.canvas.height=n,t.clearRect(0,0,n,n);var o=t.getImageData(0,0,n,n);r&&e&&o.data.set(new Uint8ClampedArray(function(t,n,r,e,i){for(var u=new Uint32Array(t*t),o=("buffer"in n?n:new Float64Array(n)),f=("buffer"in r?new Uint32Array(r.buffer):new Uint32Array(new Uint8Array(r).buffer)),c=f.length/(i-e),h=0;h<o.length;h++){var s=o[h],d=Math.floor((s-e)*c);u[h]=f[(0,a.uZ)(d,0,f.length-1)]}return u.buffer}(n,r,e,i,u))),t.putImageData(o,0,0)}function v(t,n,r){var e=Math.sqrt(Math.pow(t,2)+Math.pow(n,2))/r;return e>1?0:3/(Math.PI*Math.pow(r,2))*Math.pow(1-Math.pow(e,2),2)}function p(t,n){return"function"==typeof t?t:t?"string"==typeof n?function(n){return-1*+n[t]}:function(r){return+r[t]+n}:function(){return 1}}},52662:function(t,n,r){r.r(n),r.d(n,{default:function(){return w}});var e=r(74165),a=r(15861),i=r(15671),u=r(43144),o=r(60136),f=r(29388),c=r(27366),h=r(32718),s=r(66978),d=r(49861),l=(r(25243),r(63780),r(93169),r(69912)),y=r(90110),v=r(95986),p=r(9229),g=r(67581),m=function(t){(0,o.Z)(r,t);var n=(0,f.Z)(r);function r(){return(0,i.Z)(this,r),n.apply(this,arguments)}return(0,u.Z)(r,[{key:"update",value:function(t){var n=this;this._strategy.update(t).catch((function(t){(0,s.D_)(t)||h.Z.getLogger(n).error(t)})),this.notifyChange("updating")}},{key:"attach",value:function(){this._bitmapContainer=new y.c,this.container.addChild(this._bitmapContainer),this._strategy=new p.Z({container:this._bitmapContainer,fetchSource:this.fetchBitmapData.bind(this),requestUpdate:this.requestUpdate.bind(this)})}},{key:"detach",value:function(){this._strategy.destroy(),this._strategy=null,this.container.removeChild(this._bitmapContainer),this._bitmapContainer.removeAllChildren()}},{key:"moveStart",value:function(){}},{key:"viewChange",value:function(){}},{key:"moveEnd",value:function(){this.requestUpdate()}},{key:"fetchBitmapData",value:function(t,n,r){return this.layer.fetchImageBitmap(t,n,r)}},{key:"doRefresh",value:function(){var t=(0,a.Z)((0,e.Z)().mark((function t(){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.requestUpdate();case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"isUpdating",value:function(){return this._strategy.updating||this.updateRequested}}]),r}((0,r(13107).Z)((0,v.y)(g.Z)));(0,c._)([(0,d.Cb)()],m.prototype,"_strategy",void 0),(0,c._)([(0,d.Cb)()],m.prototype,"updating",void 0);var w=m=(0,c._)([(0,l.j)("esri.views.2d.layers.BaseDynamicLayerView2D")],m)}}]);
//# sourceMappingURL=2069.5cdf380f.chunk.js.map