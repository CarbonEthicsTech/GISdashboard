{"version":3,"file":"static/js/3220.7c958a8d.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/vec4f64.js","../node_modules/@arcgis/core/renderers/support/heatmapUtils.js","../node_modules/@arcgis/core/views/2d/layers/features/processors/BaseProcessor.js","../node_modules/@arcgis/core/views/2d/layers/features/processors/HeatmapProcessor.js","../node_modules/@arcgis/core/views/2d/layers/features/support/tileUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nfunction n(){return[0,0,0,0]}function t(n){return[n[0],n[1],n[2],n[3]]}function r(n,t,r,e){return[n,t,r,e]}function e(t){const r=n(),e=Math.min(4,t.length);for(let n=0;n<e;++n)r[n]=t[n];return r}function u(n,t){return new Float64Array(n,t,4)}function a(){return n()}function o(){return r(1,1,1,1)}function s(){return r(1,0,0,0)}function i(){return r(0,1,0,0)}function c(){return r(0,0,1,0)}function f(){return r(0,0,0,1)}const l=a(),_=o(),N=s(),O=i(),T=c(),U=f(),b=Object.freeze(Object.defineProperty({__proto__:null,ONES:_,UNIT_W:U,UNIT_X:N,UNIT_Y:O,UNIT_Z:T,ZEROS:l,clone:t,create:n,createView:u,fromArray:e,fromValues:r,ones:o,unitW:f,unitX:s,unitY:i,unitZ:c,zeros:a},Symbol.toStringTag,{value:\"Module\"}));export{_ as O,N as U,l as Z,u as a,e as b,n as c,t as d,i as e,r as f,c as g,f as h,O as i,T as j,U as k,o,s as u,b as v,a as z};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../core/mathUtils.js\";import{px2pt as r,pt2px as n}from\"../../core/screenUtils.js\";import{l as o}from\"../../chunks/vec4.js\";import{c as e}from\"../../chunks/vec4f64.js\";const a=2.4;function i(t){return r(t*a)}function c(t){return n(t)/a}function f(r,n,e,a){let{color:i,ratio:c}=n,{color:f,ratio:u}=e;if(u===c){const t=1e-6;1===u?c-=t:u+=t}const s=t((a-c)/(u-c),0,1);o(r,i.toArray(),f.toArray(),s)}function u(t){const r=512,n=new Uint8ClampedArray(4*r);if(t=t.filter((({ratio:t})=>t>=0&&t<=1)).sort(((t,r)=>t.ratio-r.ratio)).map((({color:t,ratio:r})=>({color:t,ratio:Math.max(r,.001)}))),t.length<1)return n;let o=t[0],a=t[0],i=1;const c=e();for(let e=0;e<r;e++){const u=(e+.5)/r;for(;u>a.ratio&&i<t.length;)o=a,a=t[i++];f(c,o,a,u),n.set(c,4*e)}return n}function s(t,r,o,e){const{radius:a,fieldOffset:i,field:c}=r,f=Math.round(n(a)),u=new Float64Array(o*e);let s,l=Number.NEGATIVE_INFINITY;const h=d(c,i),y=new Set;for(const n of t){const t=n.getCursor();for(;t.next();){const r=t.getObjectId();if(y.has(r))continue;y.add(r);const n=t.readLegacyPointGeometry(),a=128;if(n.x<-a||n.x>=o+a||n.y<-a||n.y>e+a)continue;const i=+h(t),c=Math.max(0,Math.round(n.x)-f),d=Math.max(0,Math.round(n.y)-f),g=Math.min(e,Math.round(n.y)+f),A=Math.min(o,Math.round(n.x)+f);for(let t=d;t<g;t++)for(let r=c;r<A;r++){const e=t*o+r,a=m(n.x-r,n.y-t,f);s=u[e]+=a*i,s>l&&(l=s)}}}return{matrix:u.buffer,max:l}}function l(t,r,n,o,e,a){t.canvas.width=t.canvas.height=r,t.clearRect(0,0,r,r);const i=t.getImageData(0,0,r,r);n&&o&&i.data.set(new Uint8ClampedArray(h(r,n,o,e,a))),t.putImageData(i,0,0)}function h(r,n,o,e,a){const i=new Uint32Array(r*r),c=\"buffer\"in n?n:new Float64Array(n),f=\"buffer\"in o?new Uint32Array(o.buffer):new Uint32Array(new Uint8Array(o).buffer),u=f.length/(a-e);for(let s=0;s<c.length;s++){const r=c[s],n=Math.floor((r-e)*u);i[s]=f[t(n,0,f.length-1)]}return i.buffer}function m(t,r,n){const o=Math.sqrt(t**2+r**2)/n;return o>1?0:3/(Math.PI*n**2)*(1-o**2)**2}function y(t,r){return\"function\"==typeof t?t:t?\"string\"==typeof r?r=>-1*+r[t]:n=>+n[t]+r:()=>1}function d(t,r){return null!=t?\"string\"==typeof r?r=>-1*+r.readAttribute(t):n=>+n.readAttribute(t)+r:t=>1}export{a as MAGIC_KERNEL_DENSITY_RADIUS_INFLATION_FACTOR,s as calculateHeatmapIntensityInfoReaders,h as createHeatmapImageData,y as createValueFunction,d as createValueFunctionCursor,l as drawHeatmap,m as evaluateDensityKernel,i as gaussianBlurRadiusPxToKernelDensityRadiusPt,u as generateGradient,c as kernelDensityRadiusPtToGaussianBlurRadiusPx};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{HandleOwner as r}from\"../../../../../core/HandleOwner.js\";import{property as t}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import{subclass as o}from\"../../../../../core/accessorSupport/decorators/subclass.js\";let s=class extends r{initialize(){}destroy(){}get supportsTileUpdates(){return!1}get spatialReference(){const e=this.get(\"tileStore.tileScheme.spatialReference\");return e&&e.toJSON()||null}};e([t({readOnly:!0})],s.prototype,\"supportsTileUpdates\",null),e([t({constructOnly:!0})],s.prototype,\"remoteClient\",void 0),e([t({constructOnly:!0})],s.prototype,\"service\",void 0),e([t()],s.prototype,\"spatialReference\",null),e([t({constructOnly:!0})],s.prototype,\"tileInfo\",void 0),e([t({constructOnly:!0})],s.prototype,\"tileStore\",void 0),s=e([o(\"esri.views.2d.layers.features.processors.BaseProcessor\")],s);const p=s;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import\"../../../../../core/has.js\";import{applySome as t}from\"../../../../../core/maybe.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/Error.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{diff as r}from\"../../../../../core/accessorSupport/diffUtils.js\";import{calculateHeatmapIntensityInfoReaders as i}from\"../../../../../renderers/support/heatmapUtils.js\";import{TILE_SIZE as o}from\"../../../engine/webgl/definitions.js\";import a from\"./BaseProcessor.js\";import{getPow2NeighborKey as n}from\"../support/tileUtils.js\";class d{constructor(e,t){this.offset=e,this.extent=t}}function l(e){const t=e.key,s=new Map,r=256,i=o,a=e.tileInfoView.tileInfo.isWrappable;return s.set(n(t,-1,-1,a).id,new d([-i,-i],[i-r,i-r,i,i])),s.set(n(t,0,-1,a).id,new d([0,-i],[0,i-r,i,i])),s.set(n(t,1,-1,a).id,new d([i,-i],[0,i-r,r,i])),s.set(n(t,-1,0,a).id,new d([-i,0],[i-r,0,i,i])),s.set(n(t,1,0,a).id,new d([i,0],[0,0,r,i])),s.set(n(t,-1,1,a).id,new d([-i,i],[i-r,0,i,r])),s.set(n(t,0,1,a).id,new d([0,i],[0,0,i,r])),s.set(n(t,1,1,a).id,new d([i,i],[0,0,r,r])),s}let p=class extends a{constructor(){super(...arguments),this.type=\"heatmap\",this._tileKeyToFeatureSets=new Map}initialize(){this.handles.add([this.tileStore.on(\"update\",this.onTileUpdate.bind(this))])}async update(e,t){const s=t.schema.processors[0];if(\"heatmap\"!==s.type)return;r(this._schema,s)&&(e.mesh=!0,this._schema=s)}onTileUpdate(e){for(const t of e.removed)this._tileKeyToFeatureSets.delete(t.key.id)}onTileClear(e){const t={clear:!0};return this._tileKeyToFeatureSets.delete(e.key.id),this.remoteClient.invoke(\"tileRenderer.onTileData\",{tileKey:e.id,data:t})}async onTileMessage(e,s,r){this._tileKeyToFeatureSets.has(e.key.id)||this._tileKeyToFeatureSets.set(e.key.id,new Map);const o=this._tileKeyToFeatureSets.get(e.key.id);if(o&&null!=s.addOrUpdate&&s.addOrUpdate.hasFeatures&&o.set(s.addOrUpdate.instance,s),s.end){const s=[],o=l(e);this._tileKeyToFeatureSets.forEach(((r,i)=>{if(i===e.key.id)r.forEach((e=>t(e.addOrUpdate,(e=>s.push(e)))));else if(o.has(i)){const e=o.get(i),[a,n]=e.offset;r.forEach((e=>t(e.addOrUpdate,(e=>{const t=e.transform(a,n,1,1);s.push(t)}))))}}));const a=i(s,this._schema.mesh,512,512),n={tileKey:e.key.id,intensityInfo:a},d=[a.matrix];return this.remoteClient.invoke(\"tileRenderer.onTileData\",n,{...r,transferList:d})}}onTileError(e,t,s){return this.remoteClient.invoke(\"tileRenderer.onTileError\",{tileKey:e.id,error:t},s)}};p=e([s(\"esri.views.2d.layers.features.processors.HeatmapProcessor\")],p);const c=p;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nfunction o(o,l,c,r){const e=o.clone(),n=1<<e.level,t=e.col+l,w=e.row+c;return r&&t<0?(e.col=t+n,e.world-=1):t>=n?(e.col=t-n,e.world+=1):e.col=t,e.row=w,e}export{o as getPow2NeighborKey};\n"],"names":["n","r","t","e","u","Float64Array","a","o","s","i","c","f","l","_","N","O","T","U","Object","freeze","defineProperty","__proto__","ONES","UNIT_W","UNIT_X","UNIT_Y","UNIT_Z","ZEROS","clone","create","createView","fromArray","Math","min","length","fromValues","ones","unitW","unitX","unitY","unitZ","zeros","Symbol","toStringTag","value","color","ratio","toArray","Uint8ClampedArray","filter","_ref","sort","map","_ref2","max","set","_step","radius","fieldOffset","field","round","Number","NEGATIVE_INFINITY","h","readAttribute","d","y","Set","_iterator","_createForOfIteratorHelper","done","getCursor","next","getObjectId","has","add","readLegacyPointGeometry","x","g","A","m","err","matrix","buffer","canvas","width","height","clearRect","getImageData","data","Uint32Array","Uint8Array","floor","putImageData","sqrt","pow","PI","_r","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","key","get","this","toJSON","readOnly","prototype","constructOnly","p","offset","extent","Map","tileInfoView","tileInfo","isWrappable","id","_a","_this","type","_tileKeyToFeatureSets","handles","tileStore","on","onTileUpdate","bind","_update","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","schema","processors","abrupt","_schema","mesh","stop","_x","_x2","removed","delete","remoteClient","invoke","tileKey","clear","_onTileMessage","_callee2","_s","_o","_a3","_n2","_d","_context2","addOrUpdate","hasFeatures","instance","end","forEach","push","_e$offset","_slicedToArray","transform","intensityInfo","_objectSpread","transferList","_x3","_x4","_x5","error","level","col","w","row","world"],"sourceRoot":""}