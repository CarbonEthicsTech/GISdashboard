{"version":3,"file":"static/js/8980.46dbf374.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/vec4f64.js","../node_modules/@arcgis/core/layers/support/ExportWMSImageParameters.js","../node_modules/@arcgis/core/layers/support/commonProperties.js","../node_modules/@arcgis/core/support/timeUtils.js","../node_modules/@arcgis/core/renderers/support/heatmapUtils.js","../node_modules/@arcgis/core/views/2d/layers/WMSLayerView2D.js","../node_modules/@arcgis/core/views/layers/WMSLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nfunction n(){return[0,0,0,0]}function t(n){return[n[0],n[1],n[2],n[3]]}function r(n,t,r,e){return[n,t,r,e]}function e(t){const r=n(),e=Math.min(4,t.length);for(let n=0;n<e;++n)r[n]=t[n];return r}function u(n,t){return new Float64Array(n,t,4)}function a(){return n()}function o(){return r(1,1,1,1)}function s(){return r(1,0,0,0)}function i(){return r(0,1,0,0)}function c(){return r(0,0,1,0)}function f(){return r(0,0,0,1)}const l=a(),_=o(),N=s(),O=i(),T=c(),U=f(),b=Object.freeze(Object.defineProperty({__proto__:null,ONES:_,UNIT_W:U,UNIT_X:N,UNIT_Y:O,UNIT_Z:T,ZEROS:l,clone:t,create:n,createView:u,fromArray:e,fromValues:r,ones:o,unitW:f,unitX:s,unitY:i,unitZ:c,zeros:a},Symbol.toStringTag,{value:\"Module\"}));export{_ as O,N as U,l as Z,u as a,e as b,n as c,t as d,i as e,r as f,c as g,f as h,O as i,T as j,U as k,o,s as u,b as v,a as z};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Accessor.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";const a={visible:\"visibleSublayers\"};let l=class extends(s(r)){constructor(e){super(e),this.scale=0}set layer(e){this._get(\"layer\")!==e&&(this._set(\"layer\",e),this.handles.remove(\"layer\"),e&&this.handles.add([e.sublayers.on(\"change\",(()=>this.notifyChange(\"visibleSublayers\"))),e.on(\"wms-sublayer-update\",(e=>this.notifyChange(a[e.propertyName])))],\"layer\"))}get layers(){return this.visibleSublayers.filter((({name:e})=>e)).map((({name:e})=>e)).join()}get version(){this.commitProperty(\"layers\");const e=this.layer;return e&&e.commitProperty(\"imageTransparency\"),(this._get(\"version\")||0)+1}get visibleSublayers(){const{layer:e,scale:r}=this,s=e?.sublayers,t=[],o=e=>{const{minScale:s,maxScale:a,sublayers:l,visible:i}=e;i&&(0===r||(0===s||r<=s)&&(0===a||r>=a))&&(l?l.forEach(o):t.push(e))};return s?.forEach(o),t}toJSON(){const{layer:e,layers:r}=this,{imageFormat:s,imageTransparency:t,version:o}=e;return{format:s,request:\"GetMap\",service:\"WMS\",styles:\"\",transparent:t?\"TRUE\":\"FALSE\",version:o,layers:r}}};e([t()],l.prototype,\"layer\",null),e([t({readOnly:!0})],l.prototype,\"layers\",null),e([t({type:Number})],l.prototype,\"scale\",void 0),e([t({readOnly:!0})],l.prototype,\"version\",null),e([t({readOnly:!0})],l.prototype,\"visibleSublayers\",null),l=e([o(\"esri.layers.support.ExportWMSImageParameters\")],l);export{l as ExportWMSImageParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../TimeExtent.js\";import r from\"../../geometry/Extent.js\";import i from\"../../geometry/SpatialReference.js\";import{w as n}from\"../../chunks/persistableUrlUtils.js\";import{toLocalTimeExtent as t,toUTCTimeExtent as o}from\"../../support/timeUtils.js\";import a from\"../../symbols/support/ElevationInfo.js\";import{transparencyToOpacity as s}from\"../../webdoc/support/opacityUtils.js\";const l={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},\"web-map\":{read:!1,write:!1}},name:\"screenSizePerspective\",write:!0}},p={type:Boolean,value:!0,json:{name:\"disablePopup\",read:{reader:(e,r)=>!r.disablePopup},write:{enabled:!0,writer(e,r,i){r[i]=!e}}}},m={type:Boolean,value:!0,nonNullable:!0,json:{name:\"showLabels\",write:!0}},f={type:String,json:{origins:{\"portal-item\":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:n}}},c={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:\"showLegend\",write:!0}},d={value:null,type:a,json:{origins:{service:{name:\"elevationInfo\",write:!0}},name:\"layerDefinition.elevationInfo\",write:!0}};function y(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const w={write:!0,read:!0},u={type:Number,json:{origins:{\"web-document\":w,\"portal-item\":{write:!0}}}},g={...u,json:{...u.json,origins:{\"web-document\":{...w,write:{enabled:!0,target:{opacity:{type:Number},\"layerDefinition.drawingInfo.transparency\":{type:Number}}}}},read:{source:[\"layerDefinition.drawingInfo.transparency\",\"drawingInfo.transparency\"],reader:(e,r,i)=>i&&\"service\"!==i.origin||!r.drawingInfo||void 0===r.drawingInfo.transparency?r.layerDefinition&&r.layerDefinition.drawingInfo&&void 0!==r.layerDefinition.drawingInfo.transparency?s(r.layerDefinition.drawingInfo.transparency):void 0:s(r.drawingInfo.transparency)}}},b={type:e,readOnly:!0,get(){if(!this.layer?.timeInfo)return null;const{datesInUnknownTimezone:e,timeOffset:r,useViewTime:i}=this.layer,n=this.view?.timeExtent;let a=this.layer.timeExtent;e&&(a=t(a));let s=i?n&&a?n.intersection(a):n||a:a;if(!s||s.isEmpty||s.isAllTime)return s;r&&(s=s.offset(-r.value,r.unit)),e&&(s=o(s));const l=this._get(\"timeExtent\");return s.equals(l)?l:s}},j={type:r,readOnly:!0,json:{origins:{service:{read:{source:[\"fullExtent\",\"spatialReference\"],reader:(e,n)=>{const t=r.fromJSON(e);return null!=n.spatialReference&&\"object\"==typeof n.spatialReference&&(t.spatialReference=i.fromJSON(n.spatialReference)),t}}}},read:!1}},v={type:String,json:{origins:{service:{read:!1},\"portal-item\":{read:!1}}}},I={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:\"layerDefinition.minScale\"},write:{target:\"layerDefinition.minScale\"}}},D={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:\"layerDefinition.maxScale\"},write:{target:\"layerDefinition.maxScale\"}}},S={json:{write:{ignoreOrigin:!0},origins:{\"web-map\":{read:!1,write:!1}}}};export{b as combinedViewLayerTimeExtentProperty,d as elevationInfo,v as id,m as labelsVisible,c as legendEnabled,S as listMode,D as maxScale,I as minScale,u as opacity,g as opacityDrawingInfo,p as popupEnabled,y as readOnlyService,j as sceneLayerFullExtent,l as screenSizePerspectiveEnabled,f as url};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport t from\"../TimeExtent.js\";import{isSome as e}from\"../core/arrayUtils.js\";import{eachAlways as n}from\"../core/promiseUtils.js\";import{offsetDate as i}from\"../core/timeUtils.js\";function r(t){return void 0!==t.timeInfo}async function o(i,o){if(0===i.length)return t.allTime;const m=i.filter(r);await Promise.all(m.map((t=>t.load({signal:o}))));const s=[],l=[];for(const t of m)\"feature\"!==t?.type&&\"map-image\"!==t?.type||!t.timeInfo?.hasLiveData?l.push(t):s.push(t);const f=t=>null==t||t.isAllTime,a=l.map((t=>t.timeInfo?.fullTimeExtent));if(a.some(f))return t.allTime;const u=s.map((async t=>{const{timeExtent:e}=await t.fetchRecomputedExtents({signal:o});return e||t.timeInfo?.fullTimeExtent})),c=(await n(u)).map((t=>t.value));if(c.some(f))return t.allTime;return[...c,...a].filter(e).reduce(((t,e)=>t.union(e)))}function m(e){if(!e)return e;const{start:n,end:r}=e;return new t({start:null!=n?i(n,-n.getTimezoneOffset(),\"minutes\"):n,end:null!=r?i(r,-r.getTimezoneOffset(),\"minutes\"):r})}function s(e){if(!e)return e;const{start:n,end:r}=e;return new t({start:null!=n?i(n,n.getTimezoneOffset(),\"minutes\"):n,end:null!=r?i(r,r.getTimezoneOffset(),\"minutes\"):r})}export{o as getTimeExtentFromLayers,s as toLocalTimeExtent,m as toUTCTimeExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../core/mathUtils.js\";import{px2pt as r,pt2px as n}from\"../../core/screenUtils.js\";import{l as o}from\"../../chunks/vec4.js\";import{c as e}from\"../../chunks/vec4f64.js\";const a=2.4;function i(t){return r(t*a)}function c(t){return n(t)/a}function f(r,n,e,a){let{color:i,ratio:c}=n,{color:f,ratio:u}=e;if(u===c){const t=1e-6;1===u?c-=t:u+=t}const s=t((a-c)/(u-c),0,1);o(r,i.toArray(),f.toArray(),s)}function u(t){const r=512,n=new Uint8ClampedArray(4*r);if(t=t.filter((({ratio:t})=>t>=0&&t<=1)).sort(((t,r)=>t.ratio-r.ratio)).map((({color:t,ratio:r})=>({color:t,ratio:Math.max(r,.001)}))),t.length<1)return n;let o=t[0],a=t[0],i=1;const c=e();for(let e=0;e<r;e++){const u=(e+.5)/r;for(;u>a.ratio&&i<t.length;)o=a,a=t[i++];f(c,o,a,u),n.set(c,4*e)}return n}function s(t,r,o,e){const{radius:a,fieldOffset:i,field:c}=r,f=Math.round(n(a)),u=new Float64Array(o*e);let s,l=Number.NEGATIVE_INFINITY;const h=d(c,i),y=new Set;for(const n of t){const t=n.getCursor();for(;t.next();){const r=t.getObjectId();if(y.has(r))continue;y.add(r);const n=t.readLegacyPointGeometry(),a=128;if(n.x<-a||n.x>=o+a||n.y<-a||n.y>e+a)continue;const i=+h(t),c=Math.max(0,Math.round(n.x)-f),d=Math.max(0,Math.round(n.y)-f),g=Math.min(e,Math.round(n.y)+f),A=Math.min(o,Math.round(n.x)+f);for(let t=d;t<g;t++)for(let r=c;r<A;r++){const e=t*o+r,a=m(n.x-r,n.y-t,f);s=u[e]+=a*i,s>l&&(l=s)}}}return{matrix:u.buffer,max:l}}function l(t,r,n,o,e,a){t.canvas.width=t.canvas.height=r,t.clearRect(0,0,r,r);const i=t.getImageData(0,0,r,r);n&&o&&i.data.set(new Uint8ClampedArray(h(r,n,o,e,a))),t.putImageData(i,0,0)}function h(r,n,o,e,a){const i=new Uint32Array(r*r),c=\"buffer\"in n?n:new Float64Array(n),f=\"buffer\"in o?new Uint32Array(o.buffer):new Uint32Array(new Uint8Array(o).buffer),u=f.length/(a-e);for(let s=0;s<c.length;s++){const r=c[s],n=Math.floor((r-e)*u);i[s]=f[t(n,0,f.length-1)]}return i.buffer}function m(t,r,n){const o=Math.sqrt(t**2+r**2)/n;return o>1?0:3/(Math.PI*n**2)*(1-o**2)**2}function y(t,r){return\"function\"==typeof t?t:t?\"string\"==typeof r?r=>-1*+r[t]:n=>+n[t]+r:()=>1}function d(t,r){return null!=t?\"string\"==typeof r?r=>-1*+r.readAttribute(t):n=>+n.readAttribute(t)+r:t=>1}export{a as MAGIC_KERNEL_DENSITY_RADIUS_INFLATION_FACTOR,s as calculateHeatmapIntensityInfoReaders,h as createHeatmapImageData,y as createValueFunction,d as createValueFunctionCursor,l as drawHeatmap,m as evaluateDensityKernel,i as gaussianBlurRadiusPxToKernelDensityRadiusPt,u as generateGradient,c as kernelDensityRadiusPtToGaussianBlurRadiusPx};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Logger.js\";import{destroyMaybe as r}from\"../../../core/maybe.js\";import{isAbortError as i}from\"../../../core/promiseUtils.js\";import{watch as s}from\"../../../core/reactiveUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import p from\"../../../geometry/Extent.js\";import{BitmapContainer as n}from\"../engine/BitmapContainer.js\";import{LayerView2DMixin as m}from\"./LayerView2D.js\";import h from\"./support/ExportStrategy.js\";import c from\"../../layers/LayerView.js\";import d from\"../../layers/RefreshableLayerView.js\";import u from\"../../layers/WMSLayerView.js\";let y=class extends(u(d(m(c)))){constructor(){super(...arguments),this.bitmapContainer=new n}supportsSpatialReference(e){return this.layer.serviceSupportsSpatialReference(e)}update(e){this.strategy.update(e).catch((e=>{i(e)||t.getLogger(this).error(e)}))}attach(){const{layer:e}=this,{imageMaxHeight:t,imageMaxWidth:r}=e;this.bitmapContainer=new n,this.container.addChild(this.bitmapContainer),this.strategy=new h({container:this.bitmapContainer,fetchSource:this.fetchImage.bind(this),requestUpdate:this.requestUpdate.bind(this),imageMaxHeight:t,imageMaxWidth:r,imageRotationSupported:!1,imageNormalizationSupported:!1,hidpi:!1}),this.addAttachHandles(s((()=>this.exportImageVersion),(()=>this.requestUpdate())))}detach(){this.strategy=r(this.strategy),this.container.removeAllChildren()}moveStart(){}viewChange(){}moveEnd(){this.requestUpdate()}createFetchPopupFeaturesQuery(e){const{view:t,bitmapContainer:r}=this,{x:i,y:s}=e,{spatialReference:a}=t;let o,n=0,m=0;if(r.children.some((e=>{const{width:t,height:r,resolution:h,x:c,y:d}=e,u=c+h*t,y=d-h*r;return i>=c&&i<=u&&s<=d&&s>=y&&(o=new p({xmin:c,ymin:y,xmax:u,ymax:d,spatialReference:a}),n=t,m=r,!0)})),!o)return null;const h=o.width/n,c=Math.round((i-o.xmin)/h),d=Math.round((o.ymax-s)/h);return{extent:o,width:n,height:m,x:c,y:d}}async doRefresh(){this.requestUpdate()}isUpdating(){return this.strategy.updating||this.updateRequested}fetchImage(e,t,r,i){return this.layer.fetchImageBitmap(e,t,r,{timeExtent:this.timeExtent,...i})}};e([a()],y.prototype,\"strategy\",void 0),e([a()],y.prototype,\"updating\",void 0),y=e([o(\"esri.views.2d.layers.WMSLayerView2D\")],y);const g=y;export{g as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Error.js\";import{destroyMaybe as t}from\"../../core/maybe.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{combinedViewLayerTimeExtentProperty as p}from\"../../layers/support/commonProperties.js\";import{ExportWMSImageParameters as a}from\"../../layers/support/ExportWMSImageParameters.js\";const i=i=>{let m=class extends i{initialize(){this.exportImageParameters=new a({layer:this.layer})}destroy(){this.exportImageParameters=t(this.exportImageParameters)}get exportImageVersion(){return this.exportImageParameters?.commitProperty(\"version\"),this.commitProperty(\"timeExtent\"),(this._get(\"exportImageVersion\")||0)+1}fetchPopupFeatures(e){const{layer:t}=this;if(!e)return Promise.reject(new r(\"wmslayerview:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:t}));const{popupEnabled:o}=t;if(!o)return Promise.reject(new r(\"wmslayerview:fetchPopupFeatures\",\"popupEnabled should be true\",{popupEnabled:o}));const s=this.createFetchPopupFeaturesQuery(e);if(!s)return Promise.resolve([]);const{extent:p,width:a,height:i,x:m,y:n}=s;if(!(p&&a&&i))throw new r(\"wmslayerview:fetchPopupFeatures\",\"WMSLayer does not support fetching features.\",{extent:p,width:a,height:i});return t.fetchFeatureInfo(p,a,i,m,n)}};return e([o()],m.prototype,\"exportImageParameters\",void 0),e([o({readOnly:!0})],m.prototype,\"exportImageVersion\",null),e([o()],m.prototype,\"layer\",void 0),e([o(p)],m.prototype,\"timeExtent\",void 0),m=e([s(\"esri.layers.mixins.WMSLayerView\")],m),m};export{i as default};\n"],"names":["n","r","t","e","u","Float64Array","a","o","s","i","c","f","l","_","N","O","T","U","Object","freeze","defineProperty","__proto__","ONES","UNIT_W","UNIT_X","UNIT_Y","UNIT_Z","ZEROS","clone","create","createView","fromArray","Math","min","length","fromValues","ones","unitW","unitX","unitY","unitZ","zeros","Symbol","toStringTag","value","visible","_s","_inherits","_super","_createSuper","_this","_classCallCheck","call","scale","_createClass","key","set","_this2","this","_get","_set","handles","remove","add","sublayers","on","notifyChange","propertyName","get","visibleSublayers","filter","_ref","name","map","_ref2","join","commitProperty","layer","forEach","minScale","maxScale","push","layers","format","imageFormat","request","service","styles","transparent","imageTransparency","version","prototype","readOnly","type","Number","Boolean","json","origins","read","write","p","reader","disablePopup","enabled","writer","m","nonNullable","String","isRequired","ignoreOrigin","d","y","w","g","_objectSpread","target","opacity","source","origin","drawingInfo","transparency","layerDefinition","b","_this$layer","_this$view","timeInfo","_this$layer2","datesInUnknownTimezone","timeOffset","useViewTime","view","timeExtent","start","end","getTimezoneOffset","intersection","isEmpty","isAllTime","offset","unit","equals","j","fromJSON","spatialReference","v","I","D","S","color","ratio","toArray","Uint8ClampedArray","sort","max","_step","radius","fieldOffset","field","round","NEGATIVE_INFINITY","h","readAttribute","Set","_iterator","_createForOfIteratorHelper","done","getCursor","next","getObjectId","has","readLegacyPointGeometry","x","A","err","matrix","buffer","canvas","width","height","clearRect","getImageData","data","Uint32Array","Uint8Array","floor","putImageData","sqrt","pow","PI","_u","apply","arguments","bitmapContainer","serviceSupportsSpatialReference","strategy","update","catch","getLogger","error","_this3","imageMaxHeight","imageMaxWidth","container","addChild","fetchSource","fetchImage","bind","requestUpdate","imageRotationSupported","imageNormalizationSupported","hidpi","addAttachHandles","exportImageVersion","removeAllChildren","children","some","resolution","xmin","ymin","xmax","ymax","extent","_doRefresh","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","stop","updating","updateRequested","fetchImageBitmap","_i","exportImageParameters","_this$exportImagePara","Promise","reject","popupEnabled","createFetchPopupFeaturesQuery","resolve","fetchFeatureInfo"],"sourceRoot":""}