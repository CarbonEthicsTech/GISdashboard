"use strict";(self.webpackChunkgis_dashboard=self.webpackChunkgis_dashboard||[]).push([[7],{16054:function(e,t,r){r.d(t,{z:function(){return s}});var n=r(15671),i=r(43144),o=r(18759),s=function(){function e(t,r){(0,n.Z)(this,e),this._storage=new o.WJ,this.id="",this.name="",this.size=0,this._storage.maxSize=t,this._storage.register(this),r&&this._storage.registerRemoveFunc("",r)}return(0,i.Z)(e,[{key:"destroy",value:function(){this._storage.deregister(this),this._storage.destroy()}},{key:"put",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this._storage.put(this,e,t,r,1)}},{key:"pop",value:function(e){return this._storage.pop(this,e)}},{key:"get",value:function(e){return this._storage.get(this,e)}},{key:"clear",value:function(){this._storage.clearAll()}},{key:"maxSize",get:function(){return this._storage.maxSize},set:function(e){this._storage.maxSize=e}},{key:"resetHitRate",value:function(){}}]),e}()},18759:function(e,t,r){r.d(t,{WJ:function(){return p},Xq:function(){return c}});var n,i,o=r(29439),s=r(37762),a=r(15671),u=r(43144),l=r(27546);(i=n||(n={}))[i.ALL=0]="ALL",i[i.SOME=1]="SOME";var c=function(){function e(t,r,n){(0,a.Z)(this,e),this.name=t,this._storage=r,this.id=f+++":",this.size=0,this.maxSize=0,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),n&&(this._storage.registerRemoveFunc(this.id,n),this._removeFunc=!0)}return(0,u.Z)(e,[{key:"destroy",value:function(){this._storage.clear(this),this._removeFunc&&this._storage.deregisterRemoveFunc(this.id),this._storage.deregister(this),this._storage=null}},{key:"hitRate",get:function(){return this._hit/(this._hit+this._miss)}},{key:"sizeAll",get:function(){return this._storage.size}},{key:"resetHitRate",value:function(){this._hit=this._miss=0}},{key:"put",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this._storage.put(this,e,t,r,n)}},{key:"get",value:function(e){var t=this._storage.get(this,e);return void 0===t?++this._miss:++this._hit,t}},{key:"pop",value:function(e){var t=this._storage.pop(this,e);return void 0===t?++this._miss:++this._hit,t}},{key:"updateSize",value:function(e,t,r){this._storage.updateSize(this,e,t,r)}},{key:"clear",value:function(){this._storage.clear(this)}},{key:"clearAll",value:function(){this._storage.clearAll()}},{key:"performanceInfo",get:function(){return this._storage.performanceInfo}},{key:"resetStats",value:function(){this._storage.resetStats()}}]),e}(),p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10485760;(0,a.Z)(this,e),this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new l.Z,this._users=new l.Z}return(0,u.Z)(e,[{key:"size",get:function(){return this._size}},{key:"destroy",value:function(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}},{key:"register",value:function(e){this._users.push(e)}},{key:"deregister",value:function(e){this._users.removeUnordered(e)}},{key:"registerRemoveFunc",value:function(e,t){this._removeFuncs.push([e,t])}},{key:"deregisterRemoveFunc",value:function(e){this._removeFuncs.filterInPlace((function(t){return t[0]!==e}))}},{key:"maxSize",get:function(){return this._maxSize},set:function(e){this._maxSize=Math.max(e,0),this._checkSizeLimits()}},{key:"put",value:function(e,t,r,i,o){t=e.id+t;var s=this._db.get(t);if(s&&(this._size-=s.size,e.size-=s.size,this._db.delete(t),s.entry!==r&&this._notifyRemove(t,s.entry,n.ALL)),i>this._maxSize)this._notifyRemove(t,r,n.ALL);else if(void 0!==r)if(!i||i<0)console.warn("Refusing to cache entry with invalid size "+i);else{var a=1+Math.max(o,-3)- -3;this._db.set(t,{entry:r,size:i,lifetime:a,lives:a}),this._size+=i,e.size+=i,this._checkSizeLimits()}else console.warn("Refusing to cache undefined entry ")}},{key:"updateSize",value:function(e,t,r,i){t=e.id+t;var o=this._db.get(t);if(o&&o.entry===r){for(this._size-=o.size,e.size-=o.size;i>this._maxSize;){var s=this._notifyRemove(t,r,n.SOME);if(!(null!=s&&s>0))return void this._db.delete(t);i=s}o.size=i,this._size+=i,e.size+=i,this._checkSizeLimits()}}},{key:"pop",value:function(e,t){t=e.id+t;var r=this._db.get(t);if(r)return this._size-=r.size,e.size-=r.size,this._db.delete(t),++this._hit,r.entry;++this._miss}},{key:"get",value:function(e,t){t=e.id+t;var r=this._db.get(t);if(void 0!==r)return this._db.delete(t),r.lives=r.lifetime,this._db.set(t,r),++this._hit,r.entry;++this._miss}},{key:"performanceInfo",get:function(){var e=this,t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},r={},n=new Array;this._db.forEach((function(t,i){var o=t.lifetime;n[o]=(n[o]||0)+t.size,e._users.forAll((function(e){var n=e.id,o=e.name;if(i.startsWith(n)){var s=r[o]||0;r[o]=s+t.size}}))}));var i={};this._users.forAll((function(e){var t=e.name;if("hitRate"in e&&"number"==typeof e.hitRate&&!isNaN(e.hitRate)&&e.hitRate>0){var n=r[t]||0;r[t]=n,i[t]=Math.round(100*e.hitRate)+"%"}else i[t]="0%"}));var o=Object.keys(r);o.sort((function(e,t){return r[t]-r[e]})),o.forEach((function(e){return t[e]=Math.round(r[e]/Math.pow(2,20))+"MB / "+i[e]}));for(var s=n.length-1;s>=0;--s){var a=n[s];a&&(t["Priority "+(s+-3-1)]=Math.round(a/this._size*100)+"%")}return t}},{key:"resetStats",value:function(){this._hit=this._miss=0,this._users.forAll((function(e){return e.resetHitRate()}))}},{key:"clear",value:function(e){var t=this,r=e.id;this._db.forEach((function(e,i){i.startsWith(r)&&(t._size-=e.size,t._db.delete(i),t._notifyRemove(i,e.entry,n.ALL))})),e.size=0}},{key:"clearAll",value:function(){var e=this;this._db.forEach((function(t,r){return e._notifyRemove(r,t.entry,n.ALL)})),this._users.forEach((function(e){return e.size=0})),this._size=0,this._db.clear()}},{key:"_getHitRate",value:function(){return this._hit/(this._hit+this._miss)}},{key:"_notifyRemove",value:function(e,t,r){var n;return this._removeFuncs.some((function(i){if(e.startsWith(i[0])){var o=i[1](t,r);return"number"==typeof o&&(n=o),!0}return!1})),n}},{key:"_checkSizeLimits",value:function(){var e=this;if(this._size>this._maxSize){var t,r=(0,s.Z)(this._db);try{for(r.s();!(t=r.n()).done;){var n=(0,o.Z)(t.value,2),i=n[0],a=n[1];if(this._purgeItem(i,a),this._size<=.9*this.maxSize)return}}catch(u){r.e(u)}finally{r.f()}}this._users.forEach((function(t){if(t.maxSize>0&&t.size>t.maxSize){var r,n=(0,s.Z)(e._db);try{for(n.s();!(r=n.n()).done;){var i=(0,o.Z)(r.value,2),a=i[0],l=i[1];if(a.startsWith(t.id)&&(e._purgeItem(a,l,t),t.size<=.9*t.maxSize))return}}catch(u){n.e(u)}finally{n.f()}}}))}},{key:"_purgeItem",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._users.find((function(t){return e.startsWith(t.id)}));if(this._db.delete(e),t.lives<=1){this._size-=t.size,r&&(r.size-=t.size);var i=this._notifyRemove(e,t.entry,n.SOME);null!=i&&i>0&&(this._size+=i,r&&(r.size+=i),t.lives=t.lifetime,t.size=i,this._db.set(e,t))}else--t.lives,this._db.set(e,t)}}]),e}(),f=0},48732:function(e,t,r){r.d(t,{Hg:function(){return v},V7:function(){return h},uD:function(){return y}});var n=r(4942),i=r(37762),o=r(7138),s=r(40281),a=r(23879),u=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function l(e){return e instanceof o.Z}function c(e){return e instanceof s.Z?Object.keys(e.items):l(e)?(0,a.vw)(e).keys():e?Object.keys(e):[]}function p(e,t){return e instanceof s.Z?e.items[t]:e[t]}function f(e){return e?e.declaredClass:null}function d(e,t){var r=e.diff;if(r&&"function"==typeof r)return r(e,t);var o=c(e),s=c(t);if(0!==o.length||0!==s.length){if(!o.length||!s.length||function(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}(e,t))return{type:"complete",oldValue:e,newValue:t};var a,y=s.filter((function(e){return!o.includes(e)})),h=o.filter((function(e){return!s.includes(e)})),v=o.filter((function(r){return s.includes(r)&&p(e,r)!==p(t,r)})).concat(y,h).sort(),m=f(e);if(m&&u.includes(m)&&v.length)return{type:"complete",oldValue:e,newValue:t};var g,_=l(e)&&l(t),b=(0,i.Z)(v);try{for(b.s();!(g=b.n()).done;){var w=g.value,Z=p(e,w),S=p(t,w),k=void 0;if((_||"function"!=typeof Z&&"function"!=typeof S)&&Z!==S&&(null!=Z||null!=S)){var F;if(r&&r[w]&&"function"==typeof r[w])k=null===(F=r[w])||void 0===F?void 0:F.call(r,Z,S);else if(Z instanceof Date&&S instanceof Date){if(Z.getTime()===S.getTime())continue;k={type:"complete",oldValue:Z,newValue:S}}else k="object"==typeof Z&&"object"==typeof S&&f(Z)===f(S)?d(Z,S):{type:"complete",oldValue:Z,newValue:S};null!=k&&(null!=a?a.diff[w]=k:a={type:"partial",diff:(0,n.Z)({},w,k)})}}}catch(x){b.e(x)}finally{b.f()}return a}}function y(e,t){if(null==e)return!1;var r,n=t.split("."),o=e,s=(0,i.Z)(n);try{for(s.s();!(r=s.n()).done;){var a=r.value;if("complete"===o.type)return!0;if("partial"!==o.type)return!1;var u=o.diff[a];if(!u)return!1;o=u}}catch(l){s.e(l)}finally{s.f()}return!0}function h(e,t){var r,n=(0,i.Z)(t);try{for(n.s();!(r=n.n()).done;){if(y(e,r.value))return!0}}catch(o){n.e(o)}finally{n.f()}return!1}function v(e,t){if("function"!=typeof e&&"function"!=typeof t&&(null!=e||null!=t))return null==e||null==t||"object"==typeof e&&"object"==typeof t&&f(e)!==f(t)?{type:"complete",oldValue:e,newValue:t}:d(e,t)}},38566:function(e,t,r){r.r(t),r.d(t,{default:function(){return ie}});var n=r(74165),i=r(15861),o=r(37762),s=r(15671),a=r(43144),u=r(97326),l=r(60136),c=r(29388),p=r(27366),f=(r(59486),r(44055)),d=(r(94931),r(78451),r(98689),r(57823),r(32066),r(30505),r(34999),r(28189),r(9014),r(40464)),y=r(97642),h=r(18202),v=r(35995),m=r(49861),g=r(25243),_=(r(63780),r(93169)),b=r(69912),w=r(31201),Z=r(27823),S=r(30651),k=r(29439),F=r(1413),x=r(10064),C=r(41691),z=r(54472),R=r(66978),I=r(31009),O=r(63543),j=r(12622),T=r(49818),M=r(53866),P=function(e){(0,l.Z)(r,e);var t=(0,c.Z)(r);function r(){var e;return(0,s.Z)(this,r),(e=t.apply(this,arguments))._connection=null,e.capabilities=(0,O.MS)(!1,!1),e.type="wfs",e.refresh=(0,R.Ds)(function(){var t=(0,i.Z)((0,n.Z)().mark((function t(r){var i,o;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.load();case 2:return t.next=4,e._connection.invoke("refresh",r);case 4:return i=t.sent,o=i.extent,t.abrupt("return",(o&&(e.sourceJSON.extent=o),{dataChanged:!0,updates:{extent:e.sourceJSON.extent}}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e}return(0,a.Z)(r,[{key:"load",value:function(e){var t=null!=e?e.signal:null;return this.addResolvingPromise(this._startWorker({signal:t})),Promise.resolve(this)}},{key:"destroy",value:function(){var e;null!==(e=this._connection)&&void 0!==e&&e.close(),this._connection=null}},{key:"openPorts",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.load();case 2:return e.abrupt("return",this._connection.openPorts());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"queryFeatures",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r,i,o=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.load(r);case 3:return e.next=5,this._connection.invoke("queryFeatures",t?t.toJSON():null,r);case 5:return i=e.sent,e.abrupt("return",T.Z.fromJSON(i));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queryFeaturesJSON",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r,i=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,this.load(r);case 3:return e.abrupt("return",this._connection.invoke("queryFeatures",t?t.toJSON():null,r));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queryFeatureCount",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r,i=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,this.load(r);case 3:return e.abrupt("return",this._connection.invoke("queryFeatureCount",t?t.toJSON():null,r));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queryObjectIds",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r,i=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,this.load(r);case 3:return e.abrupt("return",this._connection.invoke("queryObjectIds",t?t.toJSON():null,r));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queryExtent",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r,i,o=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.load(r);case 3:return e.next=5,this._connection.invoke("queryExtent",t?t.toJSON():null,r);case 5:return i=e.sent,e.abrupt("return",{count:i.count,extent:M.Z.fromJSON(i.extent)});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"querySnapping",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r,i=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,this.load(r);case 3:return e.abrupt("return",this._connection.invoke("querySnapping",t,r));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_createLoadOptions",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r,i,o,s,a,u,l,c,p,f,d,y,h,v,m,g=this;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=this.layer,s=o.url,a=o.customParameters,u=o.name,l=o.namespaceUri,c=o.spatialReference,p=o.fields,f=o.geometryType,d=o.swapXY,s){e.next=3;break}throw new x.Z("wfs-layer:missing-url","WFSLayer must be created with a url");case 3:if(e.t0=this.wfsCapabilities,e.t0){e.next=8;break}return e.next=7,(0,j.FU)(s,(0,F.Z)({customParameters:a},t));case 7:this.wfsCapabilities=e.sent;case 8:if(y=["fields","geometryType","name","namespaceUri","spatialReference","swapXY"].some((function(e){return null==g.layer[e]})),!y){e.next=15;break}return e.next=12,(0,j.be)(this.wfsCapabilities,u,l,{spatialReference:c,customParameters:a,signal:null===t||void 0===t?void 0:t.signal});case 12:e.t1=e.sent,e.next=16;break;case 15:e.t1=(0,F.Z)((0,F.Z)({},(0,j.eB)(null!==p&&void 0!==p?p:[])),{},{geometryType:f,name:u,namespaceUri:l,spatialReference:c,swapXY:d});case 16:return h=e.t1,v=(0,j.ft)(this.wfsCapabilities.readFeatureTypes(),h.name,h.namespaceUri),m=Z.M.toJSON(h.geometryType),e.abrupt("return",{customParameters:a,featureType:v,fields:null!==(r=null===(i=h.fields)||void 0===i?void 0:i.map((function(e){return e.toJSON()})))&&void 0!==r?r:[],geometryField:h.geometryField,geometryType:m,getFeatureUrl:this.wfsCapabilities.operations.GetFeature.url,getFeatureOutputFormat:this.wfsCapabilities.operations.GetFeature.outputFormat,objectIdField:h.objectIdField,spatialReference:h.spatialReference.toJSON(),swapXY:!!h.swapXY});case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_startWorker",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r,i,o,s,a,u,l,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.as)([this._createLoadOptions(t),(0,I.bA)("WFSSourceWorker",(0,F.Z)((0,F.Z)({},t),{},{strategy:(0,_.Z)("feature-layers-workers")?"dedicated":"local"}))]);case 2:if(r=e.sent,i=(0,k.Z)(r,2),o=i[0],s=i[1],a=o.error||s.error||null,u=s.value||null,!a){e.next=10;break}throw u&&u.close(),a;case 10:return l=o.value,this._connection=s.value,e.next=14,this._connection.invoke("load",l,t);case 14:c=e.sent.extent,this.sourceJSON={extent:c,fields:l.fields,geometryType:l.geometryType,objectIdField:l.objectIdField,geometryField:l.geometryField,drawingInfo:(0,O.bU)(l.geometryType),name:l.featureType.title,wfsInfo:{name:l.featureType.name,featureUrl:l.getFeatureUrl,maxFeatures:3e3,swapXY:l.swapXY,supportedSpatialReferences:l.featureType.supportedSpatialReferences,version:"2.0.0",wfsNamespace:l.featureType.namespaceUri}};case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}((0,C.p)(z.Z));(0,p._)([(0,m.Cb)()],P.prototype,"capabilities",void 0),(0,p._)([(0,m.Cb)({constructOnly:!0})],P.prototype,"layer",void 0),(0,p._)([(0,m.Cb)()],P.prototype,"sourceJSON",void 0),(0,p._)([(0,m.Cb)()],P.prototype,"type",void 0),(0,p._)([(0,m.Cb)()],P.prototype,"wfsCapabilities",void 0),P=(0,p._)([(0,b.j)("esri.layers.graphics.sources.WFSSource")],P);var q,N=r(6693),E=r(46671),L=r(7632),D=r(64390),A=r(6061),U=r(94207),G=r(29598),J=r(71684),W=r(56811),H=r(99063),B=r(45948),Q=r(83040),V=r(25610),X=r(37270),Y=r(77748),$=r(85116),K=r(86638),ee=r(81085),te=r(78952),re=(0,V.v)(),ne=q=function(e){(0,l.Z)(r,e);var t=(0,c.Z)(r);function r(e){var n;return(0,s.Z)(this,r),(n=t.call(this,e)).copyright=null,n.customParameters=null,n.definitionExpression=null,n.displayField=null,n.elevationInfo=null,n.featureUrl=void 0,n.fields=null,n.fieldsIndex=null,n.fullExtent=null,n.geometryType=null,n.labelsVisible=!0,n.labelingInfo=null,n.legendEnabled=!0,n.objectIdField=null,n.operationalLayerType="WFS",n.maxFeatures=3e3,n.mode=0,n.name=null,n.namespaceUri=null,n.outFields=null,n.popupEnabled=!0,n.popupTemplate=null,n.screenSizePerspectiveEnabled=!0,n.source=new P({layer:(0,u.Z)(n)}),n.spatialReference=te.Z.WGS84,n.spatialReferences=[4326],n.swapXY=void 0,n.title="WFS",n.type="wfs",n.url=null,n.version=void 0,n}return(0,a.Z)(r,[{key:"destroy",value:function(){var e;null===(e=this.source)||void 0===e||e.destroy()}},{key:"load",value:function(e){var t=this;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["WFS"]},e).then((function(){return t.source.load(e)})).then((function(){t.read(t.source.sourceJSON,{origin:"service",url:t.parsedUrl}),t.revert(["objectIdField","fields","timeInfo","spatialReference","name","namespaceUri"],"service"),(0,X.YN)(t.renderer,t.fieldsIndex),(0,X.UF)(t.timeInfo,t.fieldsIndex)}))),Promise.resolve(this)}},{key:"capabilities",get:function(){var e;return null===(e=this.source)||void 0===e?void 0:e.capabilities}},{key:"createQueryVersion",get:function(){return this.commitProperty("definitionExpression"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("capabilities"),(this._get("createQueryVersion")||0)+1}},{key:"defaultPopupTemplate",get:function(){return this.createPopupTemplate()}},{key:"writeFields",value:function(e,t,r){var n=e.filter((function(e){return e.name!==j.M8}));this.geometryField&&n.unshift(new Q.Z({name:this.geometryField,alias:this.geometryField,type:"geometry"})),(0,h.RB)(r,n.map((function(e){return e.toJSON()})),t)}},{key:"parsedUrl",get:function(){return(0,v.mN)(this.url)}},{key:"renderer",set:function(e){(0,X.YN)(e,this.fieldsIndex),this._set("renderer",e)}},{key:"wfsCapabilities",get:function(){var e;return null===(e=this.source)||void 0===e?void 0:e.wfsCapabilities},set:function(e){this.source&&(this.source.wfsCapabilities=e)}},{key:"createPopupTemplate",value:function(e){return(0,ee.eZ)(this,e)}},{key:"createQuery",value:function(){var e=new K.Z;e.returnGeometry=!0,e.outFields=["*"],e.where=this.definitionExpression||"1=1";var t=this.timeOffset,r=this.timeExtent;return e.timeExtent=null!=t&&null!=r?r.offset(-t.value,t.unit):r||null,e}},{key:"getFieldDomain",value:function(e,t){var r;return null===(r=this.getField(e))||void 0===r?void 0:r.domain}},{key:"getField",value:function(e){var t;return null===(t=this.fieldsIndex)||void 0===t?void 0:t.get(e)}},{key:"queryFeatures",value:function(e,t){var r=this;return this.load().then((function(){return r.source.queryFeatures(K.Z.from(e)||r.createQuery(),t)})).then((function(e){if(null!==e&&void 0!==e&&e.features){var t,n=(0,o.Z)(e.features);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.layer=i.sourceLayer=r}}catch(s){n.e(s)}finally{n.f()}}return e}))}},{key:"queryObjectIds",value:function(e,t){var r=this;return this.load().then((function(){return r.source.queryObjectIds(K.Z.from(e)||r.createQuery(),t)}))}},{key:"queryFeatureCount",value:function(e,t){var r=this;return this.load().then((function(){return r.source.queryFeatureCount(K.Z.from(e)||r.createQuery(),t)}))}},{key:"queryExtent",value:function(e,t){var r=this;return this.load().then((function(){return r.source.queryExtent(K.Z.from(e)||r.createQuery(),t)}))}},{key:"hasDataChanged",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var t,r,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.source.refresh(this.customParameters);case 3:return t=e.sent,r=t.dataChanged,i=t.updates,e.abrupt("return",(null!=i&&this.read(i,{origin:"service",url:this.parsedUrl,ignoreDefaults:!0}),r));case 9:e.prev=9,e.t0=e.catch(0);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()}],[{key:"fromWFSLayerInfo",value:function(e){var t=e.customParameters,r=e.fields,n=e.geometryField,i=e.geometryType,o=e.name,s=e.namespaceUri,a=e.objectIdField,u=e.spatialReference,l=e.swapXY,c=e.url,p=e.wfsCapabilities;return new q({customParameters:t,fields:r,geometryField:n,geometryType:i,name:o,namespaceUri:s,objectIdField:a,spatialReference:u,swapXY:l,url:c,wfsCapabilities:p})}}]),r}((0,U.c)((0,E.N)((0,D.M)((0,L.b)((0,N.h)((0,H.n)((0,J.Q)((0,W.M)((0,A.q)((0,G.I)((0,y.R)(S.Z))))))))))));(0,p._)([(0,m.Cb)({readOnly:!0})],ne.prototype,"capabilities",null),(0,p._)([(0,m.Cb)({type:String})],ne.prototype,"copyright",void 0),(0,p._)([(0,m.Cb)({readOnly:!0})],ne.prototype,"createQueryVersion",null),(0,p._)([(0,m.Cb)({json:{name:"wfsInfo.customParameters",write:{overridePolicy:function(e){return{enabled:!!(e&&Object.keys(e).length>0),ignoreOrigin:!0}}}}})],ne.prototype,"customParameters",void 0),(0,p._)([(0,m.Cb)({readOnly:!0})],ne.prototype,"defaultPopupTemplate",null),(0,p._)([(0,m.Cb)({type:String,json:{name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],ne.prototype,"definitionExpression",void 0),(0,p._)([(0,m.Cb)({type:String})],ne.prototype,"displayField",void 0),(0,p._)([(0,m.Cb)(B.PV)],ne.prototype,"elevationInfo",void 0),(0,p._)([(0,m.Cb)({type:String,readOnly:!0,json:{name:"wfsInfo.featureUrl",write:{ignoreOrigin:!0,isRequired:!0}}})],ne.prototype,"featureUrl",void 0),(0,p._)([(0,m.Cb)({type:[Q.Z],json:{name:"layerDefinition.fields",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"fields"}}}})],ne.prototype,"fields",void 0),(0,p._)([(0,w.c)("fields")],ne.prototype,"writeFields",null),(0,p._)([(0,m.Cb)(re.fieldsIndex)],ne.prototype,"fieldsIndex",void 0),(0,p._)([(0,m.Cb)({type:M.Z,json:{name:"extent"}})],ne.prototype,"fullExtent",void 0),(0,p._)([(0,m.Cb)()],ne.prototype,"geometryField",void 0),(0,p._)([(0,m.Cb)({type:String,json:{read:{source:"layerDefinition.geometryType",reader:Z.M.read},write:{target:"layerDefinition.geometryType",writer:Z.M.write,ignoreOrigin:!0},origins:{service:{read:Z.M.read}}}})],ne.prototype,"geometryType",void 0),(0,p._)([(0,m.Cb)({type:String})],ne.prototype,"id",void 0),(0,p._)([(0,m.Cb)(B.iR)],ne.prototype,"labelsVisible",void 0),(0,p._)([(0,m.Cb)({type:[Y.Z],json:{name:"layerDefinition.drawingInfo.labelingInfo",read:{reader:$.r},write:!0}})],ne.prototype,"labelingInfo",void 0),(0,p._)([(0,m.Cb)(B.rn)],ne.prototype,"legendEnabled",void 0),(0,p._)([(0,m.Cb)({type:["show","hide"]})],ne.prototype,"listMode",void 0),(0,p._)([(0,m.Cb)({type:String})],ne.prototype,"objectIdField",void 0),(0,p._)([(0,m.Cb)({type:["WFS"]})],ne.prototype,"operationalLayerType",void 0),(0,p._)([(0,m.Cb)({type:g.z8,json:{name:"wfsInfo.maxFeatures",write:{ignoreOrigin:!0,isRequired:!0}}})],ne.prototype,"maxFeatures",void 0),(0,p._)([(0,m.Cb)({type:[0],readOnly:!0,json:{origins:{"web-map":{write:{ignoreOrigin:!0,isRequired:!0}}}}})],ne.prototype,"mode",void 0),(0,p._)([(0,m.Cb)({type:String,json:{name:"wfsInfo.name",write:{ignoreOrigin:!0,isRequired:!0}}})],ne.prototype,"name",void 0),(0,p._)([(0,m.Cb)({type:String,json:{name:"wfsInfo.wfsNamespace",write:{ignoreOrigin:!0,isRequired:!0}}})],ne.prototype,"namespaceUri",void 0),(0,p._)([(0,m.Cb)(B.bT)],ne.prototype,"opacity",void 0),(0,p._)([(0,m.Cb)(re.outFields)],ne.prototype,"outFields",void 0),(0,p._)([(0,m.Cb)({readOnly:!0})],ne.prototype,"parsedUrl",null),(0,p._)([(0,m.Cb)(B.C_)],ne.prototype,"popupEnabled",void 0),(0,p._)([(0,m.Cb)({type:f.Z,json:{name:"popupInfo",write:!0}})],ne.prototype,"popupTemplate",void 0),(0,p._)([(0,m.Cb)({types:d.A,json:{origins:{service:{name:"drawingInfo.renderer"},"web-scene":{types:d.o,name:"layerDefinition.drawingInfo.renderer",write:!0}},name:"layerDefinition.drawingInfo.renderer",write:{ignoreOrigin:!0}}})],ne.prototype,"renderer",null),(0,p._)([(0,m.Cb)(B.YI)],ne.prototype,"screenSizePerspectiveEnabled",void 0),(0,p._)([(0,m.Cb)({readOnly:!0})],ne.prototype,"source",void 0),(0,p._)([(0,m.Cb)({type:te.Z,json:{name:"layerDefinition.spatialReference",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"extent.spatialReference"}}}})],ne.prototype,"spatialReference",void 0),(0,p._)([(0,m.Cb)({readOnly:!0,type:[g.z8],json:{name:"wfsInfo.supportedSpatialReferences",write:{ignoreOrigin:!0,isRequired:!0}}})],ne.prototype,"spatialReferences",void 0),(0,p._)([(0,m.Cb)({type:Boolean,value:!1,json:{name:"wfsInfo.swapXY",write:{ignoreOrigin:!0,isRequired:!0}}})],ne.prototype,"swapXY",void 0),(0,p._)([(0,m.Cb)({json:{write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"name"}}}})],ne.prototype,"title",void 0),(0,p._)([(0,m.Cb)({json:{read:!1},readOnly:!0})],ne.prototype,"type",void 0),(0,p._)([(0,m.Cb)(B.HQ)],ne.prototype,"url",void 0),(0,p._)([(0,m.Cb)({type:String,readOnly:!0,json:{name:"wfsInfo.version",write:{ignoreOrigin:!0,isRequired:!0}}})],ne.prototype,"version",void 0),(0,p._)([(0,m.Cb)()],ne.prototype,"wfsCapabilities",null);var ie=ne=q=(0,p._)([(0,b.j)("esri.layers.WFSLayer")],ne)},3182:function(e,t,r){r.d(t,{S6:function(){return u},nd:function(){return l},u_:function(){return a}});var n=r(60136),i=r(29388),o=r(15671),s=r(43144),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;(0,o.Z)(this,e),this.geometry=t,this.attributes=r,this.centroid=n,this.objectId=i,this.displayId=0,this.geohashX=0,this.geohashY=0}return(0,s.Z)(e,[{key:"weakClone",value:function(){var t=new e(this.geometry,this.attributes,this.centroid,this.objectId);return t.displayId=this.displayId,t.geohashX=this.geohashX,t.geohashY=this.geohashY,t}}]),e}();function u(e){return!(null==e.geometry||!e.geometry.coords||!e.geometry.coords.length)}var l=function(e){(0,n.Z)(r,e);var t=(0,i.Z)(r);function r(){return(0,o.Z)(this,r),t.apply(this,arguments)}return(0,s.Z)(r)}(a)},80457:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(29439),i=r(93433),o=r(15671),s=r(43144),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,o.Z)(this,e),this.lengths=null!==t&&void 0!==t?t:[],this.coords=null!==r&&void 0!==r?r:[],this.hasIndeterminateRingOrder=n}return(0,s.Z)(e,[{key:"isPoint",get:function(){return 0===this.lengths.length}},{key:"maxLength",get:function(){return Math.max.apply(Math,(0,i.Z)(this.lengths))}},{key:"size",get:function(){return this.lengths.reduce((function(e,t){return e+t}))}},{key:"forEachVertex",value:function(e){var t=0;this.lengths.length||e(this.coords[0],this.coords[1]);for(var r=0;r<this.lengths.length;r++){for(var n=this.lengths[r],i=0;i<n;i++)e(this.coords[2*(i+t)],this.coords[2*(i+t)+1]);t+=n}}},{key:"clone",value:function(t){return t?(t.set(this.coords),new e(this.lengths.slice(),t,this.hasIndeterminateRingOrder)):new e(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}],[{key:"fromRect",value:function(t){var r=(0,n.Z)(t,4),i=r[0],o=r[1],s=r[2]-i,a=r[3]-o;return new e([5],[i,o,s,0,0,a,-s,0,0,-a])}}]),e}()},60480:function(e,t,r){r.d(t,{g:function(){return n}});var n={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0}},63543:function(e,t,r){r.d(t,{Dm:function(){return f},Hq:function(){return d},MS:function(){return y},bU:function(){return l}});var n=r(4942),i=r(1413),o=r(93169),s=r(84652),a=r(60480),u=r(76115);function l(e){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===e||"esriGeometryMultipoint"===e?u.I4:"esriGeometryPolyline"===e?u.ET:u.lF}}}var c=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/,p=1;function f(e,t){if((0,o.Z)("esri-csp-restrictions"))return function(){return(0,i.Z)((0,n.Z)({},t,null),e)};try{var r="this.".concat(t," = null;");for(var s in e)r+="this".concat(c.test(s)?".".concat(s):'["'.concat(s,'"]')," = ").concat(JSON.stringify(e[s]),";");var a=new Function("\n      return class AttributesClass$".concat(p++," {\n        constructor() {\n          ").concat(r,";\n        }\n      }\n    "))();return function(){return new a}}catch(u){return function(){return(0,i.Z)((0,n.Z)({},t,null),e)}}}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[{name:"New Feature",description:"",prototype:{attributes:(0,s.d9)(e)}}]}function y(e,t){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:t,supportsDelete:t,supportsEditing:t,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:t,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:a.g,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:t,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1}}}},46671:function(e,t,r){r.d(t,{N:function(){return c}});var n=r(43144),i=r(15671),o=r(60136),s=r(29388),a=r(27366),u=r(49861),l=(r(25243),r(63780),r(93169),r(69912)),c=function(e){var t=function(e){(0,o.Z)(r,e);var t=(0,s.Z)(r);function r(){var e;return(0,i.Z)(this,r),(e=t.apply(this,arguments)).customParameters=null,e}return(0,n.Z)(r)}(e);return(0,a._)([(0,u.Cb)({type:Object,json:{write:{overridePolicy:function(e){return{enabled:!!(e&&Object.keys(e).length>0)}}}}})],t.prototype,"customParameters",void 0),t=(0,a._)([(0,l.j)("esri.layers.mixins.CustomParametersMixin")],t)}},94207:function(e,t,r){r.d(t,{c:function(){return _}});var n,i=r(43144),o=r(15671),s=r(60136),a=r(29388),u=r(27366),l=r(18202),c=r(49861),p=(r(25243),r(63780),r(93169),r(69912)),f=r(43404),d=r(46784),y=new f.X({asc:"ascending",desc:"descending"}),h=n=function(e){(0,s.Z)(r,e);var t=(0,a.Z)(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).field=null,n.valueExpression=null,n.order="ascending",n}return(0,i.Z)(r,[{key:"clone",value:function(){return new n({field:this.field,valueExpression:this.valueExpression,order:this.order})}}]),r}(d.wq);(0,u._)([(0,c.Cb)({type:String,json:{write:!0}})],h.prototype,"field",void 0),(0,u._)([(0,c.Cb)({type:String,json:{write:!0}})],h.prototype,"valueExpression",void 0),(0,u._)([(0,c.Cb)({type:y.apiValues,json:{read:y.read,write:y.write}})],h.prototype,"order",void 0);var v=h=n=(0,u._)([(0,p.j)("esri.layers.support.OrderByInfo")],h);function m(e,t,r){if(!e)return null;var n=e.find((function(e){return!!e.field}));if(!n)return null;var i=new v;return i.read(n,r),[i]}function g(e,t,r,n){var i=e.find((function(e){return!!e.field}));i&&(0,l.RB)(r,[i.toJSON()],t)}var _=function(e){var t=function(e){(0,s.Z)(r,e);var t=(0,a.Z)(r);function r(){var e;return(0,o.Z)(this,r),(e=t.apply(this,arguments)).orderBy=null,e}return(0,i.Z)(r)}(e);return(0,u._)([(0,c.Cb)({type:[v],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:m},write:{target:"layerDefinition.orderBy",writer:g}}})],t.prototype,"orderBy",void 0),t=(0,u._)([(0,p.j)("esri.layers.mixins.OrderedLayer")],t),t}},71684:function(e,t,r){r.d(t,{Q:function(){return F}});var n=r(74165),i=r(15861),o=r(15671),s=r(43144),a=r(97326),u=r(60136),l=r(29388),c=r(27366),p=r(32718),f=r(66978),d=r(49861),y=(r(25243),r(63780),r(93169),r(69912)),h=r(37762),v=r(40281),m=(r(10064),r(2173),r(27088)),g=new v.Z,_=new WeakMap;function b(e){return null!=e&&"object"==typeof e&&"refreshInterval"in e&&"refresh"in e}function w(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:w(t,e%t):0}var Z=0,S=0;function k(){var e,t=Date.now(),r=(0,h.Z)(g);try{for(r.s();!(e=r.n()).done;){var n,i=e.value;if(i.refreshInterval)t-(null!==(n=_.get(i))&&void 0!==n?n:0)+5>=6e4*i.refreshInterval&&(_.set(i,t),i.refresh(t))}}catch(o){r.e(o)}finally{r.f()}}(0,m.EH)((function(){var e,t=Date.now(),r=0,n=(0,h.Z)(g);try{for(n.s();!(e=n.n()).done;){var i=e.value;r=w(Math.round(6e4*i.refreshInterval),r),i.refreshInterval?_.get(i)||_.set(i,t):_.delete(i)}}catch(o){n.e(o)}finally{n.f()}if(r!==S){if(S=r,clearInterval(Z),0===S)return void(Z=0);Z=setInterval(k,S)}}));var F=function(e){var t=function(e){(0,u.Z)(r,e);var t=(0,l.Z)(r);function r(){var e;(0,o.Z)(this,r);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).refreshInterval=0,e.refreshTimestamp=0,e._debounceHasDataChanged=(0,f.Ds)((function(){return e.hasDataChanged()})),e.when().then((function(){e.destroyed||function(e){b(e)&&g.push(e)}((0,a.Z)(e))}),(function(){})),e}return(0,s.Z)(r,[{key:"destroy",value:function(){!function(e){b(e)&&g.includes(e)&&g.remove(e)}(this)}},{key:"refreshParameters",get:function(){return{_ts:this.refreshTimestamp||null}}},{key:"refresh",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();(0,f.R8)(this._debounceHasDataChanged()).then((function(r){r&&e._set("refreshTimestamp",t),e.emit("refresh",{dataChanged:r})}),(function(t){p.Z.getLogger(e).error(t),e.emit("refresh",{dataChanged:!1,error:t})}))}},{key:"hasDataChanged",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),r}(e);return(0,c._)([(0,d.Cb)({type:Number,cast:function(e){return e>=.1?e:e<=0?0:.1},json:{write:!0}})],t.prototype,"refreshInterval",void 0),(0,c._)([(0,d.Cb)({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),(0,c._)([(0,d.Cb)()],t.prototype,"refreshParameters",null),t=(0,c._)([(0,y.j)("esri.layers.mixins.RefreshableLayer")],t),t}},52410:function(e,t,r){r.d(t,{Z:function(){return c}});var n=r(37762),i=r(15671),o=r(43144),s=r(37270);function a(e){return"date"===e.type||"esriFieldTypeDate"===e.type||"date-only"===e.type||"esriFieldTypeDateOnly"===e.type||"timestamp-offset"===e.type||"esriFieldTypeTimestampOffset"===e.type}function u(e){return"oid"===e.type||"esriFieldTypeOID"===e.type}function l(e){return"global-id"===e.type||"esriFieldTypeGlobalID"===e.type}var c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if((0,i.Z)(this,e),this.fields=[],this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this.dateFields=[],this.numericFields=[],this._requiredFields=null,t){this.fields=t;var r,o=[],c=(0,n.Z)(t);try{for(c.s();!(r=c.n()).done;){var d=r.value,y=null===d||void 0===d?void 0:d.name,h=f(null===d||void 0===d?void 0:d.name);if(y&&h){var v=p(y);this._fieldsMap.set(y,d),this._fieldsMap.set(v,d),this._normalizedFieldsMap.set(h,d),o.push(v),a(d)?(this.dateFields.push(d),this._dateFieldsSet.add(d)):(0,s.H7)(d)&&(this._numericFieldsSet.add(d),this.numericFields.push(d)),u(d)||l(d)||(d.editable=null==d.editable||!!d.editable,d.nullable=null==d.nullable||!!d.nullable)}}}catch(m){c.e(m)}finally{c.f()}o.sort(),this.uid=o.join(",")}}return(0,o.Z)(e,[{key:"destroy",value:function(){this._fieldsMap.clear()}},{key:"requiredFields",get:function(){if(!this._requiredFields){this._requiredFields=[];var e,t=(0,n.Z)(this.fields);try{for(t.s();!(e=t.n()).done;){var r=e.value;u(r)||l(r)||r.nullable||void 0!==(0,s.os)(r)||this._requiredFields.push(r)}}catch(i){t.e(i)}finally{t.f()}}return this._requiredFields}},{key:"has",value:function(e){return null!=this.get(e)}},{key:"get",value:function(e){var t;if(e){var r=this._fieldsMap.get(e);return r||((r=null!==(t=this._fieldsMap.get(p(e)))&&void 0!==t?t:this._normalizedFieldsMap.get(f(e)))&&this._fieldsMap.set(e,r),r)}}},{key:"isDateField",value:function(e){return this._dateFieldsSet.has(this.get(e))}},{key:"isNumericField",value:function(e){return this._numericFieldsSet.has(this.get(e))}},{key:"normalizeFieldName",value:function(e){var t,r=this.get(e);if(r)return null!==(t=r.name)&&void 0!==t?t:void 0}}]),e}();function p(e){return e.trim().toLowerCase()}function f(e){var t,r;return null!==(t=null===(r=(0,s.q6)(e))||void 0===r?void 0:r.toLowerCase())&&void 0!==t?t:""}},85116:function(e,t,r){r.d(t,{a:function(){return p},r:function(){return l}});var n=r(10064),i=r(84652),o=r(32718),s=r(77748),a=o.Z.getLogger("esri.layers.support.labelingInfo"),u=/\[([^\[\]]+)\]/gi;function l(e,t,r){var n=this;return e?e.map((function(e){var i=new s.Z;if(i.read(e,r),i.labelExpression){var o=t.fields||t.layerDefinition&&t.layerDefinition.fields||n.fields;i.labelExpression=i.labelExpression.replaceAll(u,(function(e,t){return"[".concat(function(e,t){if(!t)return e;for(var r=e.toLowerCase(),n=0;n<t.length;n++){var i=t[n].name;if(i.toLowerCase()===r)return i}return e}(t,o),"]")}))}return i})):null}var c={esriGeometryPoint:["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along"],esriGeometryMultipoint:null};function p(e,t){var r=(0,i.d9)(e);return r.some((function(e){return function(e,t){var r=e.labelPlacement,i=c[t];if(!e.symbol)return a.warn("No ILabelClass symbol specified."),!0;if(!i)return a.error(new n.Z("labeling:unsupported-geometry-type","Unable to create labels for layer, geometry type '".concat(t,"' is not supported"))),!0;if(!i.includes(r)){var o=i[0];r&&a.warn("Found invalid label placement type ".concat(r," for ").concat(t,". Defaulting to ").concat(o)),e.labelPlacement=o}return!1}(e,t)}))?[]:r}},99837:function(e,t,r){r.d(t,{Z:function(){return v}});var n,i=r(15671),o=r(43144),s=r(60136),a=r(29388),u=r(27366),l=r(46784),c=r(84652),p=r(49861),f=r(25243),d=r(69912),y=r(31201),h=n=function(e){(0,s.Z)(r,e);var t=(0,a.Z)(r);function r(e){var n;return(0,i.Z)(this,r),(n=t.call(this,e)).attachmentTypes=null,n.attachmentsWhere=null,n.cacheHint=void 0,n.keywords=null,n.globalIds=null,n.name=null,n.num=null,n.objectIds=null,n.returnMetadata=!1,n.size=null,n.start=null,n.where=null,n}return(0,o.Z)(r,[{key:"writeStart",value:function(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}},{key:"clone",value:function(){return new n((0,c.d9)({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}}]),r}(l.wq);(0,u._)([(0,p.Cb)({type:[String],json:{write:!0}})],h.prototype,"attachmentTypes",void 0),(0,u._)([(0,p.Cb)({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],h.prototype,"attachmentsWhere",void 0),(0,u._)([(0,p.Cb)({type:Boolean,json:{write:!0}})],h.prototype,"cacheHint",void 0),(0,u._)([(0,p.Cb)({type:[String],json:{write:!0}})],h.prototype,"keywords",void 0),(0,u._)([(0,p.Cb)({type:[Number],json:{write:!0}})],h.prototype,"globalIds",void 0),(0,u._)([(0,p.Cb)({json:{write:!0}})],h.prototype,"name",void 0),(0,u._)([(0,p.Cb)({type:Number,json:{read:{source:"resultRecordCount"}}})],h.prototype,"num",void 0),(0,u._)([(0,p.Cb)({type:[Number],json:{write:!0}})],h.prototype,"objectIds",void 0),(0,u._)([(0,p.Cb)({type:Boolean,json:{default:!1,write:!0}})],h.prototype,"returnMetadata",void 0),(0,u._)([(0,p.Cb)({type:[Number],json:{write:!0}})],h.prototype,"size",void 0),(0,u._)([(0,p.Cb)({type:Number,json:{read:{source:"resultOffset"}}})],h.prototype,"start",void 0),(0,u._)([(0,y.c)("start"),(0,y.c)("num")],h.prototype,"writeStart",null),(0,u._)([(0,p.Cb)({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],h.prototype,"where",void 0),(h=n=(0,u._)([(0,d.j)("esri.rest.support.AttachmentQuery")],h)).from=(0,f.se)(h);var v=h},49818:function(e,t,r){r.d(t,{Z:function(){return F}});var n,i=r(29439),o=r(37762),s=r(15671),a=r(43144),u=r(60136),l=r(29388),c=r(27366),p=r(59486),f=r(52639),d=r(43404),y=r(46784),h=r(84652),v=r(49861),m=(r(25243),r(38511)),g=r(69912),_=r(31201),b=r(78952),w=r(77981),Z=r(83040),S=new d.X({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null}),k=n=function(e){(0,u.Z)(r,e);var t=(0,l.Z)(r);function r(e){var n;return(0,s.Z)(this,r),(n=t.call(this,e)).displayFieldName=null,n.exceededTransferLimit=!1,n.features=[],n.fields=null,n.geometryType=null,n.hasM=!1,n.hasZ=!1,n.queryGeometry=null,n.spatialReference=null,n}return(0,a.Z)(r,[{key:"readFeatures",value:function(e,t){for(var r=b.Z.fromJSON(t.spatialReference),n=[],i=0;i<e.length;i++){var o=e[i],s=f.Z.fromJSON(o),a=o.geometry&&o.geometry.spatialReference;null==s.geometry||a||(s.geometry.spatialReference=r);var u=o.aggregateGeometries,l=s.aggregateGeometries;if(u&&null!=l)for(var c in l){var p=l[c],d=u[c],y=null===d||void 0===d?void 0:d.spatialReference;null==p||y||(p.spatialReference=r)}n.push(s)}return n}},{key:"writeGeometryType",value:function(e,t,r,n){if(e)S.write(e,t,r,n);else{var i=this.features;if(i){var s,a=(0,o.Z)(i);try{for(a.s();!(s=a.n()).done;){var u=s.value;if(u&&null!=u.geometry)return void S.write(u.geometry.type,t,r,n)}}catch(l){a.e(l)}finally{a.f()}}}}},{key:"readQueryGeometry",value:function(e,t){if(!e)return null;var r=!!e.spatialReference,n=(0,w.im)(e);return n&&!r&&t.spatialReference&&(n.spatialReference=b.Z.fromJSON(t.spatialReference)),n}},{key:"writeSpatialReference",value:function(e,t){if(e)t.spatialReference=e.toJSON();else{var r=this.features;if(r){var n,i=(0,o.Z)(r);try{for(i.s();!(n=i.n()).done;){var s=n.value;if(s&&null!=s.geometry&&s.geometry.spatialReference)return void(t.spatialReference=s.geometry.spatialReference.toJSON())}}catch(a){i.e(a)}finally{i.f()}}}}},{key:"clone",value:function(){return new n(this.cloneProperties())}},{key:"cloneProperties",value:function(){return(0,h.d9)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}},{key:"toJSON",value:function(e){var t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(var r=0;r<t.features.length;r++){var n=t.features[r];if(n.geometry){var i=e&&e[r];n.geometry=i&&i.toJSON()||n.geometry}}return t}},{key:"quantize",value:function(e){for(var t=(0,i.Z)(e.scale,2),r=t[0],n=t[1],o=(0,i.Z)(e.translate,2),s=o[0],a=o[1],u=this.features,l=this._getQuantizationFunction(this.geometryType,(function(e){return Math.round((e-s)/r)}),(function(e){return Math.round((a-e)/n)})),c=0,p=u.length;c<p;c++)(null===l||void 0===l?void 0:l(u[c].geometry))||(u.splice(c,1),c--,p--);return this.transform=e,this}},{key:"unquantize",value:function(){var e,t,r=this.geometryType,n=this.features,s=this.transform;if(!s)return this;var a=(0,i.Z)(s.translate,2),u=a[0],l=a[1],c=(0,i.Z)(s.scale,2),p=c[0],f=c[1],d=null,y=null;if(this.hasZ&&null!=(null===s||void 0===s||null===(e=s.scale)||void 0===e?void 0:e[2])){var h=(0,i.Z)(s.translate,3)[2],v=(0,i.Z)(s.scale,3)[2];d=function(e){return e*v+h}}if(this.hasM&&null!=(null===s||void 0===s||null===(t=s.scale)||void 0===t?void 0:t[3])){var m=(0,i.Z)(s.translate,4)[3],g=(0,i.Z)(s.scale,4)[3];y=function(e){return null==e?e:e*g+m}}var _,b=this._getHydrationFunction(r,(function(e){return e*p+u}),(function(e){return l-e*f}),d,y),w=(0,o.Z)(n);try{for(w.s();!(_=w.n()).done;){var Z=_.value.geometry;null!=Z&&b&&b(Z)}}catch(S){w.e(S)}finally{w.f()}return this.transform=null,this}},{key:"_quantizePoints",value:function(e,t,r){for(var n,i,o=[],s=0,a=e.length;s<a;s++){var u=e[s];if(s>0){var l=t(u[0]),c=r(u[1]);l===n&&c===i||(o.push([l-n,c-i]),n=l,i=c)}else n=t(u[0]),i=r(u[1]),o.push([n,i])}return o.length>0?o:null}},{key:"_getQuantizationFunction",value:function(e,t,r){var n=this;return"point"===e?function(e){return e.x=t(e.x),e.y=r(e.y),e}:"polyline"===e||"polygon"===e?function(e){for(var i=(0,w.oU)(e)?e.rings:e.paths,o=[],s=0,a=i.length;s<a;s++){var u=i[s],l=n._quantizePoints(u,t,r);l&&o.push(l)}return o.length>0?((0,w.oU)(e)?e.rings=o:e.paths=o,e):null}:"multipoint"===e?function(e){var i=n._quantizePoints(e.points,t,r);return i&&i.length>0?(e.points=i,e):null}:"extent"===e?function(e){return e}:null}},{key:"_getHydrationFunction",value:function(e,t,r,n,i){return"point"===e?function(e){e.x=t(e.x),e.y=r(e.y),n&&(e.z=n(e.z))}:"polyline"===e||"polygon"===e?function(e){for(var o,s,a=(0,w.oU)(e)?e.rings:e.paths,u=0,l=a.length;u<l;u++)for(var c=a[u],p=0,f=c.length;p<f;p++){var d=c[p];p>0?(o+=d[0],s+=d[1]):(o=d[0],s=d[1]),d[0]=t(o),d[1]=r(s)}if(n&&i)for(var y=0,h=a.length;y<h;y++)for(var v=a[y],m=0,g=v.length;m<g;m++){var _=v[m];_[2]=n(_[2]),_[3]=i(_[3])}else if(n)for(var b=0,Z=a.length;b<Z;b++)for(var S=a[b],k=0,F=S.length;k<F;k++){var x=S[k];x[2]=n(x[2])}else if(i)for(var C=0,z=a.length;C<z;C++)for(var R=a[C],I=0,O=R.length;I<O;I++){var j=R[I];j[2]=i(j[2])}}:"extent"===e?function(e){e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax),n&&null!=e.zmax&&null!=e.zmin&&(e.zmax=n(e.zmax),e.zmin=n(e.zmin)),i&&null!=e.mmax&&null!=e.mmin&&(e.mmax=i(e.mmax),e.mmin=i(e.mmin))}:"multipoint"===e?function(e){for(var o,s,a=e.points,u=0,l=a.length;u<l;u++){var c=a[u];u>0?(o+=c[0],s+=c[1]):(o=c[0],s=c[1]),c[0]=t(o),c[1]=r(s)}if(n&&i)for(var p=0,f=a.length;p<f;p++){var d=a[p];d[2]=n(d[2]),d[3]=i(d[3])}else if(n)for(var y=0,h=a.length;y<h;y++){var v=a[y];v[2]=n(v[2])}else if(i)for(var m=0,g=a.length;m<g;m++){var _=a[m];_[2]=i(_[2])}}:null}}]),r}(y.wq);(0,c._)([(0,v.Cb)({type:String,json:{write:!0}})],k.prototype,"displayFieldName",void 0),(0,c._)([(0,v.Cb)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],k.prototype,"exceededTransferLimit",void 0),(0,c._)([(0,v.Cb)({type:[f.Z],json:{write:!0}})],k.prototype,"features",void 0),(0,c._)([(0,m.r)("features")],k.prototype,"readFeatures",null),(0,c._)([(0,v.Cb)({type:[Z.Z],json:{write:!0}})],k.prototype,"fields",void 0),(0,c._)([(0,v.Cb)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:S.read}}})],k.prototype,"geometryType",void 0),(0,c._)([(0,_.c)("geometryType")],k.prototype,"writeGeometryType",null),(0,c._)([(0,v.Cb)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],k.prototype,"hasM",void 0),(0,c._)([(0,v.Cb)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],k.prototype,"hasZ",void 0),(0,c._)([(0,v.Cb)({types:p.qM,json:{write:!0}})],k.prototype,"queryGeometry",void 0),(0,c._)([(0,m.r)("queryGeometry")],k.prototype,"readQueryGeometry",null),(0,c._)([(0,v.Cb)({type:b.Z,json:{write:!0}})],k.prototype,"spatialReference",void 0),(0,c._)([(0,_.c)("spatialReference")],k.prototype,"writeSpatialReference",null),(0,c._)([(0,v.Cb)({json:{write:!0}})],k.prototype,"transform",void 0),(k=n=(0,c._)([(0,g.j)("esri.rest.support.FeatureSet")],k)).prototype.toJSON.isDefaultToJSON=!0;var F=k},81085:function(e,t,r){r.d(t,{eZ:function(){return c}});var n=r(1413),i=r(44055),o=r(37270),s=r(26418),a=(r(23046),r(1374),r(39384),r(29230)),u=(r(29514),r(44051),r(98752),r(16698)),l=r(91738);function c(e,t){var r=e.displayField,n=e.editFieldsInfo,u=e.fields,l=e.objectIdField,c=e.title;if(!u)return null;var p=d({editFieldsInfo:n,fields:u,objectIdField:l},t);if(!p.length)return null;var f=function(e){var t=(0,o.O5)(e),r=e.titleBase;return t?"".concat(r,": {").concat(t.trim(),"}"):null!==r&&void 0!==r?r:""}({titleBase:c,fields:u,displayField:r}),y=[new a.Z,new s.Z];return new i.Z({title:f,content:y,fieldInfos:p})}var p=function(e,t){return t.visibleFieldNames?t.visibleFieldNames.has(e.name):(0,o.Fv)(e,t)};function f(e,t){return"oid"===e.type?-1:"oid"===t.type?1:h(e)?-1:h(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function d(e,t){var r,i=null===t||void 0===t?void 0:t.visibleFieldNames;return function(e,t){var r=e;return t&&(e=e.filter((function(e){return!t.includes(e.type)}))),e===r&&(e=e.slice()),e.sort(f),e}(null!==(r=e.fields)&&void 0!==r?r:[],(null===t||void 0===t?void 0:t.ignoreFieldTypes)||v).map((function(t){return new u.Z({fieldName:t.name,isEditable:(0,o.Hp)(t,e),label:t.alias,format:y(t),visible:p(t,(0,n.Z)((0,n.Z)({},e),{},{visibleFieldNames:i}))})}))}function y(e){switch(e.type){case"small-integer":case"integer":case"single":return new l.Z({digitSeparator:!0,places:0});case"double":return new l.Z({digitSeparator:!0,places:2});case"date":return new l.Z({dateFormat:"long-month-day-year"});default:return"string"===e.type&&(0,o.Ec)(e.name)?new l.Z({digitSeparator:!0,places:0}):null}}function h(e){return"name"===(e.name&&e.name.toLowerCase())||"name"===(e.alias&&e.alias.toLowerCase())}var v=["geometry","blob","raster","guid","xml"]},76115:function(e,t,r){r.d(t,{ET:function(){return o},I4:function(){return i},eG:function(){return u},lF:function(){return s},lj:function(){return c},qP:function(){return a},wW:function(){return l}});var n=[252,146,31,255],i={type:"esriSMS",style:"esriSMSCircle",size:6,color:n,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},o={type:"esriSLS",style:"esriSLSSolid",width:.75,color:n},s={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},a={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},u={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},l={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},c={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}}}]);
//# sourceMappingURL=7.0aaaca1c.chunk.js.map