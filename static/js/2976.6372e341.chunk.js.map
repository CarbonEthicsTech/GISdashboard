{"version":3,"file":"static/js/2976.6372e341.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/vec4f64.js","../node_modules/@arcgis/core/renderers/support/heatmapUtils.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js","../node_modules/@arcgis/core/views/2d/engine/webgl/TiledDisplayObject.js","../node_modules/@arcgis/core/views/2d/layers/BitmapTileLayerView2D.js","../node_modules/@arcgis/core/views/2d/layers/WMTSLayerView2D.js","../node_modules/@arcgis/core/views/2d/layers/support/imageUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nfunction n(){return[0,0,0,0]}function t(n){return[n[0],n[1],n[2],n[3]]}function r(n,t,r,e){return[n,t,r,e]}function e(t){const r=n(),e=Math.min(4,t.length);for(let n=0;n<e;++n)r[n]=t[n];return r}function u(n,t){return new Float64Array(n,t,4)}function a(){return n()}function o(){return r(1,1,1,1)}function s(){return r(1,0,0,0)}function i(){return r(0,1,0,0)}function c(){return r(0,0,1,0)}function f(){return r(0,0,0,1)}const l=a(),_=o(),N=s(),O=i(),T=c(),U=f(),b=Object.freeze(Object.defineProperty({__proto__:null,ONES:_,UNIT_W:U,UNIT_X:N,UNIT_Y:O,UNIT_Z:T,ZEROS:l,clone:t,create:n,createView:u,fromArray:e,fromValues:r,ones:o,unitW:f,unitX:s,unitY:i,unitZ:c,zeros:a},Symbol.toStringTag,{value:\"Module\"}));export{_ as O,N as U,l as Z,u as a,e as b,n as c,t as d,i as e,r as f,c as g,f as h,O as i,T as j,U as k,o,s as u,b as v,a as z};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{clamp as t}from\"../../core/mathUtils.js\";import{px2pt as r,pt2px as n}from\"../../core/screenUtils.js\";import{l as o}from\"../../chunks/vec4.js\";import{c as e}from\"../../chunks/vec4f64.js\";const a=2.4;function i(t){return r(t*a)}function c(t){return n(t)/a}function f(r,n,e,a){let{color:i,ratio:c}=n,{color:f,ratio:u}=e;if(u===c){const t=1e-6;1===u?c-=t:u+=t}const s=t((a-c)/(u-c),0,1);o(r,i.toArray(),f.toArray(),s)}function u(t){const r=512,n=new Uint8ClampedArray(4*r);if(t=t.filter((({ratio:t})=>t>=0&&t<=1)).sort(((t,r)=>t.ratio-r.ratio)).map((({color:t,ratio:r})=>({color:t,ratio:Math.max(r,.001)}))),t.length<1)return n;let o=t[0],a=t[0],i=1;const c=e();for(let e=0;e<r;e++){const u=(e+.5)/r;for(;u>a.ratio&&i<t.length;)o=a,a=t[i++];f(c,o,a,u),n.set(c,4*e)}return n}function s(t,r,o,e){const{radius:a,fieldOffset:i,field:c}=r,f=Math.round(n(a)),u=new Float64Array(o*e);let s,l=Number.NEGATIVE_INFINITY;const h=d(c,i),y=new Set;for(const n of t){const t=n.getCursor();for(;t.next();){const r=t.getObjectId();if(y.has(r))continue;y.add(r);const n=t.readLegacyPointGeometry(),a=128;if(n.x<-a||n.x>=o+a||n.y<-a||n.y>e+a)continue;const i=+h(t),c=Math.max(0,Math.round(n.x)-f),d=Math.max(0,Math.round(n.y)-f),g=Math.min(e,Math.round(n.y)+f),A=Math.min(o,Math.round(n.x)+f);for(let t=d;t<g;t++)for(let r=c;r<A;r++){const e=t*o+r,a=m(n.x-r,n.y-t,f);s=u[e]+=a*i,s>l&&(l=s)}}}return{matrix:u.buffer,max:l}}function l(t,r,n,o,e,a){t.canvas.width=t.canvas.height=r,t.clearRect(0,0,r,r);const i=t.getImageData(0,0,r,r);n&&o&&i.data.set(new Uint8ClampedArray(h(r,n,o,e,a))),t.putImageData(i,0,0)}function h(r,n,o,e,a){const i=new Uint32Array(r*r),c=\"buffer\"in n?n:new Float64Array(n),f=\"buffer\"in o?new Uint32Array(o.buffer):new Uint32Array(new Uint8Array(o).buffer),u=f.length/(a-e);for(let s=0;s<c.length;s++){const r=c[s],n=Math.floor((r-e)*u);i[s]=f[t(n,0,f.length-1)]}return i.buffer}function m(t,r,n){const o=Math.sqrt(t**2+r**2)/n;return o>1?0:3/(Math.PI*n**2)*(1-o**2)**2}function y(t,r){return\"function\"==typeof t?t:t?\"string\"==typeof r?r=>-1*+r[t]:n=>+n[t]+r:()=>1}function d(t,r){return null!=t?\"string\"==typeof r?r=>-1*+r.readAttribute(t):n=>+n.readAttribute(t)+r:t=>1}export{a as MAGIC_KERNEL_DENSITY_RADIUS_INFLATION_FACTOR,s as calculateHeatmapIntensityInfoReaders,h as createHeatmapImageData,y as createValueFunction,d as createValueFunctionCursor,l as drawHeatmap,m as evaluateDensityKernel,i as gaussianBlurRadiusPxToKernelDensityRadiusPt,u as generateGradient,c as kernelDensityRadiusPtToGaussianBlurRadiusPx};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{WGLDrawPhase as e}from\"./enums.js\";import r from\"./WGLContainer.js\";import s from\"./brushes/WGLBrushInfo.js\";import t from\"./brushes/WGLBrushStencil.js\";const n=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;class i extends r{constructor(e){super(),this._tileInfoView=e}get requiresDedicatedFBO(){return!1}renderChildren(e){this.sortChildren(n),this.setStencilReference(e),super.renderChildren(e)}createRenderParams(e){const{state:r}=e,s=super.createRenderParams(e);return s.requiredLevel=this._tileInfoView.getClosestInfoForScale(r.scale).level,s.displayLevel=this._tileInfoView.tileInfo.scaleToZoom(r.scale),s}prepareRenderPasses(r){const n=super.prepareRenderPasses(r);return n.push(r.registerRenderPass({name:\"stencil\",brushes:[t],drawPhase:e.DEBUG|e.MAP|e.HIGHLIGHT,target:()=>this.getStencilTarget()})),has(\"esri-tiles-debug\")&&n.push(r.registerRenderPass({name:\"tileInfo\",brushes:[s],drawPhase:e.DEBUG,target:()=>this.children})),n}getStencilTarget(){return this.children}setStencilReference(e){let r=1;for(const s of this.children)s.stencilRef=r++}}export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{s as t,m as s}from\"../../../../chunks/mat3.js\";import{DisplayObject as i}from\"../DisplayObject.js\";import e from\"../../tiling/TileKey.js\";class r extends i{constructor(t,s,i,r,h,o,n=h,a=o){super(),this.triangleCountReportedInDebug=0,this.triangleCount=0,this.texture=null,this.key=new e(t),this.resolution=s,this.x=i,this.y=r,this.width=h,this.height=o,this.rangeX=n,this.rangeY=a}destroy(){this.texture&&(this.texture.dispose(),this.texture=null)}setTransform(i){const e=this.resolution/(i.resolution*i.pixelRatio),r=this.transforms.tileMat3,[h,o]=i.toScreenNoRotation([0,0],[this.x,this.y]),n=this.width/this.rangeX*e,a=this.height/this.rangeY*e;t(r,n,0,0,0,a,0,h,o,1),s(this.transforms.dvs,i.displayViewMat3,r)}}export{r as TiledDisplayObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/Error.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{BitmapTileContainer as r}from\"../engine/BitmapTileContainer.js\";const t=t=>{let s=class extends t{attach(){this.view.timeline.record(`${this.layer.title} (BitmapTileLayer) Attach`),this._bitmapView=new r(this._tileInfoView),this.container.addChild(this._bitmapView)}detach(){this.container.removeChild(this._bitmapView),this._bitmapView?.removeAllChildren()}};return s=e([i(\"esri.views.2d.layers.BitmapTileLayerView2D\")],s),s};export{t as BitmapTileLayerView2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Logger.js\";import{isAbortError as i}from\"../../../core/promiseUtils.js\";import{watch as s}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import{equals as l}from\"../../../geometry/support/spatialReferenceUtils.js\";import{BitmapTileLayerView2D as o}from\"./BitmapTileLayerView2D.js\";import{LayerView2DMixin as h}from\"./LayerView2D.js\";import{resampleImage as c}from\"./support/imageUtils.js\";import n from\"../tiling/TileInfoView.js\";import u from\"../tiling/TileKey.js\";import p from\"../tiling/TileQueue.js\";import f from\"../tiling/TileStrategy.js\";import m from\"../../layers/LayerView.js\";import y from\"../../layers/RefreshableLayerView.js\";const d=[102113,102100,3857,3785,900913],_=[0,0];let w=class extends(y(o(h(m)))){constructor(){super(...arguments),this._tileStrategy=null,this._fetchQueue=null,this._tileRequests=new Map,this.layer=null}get tileMatrixSet(){const e=this._getTileMatrixSetBySpatialReference(this.layer.activeLayer);return e?(e.id!==this.layer.activeLayer.tileMatrixSetId&&(this.layer.activeLayer.tileMatrixSetId=e.id),e):null}update(e){this._fetchQueue.pause(),this._fetchQueue.state=e.state,this._tileStrategy.update(e),this._fetchQueue.resume()}attach(){const e=this.tileMatrixSet?.tileInfo;e&&(this._tileInfoView=new n(e),this._fetchQueue=new p({tileInfoView:this._tileInfoView,concurrency:16,process:(e,t)=>this.fetchTile(e,t)}),this._tileStrategy=new f({cachePolicy:\"keep\",resampling:!0,acquireTile:e=>this.acquireTile(e),releaseTile:e=>this.releaseTile(e),tileInfoView:this._tileInfoView}),this.addAttachHandles(s((()=>[this.layer?.activeLayer?.styleId,this.tileMatrixSet]),(()=>this._refresh()))),super.attach())}detach(){super.detach(),this._tileStrategy?.destroy(),this._fetchQueue?.destroy(),this._fetchQueue=this._tileStrategy=this._tileInfoView=null}moveStart(){this.requestUpdate()}viewChange(){this.requestUpdate()}moveEnd(){this.requestUpdate()}releaseTile(e){this._fetchQueue.abort(e.key.id),this._bitmapView.removeChild(e),e.once(\"detach\",(()=>e.destroy())),this.requestUpdate()}acquireTile(e){const t=this._bitmapView.createTile(e),i=t.bitmap;return[i.x,i.y]=this._tileInfoView.getTileCoords(_,t.key),i.resolution=this._tileInfoView.getTileResolution(t.key),[i.width,i.height]=this._tileInfoView.tileInfo.size,this._enqueueTileFetch(t),this._bitmapView.addChild(t),this.requestUpdate(),t}async doRefresh(){!this.attached||this.updateRequested||this.suspended||this._refresh()}isUpdating(){return this._fetchQueue?.updating??!1}async fetchTile(e,t={}){const s=\"tilemapCache\"in this.layer?this.layer.tilemapCache:null,{signal:r,resamplingLevel:a=0}=t;if(!s)return this._fetchImage(e,r);const l=new u(0,0,0,0);let o;try{await s.fetchAvailabilityUpsample(e.level,e.row,e.col,l,{signal:r}),o=await this._fetchImage(l,r)}catch(h){if(i(h))throw h;if(a<3){const i=this._tileInfoView.getTileParentId(e.id);if(i){const s=new u(i),r=await this.fetchTile(s,{...t,resamplingLevel:a+1});return c(this._tileInfoView,r,s,e)}}throw h}return c(this._tileInfoView,o,l,e)}canResume(){const e=super.canResume();return e?null!==this.tileMatrixSet:e}supportsSpatialReference(e){return this.layer.activeLayer.tileMatrixSets?.some((t=>l(t.tileInfo?.spatialReference,e)))??!1}async _enqueueTileFetch(e){if(!this._fetchQueue.has(e.key.id)){try{const t=await this._fetchQueue.push(e.key);e.bitmap.source=t,e.bitmap.width=this._tileInfoView.tileInfo.size[0],e.bitmap.height=this._tileInfoView.tileInfo.size[1],e.once(\"attach\",(()=>this.requestUpdate()))}catch(s){i(s)||t.getLogger(this).error(s)}this.requestUpdate()}}async _fetchImage(e,t){return this.layer.fetchImageBitmapTile(e.level,e.row,e.col,{signal:t})}_refresh(){this._fetchQueue.reset(),this._tileStrategy.refresh((e=>{if(!e.bitmap.source)return;const t={id:e.key.id,fulfilled:!1,promise:this._fetchQueue.push(e.key).then((t=>{e.bitmap.source=t})).catch((t=>{i(t)||(e.bitmap.source=null)})).finally((()=>{e.requestRender(),t.fulfilled=!0}))};this._tileRequests.set(e,t)}))}_getTileMatrixSetBySpatialReference(e){const t=this.view.spatialReference;if(!e.tileMatrixSets)return null;let i=e.tileMatrixSets.find((e=>l(e.tileInfo?.spatialReference,t)));return!i&&t.isWebMercator&&(i=e.tileMatrixSets.find((e=>d.includes(e.tileInfo?.spatialReference.wkid??-1)))),i}};e([r()],w.prototype,\"_fetchQueue\",void 0),e([r({readOnly:!0})],w.prototype,\"tileMatrixSet\",null),w=e([a(\"esri.views.2d.layers.WMTSLayerView2D\")],w);const g=w;export{g as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nfunction e(e){return e instanceof HTMLImageElement?e.naturalWidth:e.width}function t(e){return e instanceof HTMLImageElement?e.naturalHeight:e.height}function n(n,l,r,u){if(r.level===u.level)return l;const i=n.tileInfo.size,a=n.getTileResolution(r.level),c=n.getTileResolution(u.level);let g=n.getLODInfoAt(u.level);const h=g.getXForColumn(u.col),d=g.getYForRow(u.row);g=n.getLODInfoAt(r.level);const f=g.getXForColumn(r.col),s=g.getYForRow(r.row),m=e(l)/i[0],v=t(l)/i[1],w=Math.round(m*((h-f)/a)),I=Math.round(v*(-(d-s)/a)),M=Math.round(m*i[0]*(c/a)),F=Math.round(v*i[1]*(c/a)),L=o(i);return L.getContext(\"2d\").drawImage(l,w,I,M,F,0,0,i[0],i[1]),L}function o(e){const t=document.createElement(\"canvas\");return[t.width,t.height]=e,t}export{o as createBlankImage,n as resampleImage};\n"],"names":["n","r","t","e","u","Float64Array","a","o","s","i","c","f","l","_","N","O","T","U","Object","freeze","defineProperty","__proto__","ONES","UNIT_W","UNIT_X","UNIT_Y","UNIT_Z","ZEROS","clone","create","createView","fromArray","Math","min","length","fromValues","ones","unitW","unitX","unitY","unitZ","zeros","Symbol","toStringTag","value","color","ratio","toArray","Uint8ClampedArray","filter","_ref","sort","map","_ref2","max","set","_step","radius","fieldOffset","field","round","Number","NEGATIVE_INFINITY","h","readAttribute","d","y","Set","_iterator","_createForOfIteratorHelper","done","getCursor","next","getObjectId","has","add","readLegacyPointGeometry","x","g","A","m","err","matrix","buffer","canvas","width","height","clearRect","getImageData","data","Uint32Array","Uint8Array","floor","putImageData","sqrt","pow","PI","key","level","row","col","_r","_inherits","_super","_createSuper","_this","_classCallCheck","call","_tileInfoView","_createClass","get","this","sortChildren","setStencilReference","_get","_getPrototypeOf","prototype","state","requiredLevel","getClosestInfoForScale","scale","displayLevel","tileInfo","scaleToZoom","_this2","push","registerRenderPass","name","brushes","drawPhase","DEBUG","MAP","HIGHLIGHT","target","getStencilTarget","children","stencilRef","_i","arguments","undefined","triangleCountReportedInDebug","triangleCount","texture","resolution","rangeX","rangeY","dispose","pixelRatio","transforms","tileMat3","_i$toScreenNoRotation","toScreenNoRotation","_i$toScreenNoRotation2","_slicedToArray","dvs","displayViewMat3","_t","apply","view","timeline","record","concat","layer","title","_bitmapView","container","addChild","_this$_bitmapView","removeChild","removeAllChildren","w","_y","_tileStrategy","_fetchQueue","_tileRequests","Map","_getTileMatrixSetBySpatialReference","activeLayer","id","tileMatrixSetId","pause","update","resume","_this$tileMatrixSet","tileMatrixSet","p","tileInfoView","concurrency","process","fetchTile","cachePolicy","resampling","acquireTile","releaseTile","addAttachHandles","_this2$layer","styleId","_refresh","_this$_tileStrategy","_this$_fetchQueue","destroy","requestUpdate","abort","once","_this$_tileInfoView$g","_this$_tileInfoView$g2","_this$_tileInfoView$t","createTile","bitmap","getTileCoords","getTileResolution","size","_enqueueTileFetch","_doRefresh","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","attached","updateRequested","suspended","stop","_this$_fetchQueue$upd","_this$_fetchQueue2","updating","_fetchTile","_callee2","_t$resamplingLevel","_s","_args2","_context2","tilemapCache","signal","resamplingLevel","abrupt","_fetchImage","fetchAvailabilityUpsample","sent","t0","getTileParentId","_objectSpread","_x","_this$layer$activeLay","_this$layer$activeLay2","tileMatrixSets","some","_t$tileInfo","spatialReference","_enqueueTileFetch2","_callee3","_this3","_context3","source","getLogger","error","_x2","_fetchImage2","_callee4","_context4","fetchImageBitmapTile","_x3","_x4","_this4","reset","refresh","fulfilled","promise","then","catch","finally","requestRender","find","_e$tileInfo","isWebMercator","_e$tileInfo$spatialRe","_e$tileInfo2","includes","wkid","readOnly","getLODInfoAt","getXForColumn","getYForRow","HTMLImageElement","naturalWidth","v","naturalHeight","I","M","F","L","getContext","drawImage","_e","document","createElement"],"sourceRoot":""}