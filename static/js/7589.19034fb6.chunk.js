"use strict";(self.webpackChunkgis_dashboard=self.webpackChunkgis_dashboard||[]).push([[7589],{67077:function(e,r,t){function n(){return[0,0,0,0]}function i(e,r,t,n){return[e,r,t,n]}function a(e,r){return new Float64Array(e,r,4)}function u(){return[0,0,0,0]}function o(){return i(1,1,1,1)}function l(){return i(1,0,0,0)}function s(){return i(0,1,0,0)}function c(){return i(0,0,1,0)}function f(){return i(0,0,0,1)}t.d(r,{a:function(){return a},c:function(){return n},f:function(){return i}});var y=[0,0,0,0],d=o(),h=l(),v=s(),p=c(),b=f();Object.freeze(Object.defineProperty({__proto__:null,ONES:d,UNIT_W:b,UNIT_X:h,UNIT_Y:v,UNIT_Z:p,ZEROS:y,clone:function(e){return[e[0],e[1],e[2],e[3]]},create:n,createView:a,fromArray:function(e){for(var r=[0,0,0,0],t=Math.min(4,e.length),n=0;n<t;++n)r[n]=e[n];return r},fromValues:i,ones:o,unitW:f,unitX:l,unitY:s,unitZ:c,zeros:u},Symbol.toStringTag,{value:"Module"}))},27811:function(e,r,t){t.d(r,{AJ:function(){return c},If:function(){return v},QM:function(){return d},hy:function(){return h},k0:function(){return s},nu:function(){return l},uI:function(){return y},wx:function(){return p}});var n=t(37762),i=t(16889),a=t(17842),u=t(90045),o=t(67077),l=2.4;function s(e){return(0,a.Wz)(e*l)}function c(e){return(0,a.F2)(e)/l}function f(e,r,t,n){var a=r.color,o=r.ratio,l=t.color,s=t.ratio;if(s===o){var c=1e-6;1===s?o-=c:s+=c}var f=(0,i.uZ)((n-o)/(s-o),0,1);(0,u.l)(e,a.toArray(),l.toArray(),f)}function y(e){var r=new Uint8ClampedArray(2048);if(e=e.filter((function(e){var r=e.ratio;return r>=0&&r<=1})).sort((function(e,r){return e.ratio-r.ratio})).map((function(e){var r=e.color,t=e.ratio;return{color:r,ratio:Math.max(t,.001)}})),e.length<1)return r;for(var t=e[0],n=e[0],i=1,a=(0,o.c)(),u=0;u<512;u++){for(var l=(u+.5)/512;l>n.ratio&&i<e.length;)t=n,n=e[i++];f(a,t,n,l),r.set(a,4*u)}return r}function d(e,r,t,i){var u,o,l=r.radius,s=r.fieldOffset,c=r.field,f=Math.round((0,a.F2)(l)),y=new Float64Array(t*i),d=Number.NEGATIVE_INFINITY,h=function(e,r){return null!=e?"string"==typeof r?function(r){return-1*+r.readAttribute(e)}:function(t){return+t.readAttribute(e)+r}:function(e){return 1}}(c,s),p=new Set,b=(0,n.Z)(e);try{for(b.s();!(o=b.n()).done;)for(var w=o.value.getCursor();w.next();){var g=w.getObjectId();if(!p.has(g)){p.add(g);var _=w.readLegacyPointGeometry(),V=128;if(!(_.x<-V||_.x>=t+V||_.y<-V||_.y>i+V))for(var m=+h(w),Z=Math.max(0,Math.round(_.x)-f),k=Math.max(0,Math.round(_.y)-f),M=Math.min(i,Math.round(_.y)+f),C=Math.min(t,Math.round(_.x)+f),F=k;F<M;F++)for(var A=Z;A<C;A++){var O=F*t+A,x=v(_.x-A,_.y-F,f);(u=y[O]+=x*m)>d&&(d=u)}}}}catch(E){b.e(E)}finally{b.f()}return{matrix:y.buffer,max:d}}function h(e,r,t,n,a,u){e.canvas.width=e.canvas.height=r,e.clearRect(0,0,r,r);var o=e.getImageData(0,0,r,r);t&&n&&o.data.set(new Uint8ClampedArray(function(e,r,t,n,a){for(var u=new Uint32Array(e*e),o=("buffer"in r?r:new Float64Array(r)),l=("buffer"in t?new Uint32Array(t.buffer):new Uint32Array(new Uint8Array(t).buffer)),s=l.length/(a-n),c=0;c<o.length;c++){var f=o[c],y=Math.floor((f-n)*s);u[c]=l[(0,i.uZ)(y,0,l.length-1)]}return u.buffer}(r,t,n,a,u))),e.putImageData(o,0,0)}function v(e,r,t){var n=Math.sqrt(Math.pow(e,2)+Math.pow(r,2))/t;return n>1?0:3/(Math.PI*Math.pow(t,2))*Math.pow(1-Math.pow(n,2),2)}function p(e,r){return"function"==typeof e?e:e?"string"==typeof r?function(r){return-1*+r[e]}:function(t){return+t[e]+r}:function(){return 1}}},47037:function(e,r,t){t.d(r,{G:function(){return d}});var n=t(1413),i=t(37762),a=t(15671),u=t(43144),o=t(11752),l=t(61120),s=t(60136),c=t(29388),f=t(64510),y=t(8548),d=function(e){(0,s.Z)(t,e);var r=(0,c.Z)(t);function t(){var e;return(0,a.Z)(this,t),(e=r.apply(this,arguments))._prevFBO=void 0,e.requiresDedicatedFBO=!1,e}return(0,u.Z)(t,[{key:"dispose",value:function(){}},{key:"doRender",value:function(e){var r=this.createRenderParams(e),t=r.context,n=r.painter,a=r.profiler;this._prevFBO=t.getBoundFramebufferObject(),a.recordContainerStart(this.name);var u=this._getFbo(r),o=n.getRenderTarget();t.bindFramebuffer(u),n.setRenderTarget(u),t.setDepthWriteEnabled(!0),t.setColorMask(!0,!0,!0,!0),t.setClearColor(0,0,0,0),t.setClearDepth(1),t.clear(t.gl.COLOR_BUFFER_BIT|t.gl.DEPTH_BUFFER_BIT),t.setDepthWriteEnabled(!1);var l,s=(0,i.Z)(this.children);try{for(s.s();!(l=s.n()).done;){l.value.beforeRender(e)}}catch(v){s.e(v)}finally{s.f()}var c,f=(0,i.Z)(this.children);try{for(f.s();!(c=f.n()).done;){c.value.processRender(r)}}catch(v){f.e(v)}finally{f.f()}var d,h=(0,i.Z)(this.children);try{for(h.s();!(d=h.n()).done;){d.value.afterRender(e)}}catch(v){h.e(v)}finally{h.f()}n.setRenderTarget(o),n.releaseFbo(u),t.bindFramebuffer(this._prevFBO),n.beforeRenderLayer(r,this._clippingInfos?255:0,this.computedOpacity),u.colorTexture&&(t.setStencilTestEnabled(!1),t.setStencilWriteMask(0),n.blitTexture(t,u.colorTexture,y.cw.NEAREST)),n.compositeLayer(r,this.computedOpacity),a.recordContainerEnd()}},{key:"createRenderParams",value:function(e){return(0,n.Z)((0,n.Z)({},(0,o.Z)((0,l.Z)(t.prototype),"createRenderParams",this).call(this,e)),{},{blendMode:this.blendMode,effects:this.computedEffects,globalOpacity:1})}},{key:"_getFbo",value:function(e){var r=e.context,t=e.painter,n=r.getViewport(),i=n.width,a=n.height;return t.acquireFbo(i,a)}}]),t}(f.Z)},60531:function(e,r,t){t.r(r),t.d(r,{default:function(){return w}});var n=t(15671),i=t(43144),a=t(60136),u=t(29388),o=t(27366),l=(t(32718),t(25243),t(63780),t(93169),t(10064),t(69912)),s=t(47037),c=t(95986),f=t(40281),y=t(60354),d=t(94172),h=t(49861),v=function(e){(0,a.Z)(t,e);var r=(0,u.Z)(t);function t(e){var i;return(0,n.Z)(this,t),(i=r.call(this,e)).type="group",i.layerViews=new f.Z,i}return(0,i.Z)(t,[{key:"destroy",value:function(){this.handles.removeAll(),this.layerViews.length=0}},{key:"_allLayerViewVisibility",value:function(e){this.layerViews.forEach((function(r){r.visible=e}))}},{key:"initialize",value:function(){var e=this;this.handles.add([this.layerViews.on("change",(function(r){return e._layerViewsChangeHandler(r)})),(0,d.YP)((function(){var r;return null===(r=e.layer)||void 0===r?void 0:r.visibilityMode}),(function(){e.layer&&e._applyVisibility((function(){return e._allLayerViewVisibility(e.visible)}),(function(){return e._applyExclusiveVisibility(null)}))}),d.Z_),(0,d.YP)((function(){return e.visible}),(function(r){e._applyVisibility((function(){return e._allLayerViewVisibility(r)}),(function(){}))}),d.Z_)],"grouplayerview"),this._layerViewsChangeHandler({target:null,added:this.layerViews.toArray(),removed:[],moved:[]})}},{key:"layerViews",set:function(e){this._set("layerViews",(0,y.Z)(e,this._get("layerViews")))}},{key:"updatingProgress",get:function(){return 0===this.layerViews.length?1:this.layerViews.reduce((function(e,r){return e+r.updatingProgress}),0)/this.layerViews.length}},{key:"isUpdating",value:function(){return this.layerViews.some((function(e){return e.updating}))}},{key:"_hasLayerViewVisibleOverrides",value:function(){return this.layerViews.some((function(e){return e._isOverridden("visible")}))}},{key:"_findLayerViewForLayer",value:function(e){return e&&this.layerViews.find((function(r){return r.layer===e}))}},{key:"_firstVisibleOnLayerOrder",value:function(){var e=this,r=this.layer.layers.find((function(r){var t=e._findLayerViewForLayer(r);return!(null===t||void 0===t||!t.visible)}));return r&&this._findLayerViewForLayer(r)}},{key:"_applyExclusiveVisibility",value:function(e){null==e&&null==(e=this._firstVisibleOnLayerOrder())&&this.layerViews.length>0&&(e=this._findLayerViewForLayer(this.layer.layers.at(0))),this.layerViews.forEach((function(r){r.visible=r===e}))}},{key:"_layerViewsChangeHandler",value:function(e){var r=this;this.handles.remove("grouplayerview:visible"),this.handles.add(this.layerViews.map((function(e){return(0,d.YP)((function(){return e.visible}),(function(t){return r._applyVisibility((function(){t!==r.visible&&(e.visible=r.visible)}),(function(){return r._applyExclusiveVisibility(t?e:null)}))}),d.Z_)})).toArray(),"grouplayerview:visible");var t=e.added[e.added.length-1];this._applyVisibility((function(){return r._allLayerViewVisibility(r.visible)}),(function(){return r._applyExclusiveVisibility(null!==t&&void 0!==t&&t.visible?t:null)}))}},{key:"_applyVisibility",value:function(e,r){var t,n;this._hasLayerViewVisibleOverrides()&&("inherited"===(null===(t=this.layer)||void 0===t?void 0:t.visibilityMode)?e():"exclusive"===(null===(n=this.layer)||void 0===n?void 0:n.visibilityMode)&&r())}}]),t}(t(67581).Z);(0,o._)([(0,h.Cb)({cast:y.R})],v.prototype,"layerViews",null),(0,o._)([(0,h.Cb)({readOnly:!0})],v.prototype,"updatingProgress",null),(0,o._)([(0,h.Cb)()],v.prototype,"view",void 0);var p=v=(0,o._)([(0,l.j)("esri.views.layers.GroupLayerView")],v),b=function(e){(0,a.Z)(t,e);var r=(0,u.Z)(t);function t(){var e;return(0,n.Z)(this,t),(e=r.apply(this,arguments)).container=new s.G,e}return(0,i.Z)(t,[{key:"attach",value:function(){var e=this;this._updateStageChildren(),this.addAttachHandles(this.layerViews.on("after-changes",(function(){return e._updateStageChildren()})))}},{key:"detach",value:function(){this.container.removeAllChildren()}},{key:"update",value:function(e){}},{key:"moveStart",value:function(){}},{key:"viewChange",value:function(){}},{key:"moveEnd",value:function(){}},{key:"_updateStageChildren",value:function(){var e=this;this.container.removeAllChildren(),this.layerViews.forEach((function(r,t){return e.container.addChildAt(r.container,t)}))}}]),t}((0,c.y)(p)),w=b=(0,o._)([(0,l.j)("esri.views.2d.layers.GroupLayerView2D")],b)}}]);
//# sourceMappingURL=7589.19034fb6.chunk.js.map