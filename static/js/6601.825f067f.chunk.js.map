{"version":3,"file":"static/js/6601.825f067f.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/mixins/EditBusLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Evented.js\";import{clone as d}from\"../../core/lang.js\";import{createResolver as s}from\"../../core/promiseUtils.js\";import\"../../core/Logger.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Error.js\";import\"../../core/has.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";const i=new t.EventEmitter;function l(e,t,d=!1){const r=s();return d=null==t||d,i.emit(\"apply-edits\",{serviceUrl:e,layerId:t,mayReceiveServiceEdits:d,result:r.promise}),r}const a=\"esri.layers.mixins.EditBusLayer\",o=Symbol(a);function n(e){return null!=e&&\"object\"==typeof e&&o in e}const c=t=>{var s;let l=class extends t{constructor(...e){super(...e),this[s]=!0,this.when().then((()=>{this.own([i.on(\"apply-edits\",(e=>{const{serviceUrl:t,layerId:s,mayReceiveServiceEdits:r,result:i}=e,l=t===this.url,a=null!=s&&null!=this.layerId&&s===this.layerId;if(!l||!a&&!r)return;const o=i.then((e=>{if(a&&(e.addedFeatures.length||e.updatedFeatures.length||e.deletedFeatures.length||e.addedAttachments.length||e.updatedAttachments.length||e.deletedAttachments.length))return this.emit(\"edits\",d(e)),e;const t=e.editedFeatures?.find((({layerId:e})=>e===this.layerId));if(t){const{adds:s,updates:r,deletes:i}=t.editedFeatures,l={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:s?s.map((({attributes:e})=>({objectId:this.objectIdField&&e[this.objectIdField],globalId:this.globalIdField&&e[this.globalIdField]}))):[],deletedFeatures:i?i.map((({attributes:e})=>({objectId:this.objectIdField&&e[this.objectIdField],globalId:this.globalIdField&&e[this.globalIdField]}))):[],updatedFeatures:r?r.map((({current:{attributes:e}})=>({objectId:this.objectIdField&&e[this.objectIdField],globalId:this.globalIdField&&e[this.globalIdField]}))):[],editedFeatures:d(e.editedFeatures),exceededTransferLimit:!1};return this.emit(\"edits\",l),l}return{edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:[],deletedFeatures:[],updatedFeatures:[],editedFeatures:d(e.editedFeatures),exceededTransferLimit:!1}}));this.emit(\"apply-edits\",{result:o})}))])}),(()=>{}))}};return s=o,l=e([r(a)],l),l};export{c as EditBusLayer,l as emitApplyEditsEvent,n as isEditBusLayer};\n"],"names":["i","t","EventEmitter","l","e","d","arguments","length","undefined","r","s","emit","serviceUrl","layerId","mayReceiveServiceEdits","result","promise","a","o","Symbol","n","c","_t","_inherits","_super","_createSuper","_this","_classCallCheck","_len","Array","_key","call","apply","concat","when","then","own","on","url","_e$editedFeatures","addedFeatures","updatedFeatures","deletedFeatures","addedAttachments","updatedAttachments","deletedAttachments","editedFeatures","find","_ref","_t$editedFeatures","adds","updates","deletes","edits","map","_ref2","attributes","objectId","objectIdField","globalId","globalIdField","_ref3","_ref4","current","exceededTransferLimit","_createClass"],"sourceRoot":""}