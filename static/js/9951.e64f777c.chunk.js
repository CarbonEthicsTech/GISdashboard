"use strict";(self.webpackChunkgis_dashboard=self.webpackChunkgis_dashboard||[]).push([[9951],{71277:function(e,n,t){function r(e){return e=e||globalThis.location.hostname,s.some((function(n){var t;return null!=(null===(t=e)||void 0===t?void 0:t.match(n))}))}function o(e,n){return e&&(n=n||globalThis.location.hostname)?null!=n.match(l)||null!=n.match(i)?e.replace("static.arcgis.com","staticdev.arcgis.com"):null!=n.match(a)||null!=n.match(u)?e.replace("static.arcgis.com","staticqa.arcgis.com"):e:e}t.d(n,{XO:function(){return r},pJ:function(){return o}});var l=/^devext.arcgis.com$/,a=/^qaext.arcgis.com$/,i=/^[\w-]*\.mapsdevext.arcgis.com$/,u=/^[\w-]*\.mapsqa.arcgis.com$/,s=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local.esri.com$/,l,a,/^jsapps.esri.com$/,i,u]},28554:function(e,n,t){t.d(n,{K3:function(){return o},Rx:function(){return i}});var r=t(93169),o=function(){return!!(0,r.Z)("enable-feature:force-wosr")},l=function(){return r.Z.add("enable-feature:direct-3d-object-feature-layer-display",!1,!0,!0)},a=function(){return r.Z.add("enable-i3s-patching",!1,!0,!0)},i=function(){return!!(0,r.Z)("enable-feature:SceneLayer-editing")};!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"i3s-patching";switch(a(),l(),r.Z.add("enable-feature:SceneLayer-editing",!0,!0,!0),e){case"feature-layer-view":r.Z.add("enable-feature:direct-3d-object-feature-layer-display",!0,!0,!0);break;case"i3s-patching":r.Z.add("enable-i3s-patching",!0,!0,!0)}}("i3s-patching")},42283:function(e,n,t){t.d(n,{im:function(){return x},cW:function(){return w},vX:function(){return Z}});var r=t(51508),o=t(10064),l=t(37933),a=t(67140),i=t(80045),u=t(62554),s=t(16851),c=t(31655),m=t(16072),f=t(91946),y=t(61459),d=t(16915),b=t(1030),p=t(58009),v=t(24931),h={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function g(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h;if(!e)return{symbol:null};var t=n.retainId,l=void 0===t?h.retainId:t,a=n.ignoreDrivers,g=void 0===a?h.ignoreDrivers:a,w=n.hasLabelingContext,Z=void 0===w?h.hasLabelingContext:w,S=n.retainCIM,C=void 0===S?h.retainCIM:S,x=null;if((0,r.dU)(e)||e instanceof i.Z)x=e.clone();else if("cim"===e.type){var N,D=null===(N=e.data)||void 0===N||null===(N=N.symbol)||void 0===N?void 0:N.type;if("CIMPointSymbol"!==D)return{error:new o.Z("symbol-conversion:unsupported-cim-symbol","CIM symbol of type '".concat(D||"unknown","' is unsupported in 3D"),{symbol:e})};x=C?e.clone():u.Z.fromCIMSymbol(e)}else if(e instanceof s.Z)x=c.Z.fromSimpleLineSymbol(e);else if(e instanceof m.Z)x=u.Z.fromSimpleMarkerSymbol(e);else if(e instanceof f.Z)x=u.Z.fromPictureMarkerSymbol(e);else if(e instanceof y.Z)x=n.geometryType&&"mesh"===n.geometryType?d.Z.fromSimpleFillSymbol(e):b.Z.fromSimpleFillSymbol(e);else{if(!(e instanceof p.Z))return{error:new o.Z("symbol-conversion:unsupported-2d-symbol","2D symbol of type '".concat(e.type||e.declaredClass,"' is unsupported in 3D"),{symbol:e})};x=Z?v.Z.fromTextSymbol(e):u.Z.fromTextSymbol(e)}return l&&x&&"cim"!==x.type&&(x.id=e.id),g&&(0,r.dU)(x)&&x.symbolLayers.forEach((function(e){return e.ignoreDrivers=!0})),{symbol:x}}function w(e,n,t,r){var o=C(e,{},{context:r,isLabelSymbol:!1});null!=o&&(n[t]=o)}function Z(e,n,t,r){var o=C(e,{},{context:r,isLabelSymbol:!0});null!=o&&(n[t]=o)}function S(e){return e instanceof a.Z||e instanceof i.Z}function C(e,n,t){if(null==e)return null;var r=t.context,a=t.isLabelSymbol,i=null===r||void 0===r?void 0:r.origin,u=null===r||void 0===r?void 0:r.messages;if("web-scene"===i&&!S(e)){var s=g(e,{retainCIM:!0,hasLabelingContext:a});return null!=s.symbol?s.symbol.write(n,r):(null!==u&&void 0!==u&&u.push(new o.Z("symbol:unsupported","Symbols of type '".concat(e.declaredClass,"' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView"),{symbol:e,context:r,error:s.error})),null)}return("web-map"===i||"portal-item"===i&&!(0,l.A2)(null===r||void 0===r?void 0:r.layer))&&S(e)?(null!==u&&void 0!==u&&u.push(new o.Z("symbol:unsupported","Symbols of type '".concat(e.declaredClass,"' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView"),{symbol:e,context:r})),null):e.write(n,r)}function x(e,n){return(0,r.S9)(e,null,n)}},38048:function(e,n,t){t.d(n,{EJ:function(){return w},KV:function(){return h},n2:function(){return v},v9:function(){return g},wm:function(){return C}});var r=t(74165),o=t(1413),l=t(37762),a=t(15861),i=t(76200),u=t(10064),s=t(66978),c=t(35995),m=t(7575),f=t(65694),y=t(28554),d={};function b(){return(b=(0,a.Z)((0,r.Z)().mark((function e(n,t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(n,t);case 3:return e.t0=e.sent.data,e.t1=(0,c.Yd)(n),e.t2=n,e.abrupt("return",{data:e.t0,baseUrl:e.t1,styleUrl:e.t2});case 9:return e.prev=9,e.t3=e.catch(0),e.abrupt("return",((0,s.r9)(e.t3),null));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function p(e,n,t){var r,o=null!=n.portal?n.portal:m.Z.getDefault(),a="".concat(o.url," - ").concat(o.user&&o.user.username," - ").concat(e);return d[a]||(d[a]=function(e,n,t){return n.load(t).then((function(){var r=new f.Z({disableExtraQuery:!0,query:"owner:".concat(Z," AND type:").concat(S,' AND typekeywords:"').concat(e,'"')});return n.queryItems(r,t)})).then((function(n){var r=n.results,o=null,a=e.toLowerCase();if(r&&Array.isArray(r)){var i,s=(0,l.Z)(r);try{for(s.s();!(i=s.n()).done;){var c,m=i.value,f=null===(c=m.typeKeywords)||void 0===c?void 0:c.some((function(e){return e.toLowerCase()===a}));if(f&&m.type===S&&m.owner===Z){o=m;break}}}catch(y){s.e(y)}finally{s.f()}}if(!o)throw new u.Z("symbolstyleutils:style-not-found","The style '".concat(e,"' could not be found"),{styleName:e});return o.load(t)}))}(e,o,t).then((function(e){return r=e,e.fetchData()})).then((function(n){var t;return{data:n,baseUrl:null!==(t=r.itemUrl)&&void 0!==t?t:"",styleName:e}}))),d[a]}function v(e,n,t){return e&&null!=e.styleUrl?function(e,n){return b.apply(this,arguments)}(e.styleUrl,t):e&&null!=e.styleName?p(e.styleName,n,t):Promise.reject(new u.Z("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function h(e){return null===e||"CIMSymbolReference"===e.type?e:{type:"CIMSymbolReference",symbol:e}}function g(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["gltf"];if("cimRef"===n)return e.cimRef;if(e.formatInfos&&!(0,y.K3)()){var r,o=(0,l.Z)(t);try{var a,i=function(){var n=r.value,t=e.formatInfos.find((function(e){return e.type===n}));if(t)return{v:t.href}};for(o.s();!(r=o.n()).done;)if(a=i())return a.v}catch(u){o.e(u)}finally{o.f()}}return e.webRef}function w(e,n){var t=(0,o.Z)({responseType:"json",query:{f:"json"}},n);return(0,i.default)((0,c.Fv)(e),t)}var Z="esri_en",S="Style",C="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json"},19951:function(e,n,t){t.r(n),t.d(n,{fetchSymbolFromStyle:function(){return p},getStyleItemFromStyle:function(){return b},resolveWebStyleSymbol:function(){return d}});var r=t(51508),o=t(71277),l=t(10064),a=t(92026),i=t(35995),u=t(7575),s=t(53283),c=t(42283),m=t(1472),f=t(38048),y=t(81854);function d(e,n,t,r){var o=e.name;return null==o?Promise.reject(new l.Z("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference")):e.styleName&&"Esri2DPointSymbolsStyle"===e.styleName?function(e,n,t){var r=f.wm.replaceAll(/\{SymbolName\}/gi,e),o=null!=n.portal?n.portal:u.Z.getDefault();return(0,f.EJ)(r,t).then((function(e){var n=(0,f.KV)(e.data);return(0,c.im)(n,{portal:o,url:(0,i.mN)((0,i.Yd)(r)),origin:"portal-item"})}))}(o,n,r):(0,f.n2)(e,n,r).then((function(e){return p((0,a.s3)(e),o,n,t,f.v9,r)}))}function b(e,n){return n.items.find((function(n){return n.name===e}))}function p(e,n,t,a,d,p){var v,h,g,w=t&&null!=t.portal?t.portal:u.Z.getDefault(),Z={portal:w,url:(0,i.mN)(e.baseUrl),origin:"portal-item"},S=b(n,e.data);if(!S){var C="The symbol name '".concat(n,"' could not be found");return Promise.reject(new l.Z("symbolstyleutils:symbol-name-not-found",C,{symbolName:n}))}var x=(0,s.f)(d(S,a),Z),N=null!==(v=null===(h=S.thumbnail)||void 0===h?void 0:h.href)&&void 0!==v?v:null,D=S.thumbnail&&S.thumbnail.imageData;(0,o.XO)()&&(x=null!==(g=(0,o.pJ)(x))&&void 0!==g?g:"",N=(0,o.pJ)(N));var I={portal:w,url:(0,i.mN)((0,i.Yd)(x)),origin:"portal-item"};return(0,f.EJ)(x,p).then((function(o){var l="cimRef"===a?(0,f.KV)(o.data):o.data,i=(0,c.im)(l,I);if(i&&(0,r.dU)(i)){if(N){var u=(0,s.f)(N,Z);i.thumbnail=new y.p({url:u})}else D&&(i.thumbnail=new y.p({url:"data:image/png;base64,".concat(D)}));e.styleUrl?i.styleOrigin=new m.Z({portal:t.portal,styleUrl:e.styleUrl,name:n}):e.styleName&&(i.styleOrigin=new m.Z({portal:t.portal,styleName:e.styleName,name:n}))}return i}))}}}]);
//# sourceMappingURL=9951.e64f777c.chunk.js.map