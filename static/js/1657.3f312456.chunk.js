"use strict";(self.webpackChunkgis_dashboard=self.webpackChunkgis_dashboard||[]).push([[1657],{51657:function(e,t,r){r.r(t),r.d(t,{default:function(){return I}});var n=r(1413),i=r(37762),s=r(74165),a=r(15861),u=r(15671),o=r(43144),l=r(76200),c=r(14921),p=r(10064),d=r(32718),f=r(66978),y=r(77981),h=r(92975),v=r(83406),g=r(97114),m=r(19995),b=r(27011),Z=r(47615),x=r(63543),k=r(68808),w=r(52410),F=r(85249),_=r(37270),S={hasAttachments:!1,capabilities:"query, editing, create, delete, update",useStandardizedQueries:!0,supportsCoordinatesQuantization:!0,supportsReturningQueryGeometry:!0,advancedQueryCapabilities:{supportsQueryAttachments:!1,supportsStatistics:!0,supportsPercentileStatistics:!0,supportsReturningGeometryCentroid:!0,supportsQueryWithDistance:!0,supportsDistinct:!0,supportsReturningQueryExtent:!0,supportsReturningGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQueryWithResultType:!1,supportsSqlExpression:!0,supportsDisjointSpatialRel:!0}},I=function(){function e(){var t=this;(0,u.Z)(this,e),this._queryEngine=null,this._snapshotFeatures=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(r){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._fetch(r);case 2:return n=e.sent,e.abrupt("return",t._createFeatures(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}return(0,o.Z)(e,[{key:"destroy",value:function(){var e;null!==(e=this._queryEngine)&&void 0!==e&&e.destroy(),this._queryEngine=this._fieldsIndex=this._createDefaultAttributes=null}},{key:"load",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var r,a,u,o,l,c,d,f,y,v,m,k,I,T,E,q,j,P,O,G,R,C,D,M,A,L,Q,z,N,U=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=U.length>1&&void 0!==U[1]?U[1]:{},this._loadOptions={url:t.url,customParameters:t.customParameters},a=[],e.next=5,this._checkProjection(t.spatialReference);case 5:if(u=null,e.t0=t.url,!e.t0){e.next=11;break}return e.next=10,this._fetch(null===r||void 0===r?void 0:r.signal);case 10:u=e.sent;case 11:o=(0,Z.my)(u,{geometryType:t.geometryType}),l=t.fields||o.fields||[],c=null!=t.hasZ?t.hasZ:o.hasZ,d=o.geometryType,f=t.objectIdField||o.objectIdFieldName||"__OBJECTID",y=t.spatialReference||h.Zn,v=t.timeInfo,l===o.fields&&o.unknownFields.length>0&&a.push({name:"geojson-layer:unknown-field-types",message:"Some fields types couldn't be inferred from the features and were dropped",details:{unknownFields:o.unknownFields}}),(m=new w.Z(l).get(f))?("esriFieldTypeString"!==m.type&&(m.type="esriFieldTypeOID"),m.editable=!1,m.nullable=!1,f=m.name):(m={alias:f,name:f,type:"string"===o.objectIdFieldType?"esriFieldTypeString":"esriFieldTypeOID",editable:!1,nullable:!1},l.unshift(m)),k={},I=(0,i.Z)(l),e.prev=20,I.s();case 22:if((T=I.n()).done){e.next=31;break}if(null==(E=T.value).name&&(E.name=E.alias),null==E.alias&&(E.alias=E.name),E.name){e.next=26;break}throw new p.Z("geojson-layer:invalid-field-name","field name is missing",{field:E});case 26:if(F.v.jsonValues.includes(E.type)){e.next=28;break}throw new p.Z("geojson-layer:invalid-field-type",'invalid type for field "'.concat(E.name,'"'),{field:E});case 28:E.name!==m.name&&void 0!==(q=(0,_.os)(E))&&(k[E.name]=q);case 29:e.next=22;break;case 31:e.next=36;break;case 33:e.prev=33,e.t1=e.catch(20),I.e(e.t1);case 36:return e.prev=36,I.f(),e.finish(36);case 39:return this._fieldsIndex=new w.Z(l),(j=this._fieldsIndex.requiredFields.indexOf(m))>-1&&this._fieldsIndex.requiredFields.splice(j,1),v&&(v.startTimeField&&((P=this._fieldsIndex.get(v.startTimeField))?(v.startTimeField=P.name,P.type="esriFieldTypeDate"):v.startTimeField=null),v.endTimeField&&((O=this._fieldsIndex.get(v.endTimeField))?(v.endTimeField=O.name,O.type="esriFieldTypeDate"):v.endTimeField=null),v.trackIdField&&((G=this._fieldsIndex.get(v.trackIdField))?v.trackIdField=G.name:(v.trackIdField=null,a.push({name:"geojson-layer:invalid-timeInfo-trackIdField",message:"trackIdField is missing",details:{timeInfo:v}}))),v.startTimeField||v.endTimeField||(a.push({name:"geojson-layer:invalid-timeInfo",message:"startTimeField and endTimeField are missing",details:{timeInfo:v}}),v=null)),R=d?(0,x.bU)(d):void 0,C={warnings:a,featureErrors:[],layerDefinition:(0,n.Z)((0,n.Z)({},S),{},{drawingInfo:null!==R&&void 0!==R?R:void 0,templates:(0,x.Hq)(k),extent:void 0,geometryType:d,objectIdField:f,fields:l,hasZ:!!c,timeInfo:v})},this._queryEngine=new b.q({fields:l,geometryType:d,hasM:!1,hasZ:c,objectIdField:f,spatialReference:y,timeInfo:v,featureStore:new g.Z({geometryType:d,hasM:!1,hasZ:c}),cacheSpatialQueries:!0}),this._createDefaultAttributes=(0,x.Dm)(k,f),e.next=46,this._createFeatures(u);case 46:return D=e.sent,this._objectIdGenerator=this._createObjectIdGenerator(this._queryEngine,D),M=this._normalizeFeatures(D,C.warnings,C.featureErrors),this._queryEngine.featureStore.addMany(M),e.next=52,this._queryEngine.fetchRecomputedExtents();case 52:return A=e.sent,L=A.fullExtent,Q=A.timeExtent,C.layerDefinition.extent=L,Q&&(z=Q.start,N=Q.end,C.layerDefinition.timeInfo.timeExtent=[z,N]),e.abrupt("return",C);case 57:case"end":return e.stop()}}),e,this,[[20,33,36,39]])})));return function(t){return e.apply(this,arguments)}}()},{key:"applyEdits",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var r,n,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._queryEngine,n=r.spatialReference,i=r.geometryType,e.next=3,Promise.all([(0,k.b)(n,i),(0,m._W)(t.adds,n),(0,m._W)(t.updates,n)]);case 3:return e.next=5,this._waitSnapshotComplete();case 5:return e.abrupt("return",this._applyEdits(t));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queryFeatures",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var t,r,n=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=4,this._waitSnapshotComplete();case 4:return e.abrupt("return",this._queryEngine.executeQuery(t,r.signal));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"queryFeatureCount",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var t,r,n=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=4,this._waitSnapshotComplete();case 4:return e.abrupt("return",this._queryEngine.executeQueryForCount(t,r.signal));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"queryObjectIds",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var t,r,n=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=4,this._waitSnapshotComplete();case 4:return e.abrupt("return",this._queryEngine.executeQueryForIds(t,r.signal));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"queryExtent",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var t,r,n=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=4,this._waitSnapshotComplete();case 4:return e.abrupt("return",this._queryEngine.executeQueryForExtent(t,r.signal));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"querySnapping",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var r,n=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=3,this._waitSnapshotComplete();case 3:return e.abrupt("return",this._queryEngine.executeQueryForSnapping(t,r.signal));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"refresh",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var r,n,i,a,u=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._loadOptions.customParameters=t,null!==(r=this._snapshotTask)&&void 0!==r&&r.abort(),this._snapshotTask=(0,c.vr)(this._snapshotFeatures),this._snapshotTask.promise.then((function(e){u._queryEngine.featureStore.clear(),u._objectIdGenerator=u._createObjectIdGenerator(u._queryEngine,e);var t=u._normalizeFeatures(e);t&&u._queryEngine.featureStore.addMany(t)}),(function(e){u._queryEngine.featureStore.clear(),(0,f.D_)(e)||d.Z.getLogger("esri.layers.GeoJSONLayer").error(new p.Z("geojson-layer:refresh","An error occurred during refresh",{error:e}))})),e.next=6,this._waitSnapshotComplete();case 6:return e.next=8,this._queryEngine.fetchRecomputedExtents();case 8:return n=e.sent,i=n.fullExtent,a=n.timeExtent,e.abrupt("return",{extent:i,timeExtent:a});case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_createFeatures",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var r,n,a,u,o,l,c,p;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",[]);case 2:if(r=this._queryEngine,n=r.geometryType,a=r.hasZ,u=r.objectIdField,o=(0,Z.lG)(t,{geometryType:n,hasZ:a,objectIdField:u}),!(0,h.fS)(this._queryEngine.spatialReference,h.Zn)){l=(0,i.Z)(o);try{for(l.s();!(c=l.n()).done;)null!=(p=c.value).geometry&&(p.geometry=(0,v.GH)((0,m.iV)((0,v.di)(p.geometry,this._queryEngine.geometryType,this._queryEngine.hasZ,!1),h.Zn,this._queryEngine.spatialReference)))}catch(s){l.e(s)}finally{l.f()}}return e.abrupt("return",o);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_waitSnapshotComplete",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._snapshotTask||this._snapshotTask.finished){e.next=9;break}return e.prev=1,e.next=4,this._snapshotTask.promise;case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:return e.abrupt("return",this._waitSnapshotComplete());case 9:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"_fetch",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var r,i,a,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._loadOptions,i=r.url,a=r.customParameters,e.next=5,(0,l.default)(i,{responseType:"json",query:(0,n.Z)({},a),signal:t});case 5:return u=e.sent.data,e.next=8,(0,Z.O3)(u);case 8:return e.abrupt("return",u);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_normalizeFeatures",value:function(e,t,r){var n,s=this._queryEngine.objectIdField,a=[],u=(0,i.Z)(e);try{for(u.s();!(n=u.n()).done;){var o=n.value,l=this._createDefaultAttributes(),c=(0,k.O0)(this._fieldsIndex,l,o.attributes,!0,t);c?null===r||void 0===r||r.push(c):(this._assignObjectId(l,o.attributes,!0),o.attributes=l,o.objectId=l[s],a.push(o))}}catch(p){u.e(p)}finally{u.f()}return a}},{key:"_applyEdits",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){var r,n,a,u,o,l,c,p,d,f;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.adds,n=t.updates,a=t.deletes,u={addResults:[],deleteResults:[],updateResults:[],uidToObjectId:{}},r&&r.length&&this._applyAddEdits(u,r),n&&n.length&&this._applyUpdateEdits(u,n),a&&a.length){o=(0,i.Z)(a);try{for(o.s();!(l=o.n()).done;)c=l.value,u.deleteResults.push((0,k.d1)(c))}catch(s){o.e(s)}finally{o.f()}this._queryEngine.featureStore.removeManyById(a)}return e.next=4,this._queryEngine.fetchRecomputedExtents();case 4:return p=e.sent,d=p.fullExtent,f=p.timeExtent,e.abrupt("return",{extent:d,timeExtent:f,featureEditResults:u});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_applyAddEdits",value:function(e,t){var r,n=e.addResults,s=this._queryEngine,a=s.geometryType,u=s.hasM,o=s.hasZ,l=s.objectIdField,c=s.spatialReference,p=s.featureStore,d=[],f=(0,i.Z)(t);try{for(f.s();!(r=f.n()).done;){var h=r.value;if(h.geometry&&a!==(0,y.Ji)(h.geometry))n.push((0,k.av)("Incorrect geometry type."));else{var g=this._createDefaultAttributes(),b=(0,k.O0)(this._fieldsIndex,g,h.attributes);if(b)n.push(b);else{if(this._assignObjectId(g,h.attributes),h.attributes=g,null!=h.uid){var Z=h.attributes[l];e.uidToObjectId[h.uid]=Z}if(null!=h.geometry){var x,w=null!==(x=h.geometry.spatialReference)&&void 0!==x?x:c;h.geometry=(0,m.iV)((0,k.og)(h.geometry,w),w,c)}d.push(h),n.push((0,k.d1)(h.attributes[l]))}}}}catch(F){f.e(F)}finally{f.f()}p.addMany((0,v.Yn)([],d,a,o,u,l))}},{key:"_applyUpdateEdits",value:function(e,t){var r,n=e.updateResults,s=this._queryEngine,a=s.geometryType,u=s.hasM,o=s.hasZ,l=s.objectIdField,c=s.spatialReference,p=s.featureStore,d=(0,i.Z)(t);try{for(d.s();!(r=d.n()).done;){var f=r.value,h=f.attributes,g=f.geometry,b=h&&h[l];if(null!=b)if(p.has(b)){var Z=(0,v.EI)(p.getFeature(b),a,o,u);if(null!=g){var x;if(a!==(0,y.Ji)(g)){n.push((0,k.av)("Incorrect geometry type."));continue}var w=null!==(x=g.spatialReference)&&void 0!==x?x:c;Z.geometry=(0,m.iV)((0,k.og)(g,w),w,c)}if(h){var F=(0,k.O0)(this._fieldsIndex,Z.attributes,h);if(F){n.push(F);continue}}p.add((0,v.XA)(Z,a,o,u,l)),n.push((0,k.d1)(b))}else n.push((0,k.av)("Feature with object id ".concat(b," missing")));else n.push((0,k.av)("Identifier field ".concat(l," missing")))}}catch(_){d.e(_)}finally{d.f()}}},{key:"_createObjectIdGenerator",value:function(e,t){var r=e.fieldsIndex.get(e.objectIdField);if("esriFieldTypeString"===r.type)return function(){return r.name+"-"+Date.now().toString(16)};var n,s=Number.NEGATIVE_INFINITY,a=(0,i.Z)(t);try{for(a.s();!(n=a.n()).done;){var u=n.value;u.objectId&&(s=Math.max(s,u.objectId))}}catch(o){a.e(o)}finally{a.f()}return s=Math.max(0,s)+1,function(){return s++}}},{key:"_assignObjectId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this._queryEngine.objectIdField;e[n]=r&&n in t?t[n]:this._objectIdGenerator()}},{key:"_checkProjection",value:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,m._W)(h.Zn,t);case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),new p.Z("geojson-layer","Projection not supported");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},47615:function(e,t,r){r.d(t,{O3:function(){return _},lG:function(){return I},my:function(){return S},q9:function(){return f}});var n=r(29439),i=r(74165),s=r(37762),a=r(10064),u=r(3182),o=r(80457),l=r(37270),c=(0,i.Z)().mark(y),p=(0,i.Z)().mark(h),d={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function f(e){return d[e]}function y(e){var t,r,n;return(0,i.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:i.t0=e.type,i.next="Feature"===i.t0?3:"FeatureCollection"===i.t0?6:25;break;case 3:return i.next=5,e;case 5:return i.abrupt("break",25);case 6:t=(0,s.Z)(e.features),i.prev=7,t.s();case 9:if((r=t.n()).done){i.next=17;break}if(n=r.value,i.t1=n,!i.t1){i.next=15;break}return i.next=15,n;case 15:i.next=9;break;case 17:i.next=22;break;case 19:i.prev=19,i.t2=i.catch(7),t.e(i.t2);case 22:return i.prev=22,t.f(),i.finish(22);case 25:case"end":return i.stop()}}),c,null,[[7,19,22,25]])}function h(e){var t,r,n,a,u,o,l,c,d;return(0,i.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!e){i.next=57;break}i.t0=e.type,i.next="Point"===i.t0?4:"LineString"===i.t0||"MultiPoint"===i.t0?7:"MultiLineString"===i.t0||"Polygon"===i.t0?9:"MultiPolygon"===i.t0?26:57;break;case 4:return i.next=6,e.coordinates;case 6:return i.abrupt("break",57);case 7:return i.delegateYield(e.coordinates,"t1",8);case 8:return i.abrupt("break",57);case 9:t=(0,s.Z)(e.coordinates),i.prev=10,t.s();case 12:if((r=t.n()).done){i.next=17;break}return n=r.value,i.delegateYield(n,"t2",15);case 15:i.next=12;break;case 17:i.next=22;break;case 19:i.prev=19,i.t3=i.catch(10),t.e(i.t3);case 22:return i.prev=22,t.f(),i.finish(22);case 25:return i.abrupt("break",57);case 26:a=(0,s.Z)(e.coordinates),i.prev=27,a.s();case 29:if((u=a.n()).done){i.next=49;break}o=u.value,l=(0,s.Z)(o),i.prev=32,l.s();case 34:if((c=l.n()).done){i.next=39;break}return d=c.value,i.delegateYield(d,"t4",37);case 37:i.next=34;break;case 39:i.next=44;break;case 41:i.prev=41,i.t5=i.catch(32),l.e(i.t5);case 44:return i.prev=44,l.f(),i.finish(44);case 47:i.next=29;break;case 49:i.next=54;break;case 51:i.prev=51,i.t6=i.catch(27),a.e(i.t6);case 54:return i.prev=54,a.f(),i.finish(54);case 57:case"end":return i.stop()}}),p,null,[[10,19,22,25],[27,51,54,57],[32,41,44,47]])}function v(e){for(var t=0,r=0;r<e.length;r++){var n=e[r],i=e[(r+1)%e.length];t+=n[0]*i[1]-i[0]*n[1]}return t<=0}function g(e){var t=e[0],r=e[e.length-1];return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]||e.push(t),e}function m(e,t,r){switch(t.type){case"LineString":case"MultiPoint":return function(e,t,r){return x(e,t.coordinates,r),e}(e,t,r);case"MultiLineString":return function(e,t,r){var n,i=(0,s.Z)(t.coordinates);try{for(i.s();!(n=i.n()).done;){x(e,n.value,r)}}catch(a){i.e(a)}finally{i.f()}return e}(e,t,r);case"MultiPolygon":return function(e,t,r){var n,i=(0,s.Z)(t.coordinates);try{for(i.s();!(n=i.n()).done;){var a=n.value;b(e,a[0],r);for(var u=1;u<a.length;u++)Z(e,a[u],r)}}catch(o){i.e(o)}finally{i.f()}return e}(e,t,r);case"Point":return function(e,t,r){return w(e,t.coordinates,r),e}(e,t,r);case"Polygon":return function(e,t,r){var n=t.coordinates;b(e,n[0],r);for(var i=1;i<n.length;i++)Z(e,n[i],r);return e}(e,t,r)}}function b(e,t,r){var n=g(t);!function(e){return!v(e)}(n)?x(e,n,r):k(e,n,r)}function Z(e,t,r){var n=g(t);!function(e){return v(e)}(n)?x(e,n,r):k(e,n,r)}function x(e,t,r){var n,i=(0,s.Z)(t);try{for(i.s();!(n=i.n()).done;){w(e,n.value,r)}}catch(a){i.e(a)}finally{i.f()}e.lengths.push(t.length)}function k(e,t,r){for(var n=t.length-1;n>=0;n--)w(e,t[n],r);e.lengths.push(t.length)}function w(e,t,r){var i=(0,n.Z)(t,3),s=i[0],a=i[1],u=i[2];e.coords.push(s,a),r.hasZ&&e.coords.push(u||0)}function F(e){switch(typeof e){case"string":return"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}function _(e){if(!e)throw new a.Z("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==e.type&&"FeatureCollection"!==e.type)throw new a.Z("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:e});var t=e.crs;if(t){var r="string"==typeof t?t:"name"===t.type?t.properties.name:"EPSG"===t.type?t.properties.code:null,n=new RegExp(".*(CRS84H?|4326)$","i");if(!r||!n.test(r))throw new a.Z("geojson-layer:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:t})}}function S(e){var t,r,n,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=[],o=new Set,c=new Set,p=!1,d=null,v=!1,g=a.geometryType,m=void 0===g?null:g,b=!1,Z=(0,s.Z)(y(e));try{var x=function(){var e=i.value,t=e.geometry,r=e.properties,a=e.id;if((!t||(m||(m=f(t.type)),f(t.type)===m))&&(p||(p=function(e){var t,r=(0,s.Z)(e);try{for(r.s();!(t=r.n()).done;)if(t.value.length>2)return!0}catch(n){r.e(n)}finally{r.f()}return!1}(h(t))),v||(v=null!=a)&&(n=typeof a,r&&(d=Object.keys(r).filter((function(e){return r[e]===a})))),r&&d&&v&&null!=a&&(d.length>1?d=d.filter((function(e){return r[e]===a})):1===d.length&&(d=r[d[0]]===a?d:[])),!b&&r)){var y=!0;for(var g in r)if(!o.has(g)){var Z=r[g];if(null!=Z){var x=F(Z);if("unknown"!==x){c.delete(g),o.add(g);var k=(0,l.q6)(g);k&&u.push({name:k,alias:g,type:x})}else c.add(g)}else y=!1,c.add(g)}b=y}};for(Z.s();!(i=Z.n()).done;)x()}catch(I){Z.e(I)}finally{Z.f()}var k=null!==(t=(0,l.q6)(1===(null===(r=d)||void 0===r?void 0:r.length)&&d[0]||null))&&void 0!==t?t:void 0;if(k){var w,_=(0,s.Z)(u);try{for(_.s();!(w=_.n()).done;){var S=w.value;if(S.name===k&&(0,l.H7)(S)){S.type="esriFieldTypeOID";break}}}catch(I){_.e(I)}finally{_.f()}}return{fields:u,geometryType:m,hasZ:p,objectIdFieldName:k,objectIdFieldType:n,unknownFields:Array.from(c)}}function I(e,t){return Array.from(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i.Z)().mark((function r(){var n,a,l,c,p,d,y,h,v,g,b,Z;return(0,i.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=t.geometryType,a=t.objectIdField,l=(0,s.Z)(e),r.prev=2,l.s();case 4:if((c=l.n()).done){r.next=17;break}if(d=c.value,y=d.geometry,h=d.properties,v=d.id,!y||f(y.type)===n){r.next=9;break}return r.abrupt("continue",15);case 9:return g=h||{},b=void 0,a&&(b=g[a],null==v||b||(g[a]=b=v)),Z=new u.u_(y?m(new o.Z,y,t):null,g,null,null!==(p=b)&&void 0!==p?p:void 0),r.next=15,Z;case 15:r.next=4;break;case 17:r.next=22;break;case 19:r.prev=19,r.t0=r.catch(2),l.e(r.t0);case 22:return r.prev=22,l.f(),r.finish(22);case 25:case"end":return r.stop()}}),r,null,[[2,19,22,25]])}))()}(y(e),t))}},63543:function(e,t,r){r.d(t,{Dm:function(){return d},Hq:function(){return f},MS:function(){return y},bU:function(){return l}});var n=r(4942),i=r(1413),s=r(93169),a=r(84652),u=r(60480),o=r(76115);function l(e){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===e||"esriGeometryMultipoint"===e?o.I4:"esriGeometryPolyline"===e?o.ET:o.lF}}}var c=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/,p=1;function d(e,t){if((0,s.Z)("esri-csp-restrictions"))return function(){return(0,i.Z)((0,n.Z)({},t,null),e)};try{var r="this.".concat(t," = null;");for(var a in e)r+="this".concat(c.test(a)?".".concat(a):'["'.concat(a,'"]')," = ").concat(JSON.stringify(e[a]),";");var u=new Function("\n      return class AttributesClass$".concat(p++," {\n        constructor() {\n          ").concat(r,";\n        }\n      }\n    "))();return function(){return new u}}catch(o){return function(){return(0,i.Z)((0,n.Z)({},t,null),e)}}}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[{name:"New Feature",description:"",prototype:{attributes:(0,a.d9)(e)}}]}function y(e,t){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:t,supportsDelete:t,supportsEditing:t,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:t,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:u.g,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:t,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1}}}},68808:function(e,t,r){r.d(t,{O0:function(){return g},av:function(){return d},b:function(){return k},d1:function(){return y},og:function(){return b}});var n=r(74165),i=r(15861),s=r(37762),a=r(43144),u=r(15671),o=r(92975),l=r(37270),c=(0,a.Z)((function e(){(0,u.Z)(this,e),this.code=null,this.description=null})),p=(0,a.Z)((function e(t){(0,u.Z)(this,e),this.error=new c,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=t}));function d(e){return new p(e)}var f=(0,a.Z)((function e(t){(0,u.Z)(this,e),this.globalId=null,this.success=!0,this.objectId=this.uniqueId=t}));function y(e){return new f(e)}var h,v=new Set;function g(e,t,r){var n,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0;for(var u in v.clear(),r){var o=e.get(u);if(o){var c=r[u],p=m(o,c);if(p!==c&&a&&a.push({name:"invalid-value-type",message:"attribute value was converted to match the field type",details:{field:o,originalValue:c,sanitizedValue:p}}),v.add(o.name),o&&(i||o.editable)){var f=(0,l.Qc)(o,p);if(f)return d((0,l.vP)(f,o,p));t[o.name]=p}}}var y,h=(0,s.Z)(null!==(n=null===e||void 0===e?void 0:e.requiredFields)&&void 0!==n?n:[]);try{for(h.s();!(y=h.n()).done;){var g=y.value;if(!v.has(g.name))return d('missing required field "'.concat(g.name,'"'))}}catch(b){h.e(b)}finally{h.f()}return null}function m(e,t){var r=t;return"string"==typeof t&&(0,l.H7)(e)?r=parseFloat(t):null!=t&&(0,l.qN)(e)&&"string"!=typeof t&&(r=String(t)),(0,l.Pz)(r)}function b(e,t){if(!e||!(0,o.JY)(t))return e;if("rings"in e||"paths"in e){if(null==h)throw new TypeError("geometry engine not loaded");return h.simplify(t,e)}return e}function Z(){return x.apply(this,arguments)}function x(){return(x=(0,i.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=null==h,!e.t0){e.next=5;break}return e.next=4,Promise.all([r.e(9058),r.e(3645)]).then(r.bind(r,50309));case 4:h=e.sent;case 5:return e.abrupt("return",h);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t){return w.apply(this,arguments)}function w(){return(w=(0,i.Z)((0,n.Z)().mark((function e(t,r){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!(0,o.JY)(t)||"esriGeometryPolygon"!==r&&"esriGeometryPolyline"!==r,e.t0){e.next=4;break}return e.next=4,Z();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},85249:function(e,t,r){r.d(t,{v:function(){return n}});var n=new(r(43404).X)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"})},76115:function(e,t,r){r.d(t,{ET:function(){return s},I4:function(){return i},eG:function(){return o},lF:function(){return a},lj:function(){return c},qP:function(){return u},wW:function(){return l}});var n=[252,146,31,255],i={type:"esriSMS",style:"esriSMSCircle",size:6,color:n,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},s={type:"esriSLS",style:"esriSLSSolid",width:.75,color:n},a={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},u={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},o={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},l={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},c={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}}}]);
//# sourceMappingURL=1657.3f312456.chunk.js.map