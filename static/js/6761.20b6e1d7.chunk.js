"use strict";(self.webpackChunkgis_dashboard=self.webpackChunkgis_dashboard||[]).push([[6761],{32035:function(e,r,n){n.d(r,{a:function(){return u},b:function(){return a},c:function(){return o},d:function(){return s},e:function(){return f},n:function(){return l},s:function(){return c},t:function(){return i}});var t=n(77873);function o(e,r,n){i(e.typedBuffer,r.typedBuffer,n,e.typedBufferStride,r.typedBufferStride)}function i(e,r,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:o;if(e.length/o!==Math.ceil(r.length/i))return t.c.error("source and destination buffers need to have the same number of elements"),e;for(var a=e.length/o,u=n[0],f=n[1],c=n[2],s=n[4],l=n[5],d=n[6],p=n[8],h=n[9],y=n[10],v=n[12],m=n[13],g=n[14],b=0,w=0,Z=0;Z<a;Z++){var x=r[b],S=r[b+1],E=r[b+2];e[w]=u*x+s*S+p*E+v,e[w+1]=f*x+l*S+h*E+m,e[w+2]=c*x+d*S+y*E+g,b+=i,w+=o}return e}function a(e,r,n){u(e.typedBuffer,r.typedBuffer,n,e.typedBufferStride,r.typedBufferStride)}function u(e,r,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:o;if(e.length/o===Math.ceil(r.length/i))for(var a=e.length/o,u=n[0],f=n[1],c=n[2],s=n[3],l=n[4],d=n[5],p=n[6],h=n[7],y=n[8],v=0,m=0,g=0;g<a;g++){var b=r[v],w=r[v+1],Z=r[v+2];e[m]=u*b+s*w+p*Z,e[m+1]=f*b+l*w+h*Z,e[m+2]=c*b+d*w+y*Z,v+=i,m+=o}else t.c.error("source and destination buffers need to have the same number of elements")}function f(e,r,n){c(e.typedBuffer,r,n,e.typedBufferStride)}function c(e,r,n){for(var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,o=Math.min(e.length/t,r.count),i=r.typedBuffer,a=r.typedBufferStride,u=0,f=0,c=0;c<o;c++)e[f]=n*i[u],e[f+1]=n*i[u+1],e[f+2]=n*i[u+2],u+=a,f+=t}function s(e,r){l(e.typedBuffer,r.typedBuffer,e.typedBufferStride,r.typedBufferStride)}function l(e,r){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n,o=Math.min(e.length/n,r.length/t),i=0,a=0,u=0;u<o;u++){var f=r[i],c=r[i+1],s=r[i+2],l=f*f+c*c+s*s;if(l>0){var d=1/Math.sqrt(l);e[a]=d*f,e[a+1]=d*c,e[a+2]=d*s}i+=t,a+=n}}Object.freeze(Object.defineProperty({__proto__:null,normalize:l,normalizeView:s,scale:c,scaleView:f,shiftRight:function(e,r,n){for(var t=Math.min(e.count,r.count),o=e.typedBuffer,i=e.typedBufferStride,a=r.typedBuffer,u=r.typedBufferStride,f=0,c=0,s=0;s<t;s++)o[c]=a[f]>>n,o[c+1]=a[f+1]>>n,o[c+2]=a[f+2]>>n,f+=u,c+=i},transformMat3:u,transformMat3View:a,transformMat4:i,transformMat4View:o},Symbol.toStringTag,{value:"Module"}))},86372:function(e,r,n){n.d(r,{JK:function(){return u},QZ:function(){return i},Rq:function(){return a},bg:function(){return o},mB:function(){return f}});var t=n(18722);function o(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e<=t.DB?r?new Array(e).fill(0):new Array(e):new Float64Array(e)}function i(e){return((0,t.kJ)(e)?e.length:e.byteLength/8)<=t.DB?Array.from(e):new Float64Array(e)}function a(e,r,n){return Array.isArray(e)?e.slice(r,r+n):e.subarray(r,r+n)}function u(e,r){for(var n=0;n<r.length;++n)e[n]=r[n];return e}function f(e){return Array.isArray(e)?new Float64Array(e):e}},80880:function(e,r,n){n.d(r,{Z:function(){return m}});var t=n(29439),o=n(15671),i=n(43144),a=n(60136),u=n(29388),f=n(27366),c=n(11582),s=n(46784),l=n(49861),d=(n(25243),n(63780),n(93169),n(27135)),p=n(69912),h=n(71353),y=n(585),v=function(e){(0,a.Z)(n,e);var r=(0,u.Z)(n);function n(e){var t;return(0,o.Z)(this,n),(t=r.call(this,e)).type="georeferenced-relative",t.isRelative=!0,t.isGeoreferenced=!0,t.origin=(0,h.c)(),t}return(0,i.Z)(n,[{key:"getOriginPoint",value:function(e){var r=(0,t.Z)(this.origin,3),n=r[0],o=r[1],i=r[2];return new y.Z({x:n,y:o,z:i,spatialReference:e})}},{key:"setOriginFormPoint",value:function(e){var r=e.x,n=e.y,t=e.z;this.origin=(0,h.f)(r,n,null!==t&&void 0!==t?t:0)}}]),n}((0,c.J)(s.wq));(0,f._)([(0,d.J)({georeferencedRelative:"georeferenced-relative"},{readOnly:!0})],v.prototype,"type",void 0),(0,f._)([(0,l.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],v.prototype,"origin",void 0);var m=v=(0,f._)([(0,p.j)("esri.geometry.support.MeshGeoreferencedRelativeVertexSpace")],v)},8623:function(e,r,n){n.d(r,{Z:function(){return p}});var t=n(43144),o=n(15671),i=n(60136),a=n(29388),u=n(27366),f=n(11582),c=n(46784),s=(n(32718),n(25243),n(63780),n(93169),n(10064),n(27135)),l=n(69912),d=function(e){(0,i.Z)(n,e);var r=(0,a.Z)(n);function n(){var e;return(0,o.Z)(this,n),(e=r.call(this,{})).type="georeferenced",e.isRelative=!1,e.isGeoreferenced=!0,e}return(0,t.Z)(n)}((0,f.J)(c.wq));(0,u._)([(0,s.J)({georeferenced:"georeferenced"},{readOnly:!0})],d.prototype,"type",void 0);var p=d=(0,u._)([(0,l.j)("esri.geometry.support.MeshGeoreferencedVertexSpace")],d)},50250:function(e,r,n){n.d(r,{Z:function(){return m}});var t=n(29439),o=n(15671),i=n(43144),a=n(60136),u=n(29388),f=n(27366),c=n(11582),s=n(46784),l=n(49861),d=(n(25243),n(63780),n(93169),n(27135)),p=n(69912),h=n(71353),y=n(585),v=function(e){(0,a.Z)(n,e);var r=(0,u.Z)(n);function n(e){var t;return(0,o.Z)(this,n),(t=r.call(this,e)).type="local",t.isRelative=!0,t.isGeoreferenced=!1,t.origin=(0,h.c)(),t}return(0,i.Z)(n,[{key:"getOriginPoint",value:function(e){var r=(0,t.Z)(this.origin,3),n=r[0],o=r[1],i=r[2];return new y.Z({x:n,y:o,z:i,spatialReference:e})}},{key:"setOriginFormPoint",value:function(e){var r=e.x,n=e.y,t=e.z;this.origin=(0,h.f)(r,n,null!==t&&void 0!==t?t:0)}}]),n}((0,c.J)(s.wq));(0,f._)([(0,d.J)({local:"local"},{readOnly:!0})],v.prototype,"type",void 0),(0,f._)([(0,l.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],v.prototype,"origin",void 0);var m=v=(0,f._)([(0,p.j)("esri.geometry.support.MeshLocalVertexSpace")],v)},77873:function(e,r,n){n.d(r,{c:function(){return t}});var t=n(32718).Z.getLogger("esri.views.3d.support.buffer.math")},6761:function(e,r,n){n.r(r),n.d(r,{destroyContext:function(){return C},dracoDecompressPointCloudData:function(){return B},filterObbsForModifications:function(){return M},filterObbsForModificationsSync:function(){return z},initialize:function(){return G},interpretObbModificationResults:function(){return j},process:function(){return E},project:function(){return O},setLegacySchema:function(){return k},setModifications:function(){return L},setModificationsSync:function(){return T},test:function(){return H},transformNormals:function(){return U}});var t,o,i=n(29439),a=n(74165),u=n(15861),f=n(78952),c=n(86372),s=n(80880),l=n(8623),d=n(50250),p=n(32035);!function(e){e[e.None=0]="None",e[e.Int16=1]="Int16",e[e.Int32=2]="Int32"}(t||(t={})),function(e){e[e.Replace=0]="Replace",e[e.Outside=1]="Outside",e[e.Inside=2]="Inside",e[e.Finished=3]="Finished"}(o||(o={}));var h,y=n(65905);function v(e){return(0,y.V)("esri/libs/i3s/".concat(e))}var m,g,b,w,Z;n(23470);!function(e){e[e.Unmodified=0]="Unmodified",e[e.Culled=1]="Culled",e[e.NotChecked=2]="NotChecked"}(m||(m={})),function(e){e[e.Unmodified=0]="Unmodified",e[e.PotentiallyModified=1]="PotentiallyModified",e[e.Culled=2]="Culled",e[e.Unknown=3]="Unknown",e[e.NotChecked=4]="NotChecked"}(g||(g={}));!function(e){e[e.Unknown=0]="Unknown",e[e.Uncached=1]="Uncached",e[e.Cached=2]="Cached"}(b||(b={})),function(e){e[e.None=0]="None",e[e.MaxScreenThreshold=1]="MaxScreenThreshold",e[e.ScreenSpaceRelative=2]="ScreenSpaceRelative",e[e.RemovedFeatureDiameter=3]="RemovedFeatureDiameter",e[e.DistanceRangeFromDefaultCamera=4]="DistanceRangeFromDefaultCamera"}(w||(w={})),function(e){e[e.Hole=0]="Hole",e[e.Leaf=1]="Leaf"}(Z||(Z={}));var x,S;function E(e){return A.apply(this,arguments)}function A(){return(A=(0,u.Z)((0,a.Z)().mark((function e(r){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:return n=[r.geometryBuffer],e.abrupt("return",{result:D(r,n),transferList:n});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return _.apply(this,arguments)}function _(){return _=(0,u.Z)((0,a.Z)().mark((function e(r){var n,t,o,i,u,f,c,s,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:if(t=[r.geometryBuffer],o=r.geometryBuffer,i=o.byteLength,u=S._malloc(i),(f=new Uint8Array(S.HEAPU8.buffer,u,i)).set(new Uint8Array(o)),c=S.dracoDecompressPointCloudData(u,f.byteLength),S._free(u),!(c.error.length>0)){e.next=7;break}throw new Error("i3s.wasm: ".concat(c.error));case 7:return s=(null===(n=c.featureIds)||void 0===n?void 0:n.length)>0?c.featureIds.slice():null,l=c.positions.slice(),e.abrupt("return",(s&&t.push(s.buffer),t.push(l.buffer),{result:{positions:l,featureIds:s},transferList:t}));case 9:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}function M(e){return R.apply(this,arguments)}function R(){return(R=(0,u.Z)((0,a.Z)().mark((function e(r){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:return z(r),n={buffer:r.buffer},e.abrupt("return",{result:n,transferList:[n.buffer]});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){return P.apply(this,arguments)}function P(){return(P=(0,u.Z)((0,a.Z)().mark((function e(r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:T(r);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return F.apply(this,arguments)}function F(){return(F=(0,u.Z)((0,a.Z)().mark((function e(r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:S.setLegacySchema(r.context,r.jsonSchema);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return I.apply(this,arguments)}function I(){return I=(0,u.Z)((0,a.Z)().mark((function e(r){var t,o,u,p,h,y,v,m,g,b,w,Z,x,S,E,A,B,_,M,R;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.localMatrix,o=r.origin,u=r.positions,p=r.vertexSpace,h=r.local,y=f.Z.fromJSON(r.inSpatialReference),v=f.Z.fromJSON(r.outSpatialReference),"georeferenced"!==(m={georeferenced:l.Z,georeferencedRelative:s.Z,local:d.Z}[p.type].fromJSON(p)).type){e.next=13;break}return e.next=4,Promise.resolve().then(n.bind(n,79803));case 4:return b=e.sent,w=b.projectBuffer,Z=b.initializeProjection,e.next=9,Z(y,v);case 9:g=new Float64Array(u.length),w(u,y,0,g,v,0,g.length/3),e.next=18;break;case 13:return e.next=15,Promise.all([n.e(5158),n.e(7898)]).then(n.bind(n,57898));case 15:x=e.sent,S=x.project,g=(0,c.mB)(S({positions:u,transform:t?{localMatrix:t}:void 0,vertexSpace:m,inSpatialReference:y,outSpatialReference:v,local:h}));case 18:for(E=g.length,A=(0,i.Z)(o,3),B=A[0],_=A[1],M=A[2],R=0;R<E;R+=3)g[R]-=B,g[R+1]-=_,g[R+2]-=M;return e.abrupt("return",{result:{projected:g,original:u},transferList:[g.buffer,u.buffer]});case 21:case"end":return e.stop()}}),e)}))),I.apply(this,arguments)}function U(e){return N.apply(this,arguments)}function N(){return N=(0,u.Z)((0,a.Z)().mark((function e(r){var n,t,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.normalMatrix,t=r.normals,o=new Float32Array(t.length),e.abrupt("return",((0,p.a)(o,t,n),(0,p.n)(o,o),{result:{transformed:o,original:t},transferList:[o.buffer,t.buffer]}));case 3:case"end":return e.stop()}}),e)}))),N.apply(this,arguments)}function C(e){J(e)}function T(e){for(var r=e.modifications,n=S._malloc(8*r.length),t=new Float64Array(S.HEAPU8.buffer,n,r.length),o=0;o<r.length;++o)t[o]=r[o];S.setModifications(e.context,n,r.length,e.isGeodetic),S._free(n)}function D(e,r){if(!S)return null;var n=e.context,o=e.localOrigin,i=e.globalTrafo,a=e.mbs,u=e.obb,f=e.elevationOffset,c=e.geometryBuffer,s=e.geometryDescriptor,l=e.indexToVertexProjector,d=e.vertexToRenderProjector,p=S._malloc(c.byteLength),h=S._malloc(33*Float64Array.BYTES_PER_ELEMENT),y=new Uint8Array(S.HEAPU8.buffer,p,c.byteLength);y.set(new Uint8Array(c));var v=new Float64Array(S.HEAPU8.buffer,h,33);V(v,o);var m=v.byteOffset+3*v.BYTES_PER_ELEMENT,g=new Float64Array(v.buffer,m);V(g,i),m+=16*v.BYTES_PER_ELEMENT,V(g=new Float64Array(v.buffer,m),a),m+=4*v.BYTES_PER_ELEMENT,null!=u&&(V(g=new Float64Array(v.buffer,m),u.center),m+=3*v.BYTES_PER_ELEMENT,V(g=new Float64Array(v.buffer,m),u.halfSize),m+=3*v.BYTES_PER_ELEMENT,V(g=new Float64Array(v.buffer,m),u.quaternion));var b=s,w={isDraco:!1,isLegacy:!1,color:e.layouts.some((function(e){return e.some((function(e){return"color"===e.name}))})),normal:e.needNormals&&e.layouts.some((function(e){return e.some((function(e){return"normalCompressed"===e.name}))})),uv0:e.layouts.some((function(e){return e.some((function(e){return"uv0"===e.name}))})),uvRegion:e.layouts.some((function(e){return e.some((function(e){return"uvRegion"===e.name}))})),featureIndex:b.featureIndex},Z=S.process(n,!!e.obb,p,y.byteLength,b,w,h,f,l,d,e.normalReferenceFrame);if(S._free(h),S._free(p),Z.error.length>0)throw new Error("i3s.wasm: ".concat(Z.error));if(Z.discarded)return null;var x=Z.componentOffsets.length>0?Z.componentOffsets.slice():null,E=Z.featureIds.length>0?Z.featureIds.slice():null,A=Z.anchorIds.length>0?Array.from(Z.anchorIds):null,B=Z.anchors.length>0?Array.from(Z.anchors):null,_=Z.interleavedVertedData.slice().buffer,M=Z.indicesType===t.Int16?new Uint16Array(Z.indices.buffer,Z.indices.byteOffset,Z.indices.byteLength/2).slice():new Uint32Array(Z.indices.buffer,Z.indices.byteOffset,Z.indices.byteLength/4).slice(),R=Z.positions.slice(),L=Z.positionIndicesType===t.Int16?new Uint16Array(Z.positionIndices.buffer,Z.positionIndices.byteOffset,Z.positionIndices.byteLength/2).slice():new Uint32Array(Z.positionIndices.buffer,Z.positionIndices.byteOffset,Z.positionIndices.byteLength/4).slice(),P={layout:e.layouts[0],interleavedVertexData:_,indices:M,hasColors:Z.hasColors,hasModifications:Z.hasModifications,positionData:{data:R,indices:L}};return E&&r.push(E.buffer),x&&r.push(x.buffer),r.push(_),r.push(M.buffer),r.push(R.buffer),r.push(L.buffer),{componentOffsets:x,featureIds:E,anchorIds:A,anchors:B,transformedGeometry:P,obb:Z.obb}}function j(e){return 0===e?g.Unmodified:1===e?g.PotentiallyModified:2===e?g.Culled:g.Unknown}function z(e){var r=e.context,n=e.buffer,t=S._malloc(n.byteLength),o=n.byteLength/Float64Array.BYTES_PER_ELEMENT,i=new Float64Array(S.HEAPU8.buffer,t,o),a=new Float64Array(n);i.set(a),S.filterOBBs(r,t,o),a.set(i),S._free(t)}function J(e){S&&(S.destroy(e),S=null)}function V(e,r){for(var n=0;n<r.length;++n)e[n]=r[n]}function G(){return S?Promise.resolve():(x||(x=(h||(h=new Promise((function(e){return n.e(7552).then(n.bind(n,57552)).then((function(e){return e.i})).then((function(r){var n=(0,r.default)({locateFile:v,onRuntimeInitialized:function(){return e(n)}});delete n.then}))})).catch((function(e){throw e}))),h).then((function(e){S=e,x=null}))),x)}var H={transform:D,destroy:J}}}]);
//# sourceMappingURL=6761.20b6e1d7.chunk.js.map