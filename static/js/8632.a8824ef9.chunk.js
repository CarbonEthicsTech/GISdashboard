"use strict";(self.webpackChunkgis_dashboard=self.webpackChunkgis_dashboard||[]).push([[8632],{16054:function(e,t,i){i.d(t,{z:function(){return s}});var r=i(15671),n=i(43144),o=i(18759),s=function(){function e(t,i){(0,r.Z)(this,e),this._storage=new o.WJ,this.id="",this.name="",this.size=0,this._storage.maxSize=t,this._storage.register(this),i&&this._storage.registerRemoveFunc("",i)}return(0,n.Z)(e,[{key:"destroy",value:function(){this._storage.deregister(this),this._storage.destroy()}},{key:"put",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this._storage.put(this,e,t,i,1)}},{key:"pop",value:function(e){return this._storage.pop(this,e)}},{key:"get",value:function(e){return this._storage.get(this,e)}},{key:"clear",value:function(){this._storage.clearAll()}},{key:"maxSize",get:function(){return this._storage.maxSize},set:function(e){this._storage.maxSize=e}},{key:"resetHitRate",value:function(){}}]),e}()},18759:function(e,t,i){i.d(t,{WJ:function(){return d},Xq:function(){return p}});var r,n,o=i(29439),s=i(37762),a=i(15671),u=i(43144),l=i(27546);(n=r||(r={}))[n.ALL=0]="ALL",n[n.SOME=1]="SOME";var p=function(){function e(t,i,r){(0,a.Z)(this,e),this.name=t,this._storage=i,this.id=c+++":",this.size=0,this.maxSize=0,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),r&&(this._storage.registerRemoveFunc(this.id,r),this._removeFunc=!0)}return(0,u.Z)(e,[{key:"destroy",value:function(){this._storage.clear(this),this._removeFunc&&this._storage.deregisterRemoveFunc(this.id),this._storage.deregister(this),this._storage=null}},{key:"hitRate",get:function(){return this._hit/(this._hit+this._miss)}},{key:"sizeAll",get:function(){return this._storage.size}},{key:"resetHitRate",value:function(){this._hit=this._miss=0}},{key:"put",value:function(e,t,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this._storage.put(this,e,t,i,r)}},{key:"get",value:function(e){var t=this._storage.get(this,e);return void 0===t?++this._miss:++this._hit,t}},{key:"pop",value:function(e){var t=this._storage.pop(this,e);return void 0===t?++this._miss:++this._hit,t}},{key:"updateSize",value:function(e,t,i){this._storage.updateSize(this,e,t,i)}},{key:"clear",value:function(){this._storage.clear(this)}},{key:"clearAll",value:function(){this._storage.clearAll()}},{key:"performanceInfo",get:function(){return this._storage.performanceInfo}},{key:"resetStats",value:function(){this._storage.resetStats()}}]),e}(),d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10485760;(0,a.Z)(this,e),this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new l.Z,this._users=new l.Z}return(0,u.Z)(e,[{key:"size",get:function(){return this._size}},{key:"destroy",value:function(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}},{key:"register",value:function(e){this._users.push(e)}},{key:"deregister",value:function(e){this._users.removeUnordered(e)}},{key:"registerRemoveFunc",value:function(e,t){this._removeFuncs.push([e,t])}},{key:"deregisterRemoveFunc",value:function(e){this._removeFuncs.filterInPlace((function(t){return t[0]!==e}))}},{key:"maxSize",get:function(){return this._maxSize},set:function(e){this._maxSize=Math.max(e,0),this._checkSizeLimits()}},{key:"put",value:function(e,t,i,n,o){t=e.id+t;var s=this._db.get(t);if(s&&(this._size-=s.size,e.size-=s.size,this._db.delete(t),s.entry!==i&&this._notifyRemove(t,s.entry,r.ALL)),n>this._maxSize)this._notifyRemove(t,i,r.ALL);else if(void 0!==i)if(!n||n<0)console.warn("Refusing to cache entry with invalid size "+n);else{var a=1+Math.max(o,-3)- -3;this._db.set(t,{entry:i,size:n,lifetime:a,lives:a}),this._size+=n,e.size+=n,this._checkSizeLimits()}else console.warn("Refusing to cache undefined entry ")}},{key:"updateSize",value:function(e,t,i,n){t=e.id+t;var o=this._db.get(t);if(o&&o.entry===i){for(this._size-=o.size,e.size-=o.size;n>this._maxSize;){var s=this._notifyRemove(t,i,r.SOME);if(!(null!=s&&s>0))return void this._db.delete(t);n=s}o.size=n,this._size+=n,e.size+=n,this._checkSizeLimits()}}},{key:"pop",value:function(e,t){t=e.id+t;var i=this._db.get(t);if(i)return this._size-=i.size,e.size-=i.size,this._db.delete(t),++this._hit,i.entry;++this._miss}},{key:"get",value:function(e,t){t=e.id+t;var i=this._db.get(t);if(void 0!==i)return this._db.delete(t),i.lives=i.lifetime,this._db.set(t,i),++this._hit,i.entry;++this._miss}},{key:"performanceInfo",get:function(){var e=this,t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},i={},r=new Array;this._db.forEach((function(t,n){var o=t.lifetime;r[o]=(r[o]||0)+t.size,e._users.forAll((function(e){var r=e.id,o=e.name;if(n.startsWith(r)){var s=i[o]||0;i[o]=s+t.size}}))}));var n={};this._users.forAll((function(e){var t=e.name;if("hitRate"in e&&"number"==typeof e.hitRate&&!isNaN(e.hitRate)&&e.hitRate>0){var r=i[t]||0;i[t]=r,n[t]=Math.round(100*e.hitRate)+"%"}else n[t]="0%"}));var o=Object.keys(i);o.sort((function(e,t){return i[t]-i[e]})),o.forEach((function(e){return t[e]=Math.round(i[e]/Math.pow(2,20))+"MB / "+n[e]}));for(var s=r.length-1;s>=0;--s){var a=r[s];a&&(t["Priority "+(s+-3-1)]=Math.round(a/this._size*100)+"%")}return t}},{key:"resetStats",value:function(){this._hit=this._miss=0,this._users.forAll((function(e){return e.resetHitRate()}))}},{key:"clear",value:function(e){var t=this,i=e.id;this._db.forEach((function(e,n){n.startsWith(i)&&(t._size-=e.size,t._db.delete(n),t._notifyRemove(n,e.entry,r.ALL))})),e.size=0}},{key:"clearAll",value:function(){var e=this;this._db.forEach((function(t,i){return e._notifyRemove(i,t.entry,r.ALL)})),this._users.forEach((function(e){return e.size=0})),this._size=0,this._db.clear()}},{key:"_getHitRate",value:function(){return this._hit/(this._hit+this._miss)}},{key:"_notifyRemove",value:function(e,t,i){var r;return this._removeFuncs.some((function(n){if(e.startsWith(n[0])){var o=n[1](t,i);return"number"==typeof o&&(r=o),!0}return!1})),r}},{key:"_checkSizeLimits",value:function(){var e=this;if(this._size>this._maxSize){var t,i=(0,s.Z)(this._db);try{for(i.s();!(t=i.n()).done;){var r=(0,o.Z)(t.value,2),n=r[0],a=r[1];if(this._purgeItem(n,a),this._size<=.9*this.maxSize)return}}catch(u){i.e(u)}finally{i.f()}}this._users.forEach((function(t){if(t.maxSize>0&&t.size>t.maxSize){var i,r=(0,s.Z)(e._db);try{for(r.s();!(i=r.n()).done;){var n=(0,o.Z)(i.value,2),a=n[0],l=n[1];if(a.startsWith(t.id)&&(e._purgeItem(a,l,t),t.size<=.9*t.maxSize))return}}catch(u){r.e(u)}finally{r.f()}}}))}},{key:"_purgeItem",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._users.find((function(t){return e.startsWith(t.id)}));if(this._db.delete(e),t.lives<=1){this._size-=t.size,i&&(i.size-=t.size);var n=this._notifyRemove(e,t.entry,r.SOME);null!=n&&n>0&&(this._size+=n,i&&(i.size+=n),t.lives=t.lifetime,t.size=n,this._db.set(e,t))}else--t.lives,this._db.set(e,t)}}]),e}(),c=0},98701:function(e,t,i){i.r(t),i.d(t,{default:function(){return $}});var r=i(37762),n=i(74165),o=i(15861),s=i(15671),a=i(43144),u=i(97326),l=i(11752),p=i(61120),d=i(60136),c=i(29388),f=i(27366),y=(i(59486),i(44055)),h=(i(94931),i(78451),i(98689),i(57823),i(32066),i(30505),i(34999),i(28189),i(9014),i(40464)),v=i(97642),m=i(49861),g=(i(25243),i(63780),i(93169),i(69912)),_=i(27823),b=i(30651),S=i(29439),k=i(10064),x=i(54472),C=i(67213),Z=i(49818),z=i(78952),R=function(e){(0,d.Z)(i,e);var t=(0,c.Z)(i);function i(){var e;return(0,s.Z)(this,i),(e=t.apply(this,arguments)).featureDefinition=null,e.type="ogc-feature",e}return(0,a.Z)(i,[{key:"load",value:function(e){return this.addResolvingPromise(this._loadOGCServices(this.layer,e)),this.when()}},{key:"getSource",value:function(){var e=this.featureDefinition,t=e.collection,i=e.layerDefinition,r=e.spatialReference,n=e.supportedCrs,o=this.layer,s=o.apiKey,a=o.customParameters;return{type:"ogc-source",collection:t,layerDefinition:i,maxRecordCount:o.effectiveMaxRecordCount,queryParameters:{apiKey:s,customParameters:a},spatialReference:r,supportedCrs:n}}},{key:"queryExtent",value:function(e){return null}},{key:"queryFeatureCount",value:function(e){return null}},{key:"queryFeatures",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.queryFeaturesJSON(e,t).then((function(e){return Z.Z.fromJSON(e)}))}},{key:"queryFeaturesJSON",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.getSource();return this.load(t).then((function(){return(0,C.yN)(i,e,t)}))}},{key:"queryObjectIds",value:function(e){return null}},{key:"serviceSupportsSpatialReference",value:function(e){return!(!e.isWGS84&&!e.isWebMercator)||!!this.featureDefinition.supportedCrs[e.wkid]}},{key:"_conformsToType",value:function(e,t){var i,r=new RegExp("^".concat(t,"$"),"i");return null!==(i=e.conformsTo.some((function(e){return r.test(e)})))&&void 0!==i&&i}},{key:"_getCapabilities",value:function(e,t){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsChangeTracking:!1,supportsQuery:!1,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:!1,supportsExceedsLimitStatistics:!1,supportsAsyncConvert3D:!1},query:{maxRecordCount:t,maxRecordCountFactor:void 0,standardMaxRecordCount:void 0,supportsCacheHint:!1,supportsCentroid:!1,supportsDisjointSpatialRelationship:!1,supportsDistance:!1,supportsDistinct:!1,supportsExtent:!1,supportsFormatPBF:!1,supportsGeometryProperties:!1,supportsHavingClause:!1,supportsHistoricMoment:!1,supportsMaxRecordCountFactor:!1,supportsOrderBy:!1,supportsPagination:!1,supportsPercentileStatistics:!1,supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryByOthers:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsStandardizedQueriesOnly:!1,supportsTopFeaturesQuery:!1,supportsStatistics:!1,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,supportsSqlExpression:!1,tileMaxRecordCount:void 0},queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsGeometryUpdate:!1,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsUploadWithItemId:!1,supportsUpdateWithoutM:!1,supportsAsyncApplyEdits:!1}}}},{key:"_getMaxRecordCount",value:function(e){var t,i,r,n,o=null===e||void 0===e||null===(t=e.components)||void 0===t?void 0:t.parameters;return null!==(i=null===o||void 0===o||null===(r=o.limit)||void 0===r||null===(r=r.schema)||void 0===r?void 0:r.maximum)&&void 0!==i?i:null===o||void 0===o||null===(n=o.limitFeatures)||void 0===n||null===(n=n.schema)||void 0===n?void 0:n.maximum}},{key:"_getStorageSpatialReference",value:function(e){var t,i=null!==(t=e.storageCrs)&&void 0!==t?t:C.$9,r=(0,C.d)(i);return null==r?z.Z.WGS84:new z.Z({wkid:r})}},{key:"_getSupportedSpatialReferences",value:function(e,t){var i,r,n="#/crs",o=null!==(i=e.crs)&&void 0!==i?i:[C.$9],s=o.includes(n)?o.filter((function(e){return e!==n})).concat(null!==(r=t.crs)&&void 0!==r?r:[]):o,a=/^http:\/\/www\.opengis.net\/def\/crs\/epsg\/.*\/3785$/i;return s.filter((function(e){return!a.test(e)}))}},{key:"_loadOGCServices",value:function(){var e=(0,o.Z)((0,n.Z)().mark((function e(t,i){var o,s,a,u,l,p,d,c,f,y,h,v,m,g,b,x,Z,z,R,w,F,O,M,j,T,I,D,P,q,E;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=null!=i?i.signal:null,s=t.apiKey,a=t.collectionId,u=t.customParameters,l=t.fields,p=t.geometryType,d=t.hasZ,c=t.objectIdField,f=t.timeInfo,y=t.url,h={fields:null===l||void 0===l?void 0:l.map((function(e){return e.toJSON()})),geometryType:_.P.toJSON(p),hasZ:null!==d&&void 0!==d&&d,objectIdField:c,timeInfo:null===f||void 0===f?void 0:f.toJSON()},v={apiKey:s,customParameters:u,signal:o},e.next=14,(0,C.gp)(y,v);case 14:return m=e.sent,e.next=17,Promise.all([(0,C.G4)(m,v),(0,C.j)(m,v)]);case 17:if(g=e.sent,b=(0,S.Z)(g,2),x=b[0],Z=b[1],this._conformsToType(x,"http://www.opengis.net/spec/ogcapi-features-1/1.0/conf/geojson")){e.next=23;break}throw new k.Z("ogc-feature-layer:no-geojson-support","Server does not support geojson");case 23:if(z=Z.collections.find((function(e){return e.id===a})),z){e.next=26;break}throw new k.Z("ogc-feature-layer:collection-not-found","Server does not contain the named collection");case 26:if(!this._conformsToType(x,"http://www.opengis.net/spec/ogcapi-features-1/1.0/conf/oas30")){e.next=32;break}return e.next=29,(0,C.eS)(m,v);case 29:e.t0=e.sent,e.next=33;break;case 32:e.t0=null;case 33:return R=e.t0,e.next=36,(0,C.w9)(z,h,v);case 36:w=e.sent,F=this._getMaxRecordCount(R),O=this._getCapabilities(w.hasZ,F),M=this._getStorageSpatialReference(z).toJSON(),j=this._getSupportedSpatialReferences(z,Z),T=new RegExp("^".concat(C.Lu),"i"),I={},D=(0,r.Z)(j);try{for(D.s();!(P=D.n()).done;)q=P.value,null!=(E=(0,C.d)(q))&&(I[E]||(I[E]=q.replace(T,"")))}catch(n){D.e(n)}finally{D.f()}this.featureDefinition={capabilities:O,collection:z,layerDefinition:w,spatialReference:M,supportedCrs:I};case 46:case"end":return e.stop()}}),e,this)})));return function(t,i){return e.apply(this,arguments)}}()}]),i}(x.Z);(0,f._)([(0,m.Cb)()],R.prototype,"featureDefinition",void 0),(0,f._)([(0,m.Cb)({constructOnly:!0})],R.prototype,"layer",void 0),(0,f._)([(0,m.Cb)()],R.prototype,"type",void 0),R=(0,f._)([(0,g.j)("esri.layers.graphics.sources.OGCFeatureSource")],R);var w=i(27961),F=i(6693),O=i(46671),M=i(7632),j=i(64390),T=i(6061),I=i(94207),D=i(29598),P=i(71684),q=i(56811),E=i(99063),A=i(45948),G=i(87165),L=i(83040),N=i(25610),B=i(37270),Q=i(77748),H=i(85116),J=i(86638),K=i(81085),W=i(53866),U=(0,N.v)(),V=function(e){(0,d.Z)(i,e);var t=(0,c.Z)(i);function i(e){var r;return(0,s.Z)(this,i),(r=t.call(this,e)).capabilities=null,r.collectionId=null,r.copyright=null,r.definitionExpression=null,r.description=null,r.displayField=null,r.elevationInfo=null,r.fields=null,r.fieldsIndex=null,r.fullExtent=null,r.geometryType=null,r.hasZ=void 0,r.labelingInfo=null,r.labelsVisible=!0,r.legendEnabled=!0,r.maxRecordCount=null,r.objectIdField=null,r.operationalLayerType="OGCFeatureLayer",r.popupEnabled=!0,r.popupTemplate=null,r.screenSizePerspectiveEnabled=!0,r.source=new R({layer:(0,u.Z)(r)}),r.spatialReference=null,r.title=null,r.type="ogc-feature",r.typeIdField=null,r.types=null,r.url=null,r}return(0,a.Z)(i,[{key:"destroy",value:function(){var e;null===(e=this.source)||void 0===e||e.destroy()}},{key:"load",value:function(e){var t=this;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["OGCFeatureServer"]},e).then((function(){return t._fetchService(e)}))),this.when()}},{key:"defaultPopupTemplate",get:function(){return this.createPopupTemplate()}},{key:"effectiveMaxRecordCount",get:function(){var e,t,i;return null!==(e=null!==(t=this.maxRecordCount)&&void 0!==t?t:null===(i=this.capabilities)||void 0===i?void 0:i.query.maxRecordCount)&&void 0!==e?e:5e3}},{key:"isTable",get:function(){return this.loaded&&null==this.geometryType}},{key:"renderer",set:function(e){(0,B.YN)(e,this.fieldsIndex),this._set("renderer",e)}},{key:"on",value:function(e,t){return(0,l.Z)((0,p.Z)(i.prototype),"on",this).call(this,e,t)}},{key:"createPopupTemplate",value:function(e){return(0,K.eZ)(this,e)}},{key:"createQuery",value:function(){return new J.Z}},{key:"getField",value:function(e){return this.fieldsIndex.get(e)}},{key:"getFieldDomain",value:function(e,t){var i,r,n=this,o=!1,s=null===t||void 0===t||null===(i=t.feature)||void 0===i?void 0:i.attributes,a=this.typeIdField&&(null===s||void 0===s?void 0:s[this.typeIdField]);return null!=a&&this.types&&(o=this.types.some((function(t){var i,o;return t.id==a&&("inherited"===(null===(o=r=null===(i=t.domains)||void 0===i?void 0:i[e])||void 0===o?void 0:o.type)&&(r=n._getLayerDomain(e)),!0)}))),o||r||(r=this._getLayerDomain(e)),r}},{key:"queryFeatures",value:function(e,t){var i=this;return this.load().then((function(){return i.source.queryFeatures(J.Z.from(e)||i.createQuery(),t)})).then((function(e){var t;return null!==e&&void 0!==e&&null!==(t=e.features)&&void 0!==t&&t.forEach((function(e){e.layer=e.sourceLayer=i})),e}))}},{key:"serviceSupportsSpatialReference",value:function(e){var t,i;return null!==(t=null===(i=this.source)||void 0===i?void 0:i.serviceSupportsSpatialReference(e))&&void 0!==t&&t}},{key:"_fetchService",value:function(){var e=(0,o.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.source.load(t);case 2:this.read(this.source.featureDefinition,{origin:"service"}),(0,B.YN)(this.renderer,this.fieldsIndex),(0,B.UF)(this.timeInfo,this.fieldsIndex);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getLayerDomain",value:function(e){if(!this.fields)return null;var t,i=(0,r.Z)(this.fields);try{for(i.s();!(t=i.n()).done;){var n=t.value;if(n.name===e&&n.domain)return n.domain}}catch(o){i.e(o)}finally{i.f()}return null}}]),i}((0,w.V)((0,O.N)((0,j.M)((0,M.b)((0,F.h)((0,I.c)((0,E.n)((0,q.M)((0,T.q)((0,D.I)((0,P.Q)((0,v.R)(b.Z)))))))))))));(0,f._)([(0,m.Cb)({readOnly:!0,json:{origins:{service:{read:!0}}}})],V.prototype,"capabilities",void 0),(0,f._)([(0,m.Cb)({type:String,json:{write:!0}})],V.prototype,"collectionId",void 0),(0,f._)([(0,m.Cb)({type:String})],V.prototype,"copyright",void 0),(0,f._)([(0,m.Cb)({readOnly:!0})],V.prototype,"defaultPopupTemplate",null),(0,f._)([(0,m.Cb)({type:String})],V.prototype,"definitionExpression",void 0),(0,f._)([(0,m.Cb)({readOnly:!0,type:String,json:{origins:{service:{name:"collection.description"}}}})],V.prototype,"description",void 0),(0,f._)([(0,m.Cb)({type:String})],V.prototype,"displayField",void 0),(0,f._)([(0,m.Cb)({type:Number})],V.prototype,"effectiveMaxRecordCount",null),(0,f._)([(0,m.Cb)(A.PV)],V.prototype,"elevationInfo",void 0),(0,f._)([(0,m.Cb)({type:[L.Z],json:{origins:{service:{name:"layerDefinition.fields"}}}})],V.prototype,"fields",void 0),(0,f._)([(0,m.Cb)(U.fieldsIndex)],V.prototype,"fieldsIndex",void 0),(0,f._)([(0,m.Cb)({readOnly:!0,type:W.Z,json:{origins:{service:{name:"layerDefinition.extent"}}}})],V.prototype,"fullExtent",void 0),(0,f._)([(0,m.Cb)({type:_.M.apiValues,json:{origins:{service:{name:"layerDefinition.geometryType",read:{reader:_.M.read}}}}})],V.prototype,"geometryType",void 0),(0,f._)([(0,m.Cb)({type:Boolean,json:{origins:{service:{name:"layerDefinition.hasZ"}}}})],V.prototype,"hasZ",void 0),(0,f._)([(0,m.Cb)({type:Boolean,readOnly:!0})],V.prototype,"isTable",null),(0,f._)([(0,m.Cb)({type:[Q.Z],json:{origins:{"web-document":{name:"layerDefinition.drawingInfo.labelingInfo",read:{reader:H.r},write:!0}}}})],V.prototype,"labelingInfo",void 0),(0,f._)([(0,m.Cb)(A.iR)],V.prototype,"labelsVisible",void 0),(0,f._)([(0,m.Cb)(A.rn)],V.prototype,"legendEnabled",void 0),(0,f._)([(0,m.Cb)({type:Number})],V.prototype,"maxRecordCount",void 0),(0,f._)([(0,m.Cb)({type:String,json:{origins:{service:{name:"layerDefinition.objectIdField"}}}})],V.prototype,"objectIdField",void 0),(0,f._)([(0,m.Cb)({type:["OGCFeatureLayer"]})],V.prototype,"operationalLayerType",void 0),(0,f._)([(0,m.Cb)(A.C_)],V.prototype,"popupEnabled",void 0),(0,f._)([(0,m.Cb)({type:y.Z,json:{name:"popupInfo",write:!0}})],V.prototype,"popupTemplate",void 0),(0,f._)([(0,m.Cb)({types:h.A,json:{origins:{service:{name:"layerDefinition.drawingInfo.renderer",write:!1},"web-scene":{types:h.o,name:"layerDefinition.drawingInfo.renderer",write:!0}},name:"layerDefinition.drawingInfo.renderer",write:!0}})],V.prototype,"renderer",null),(0,f._)([(0,m.Cb)(A.YI)],V.prototype,"screenSizePerspectiveEnabled",void 0),(0,f._)([(0,m.Cb)({readOnly:!0})],V.prototype,"source",void 0),(0,f._)([(0,m.Cb)({readOnly:!0,type:z.Z,json:{origins:{service:{read:!0}}}})],V.prototype,"spatialReference",void 0),(0,f._)([(0,m.Cb)({type:String,json:{write:{enabled:!0,ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"collection.title"}}}})],V.prototype,"title",void 0),(0,f._)([(0,m.Cb)({readOnly:!0,json:{read:!1}})],V.prototype,"type",void 0),(0,f._)([(0,m.Cb)({type:String,readOnly:!0})],V.prototype,"typeIdField",void 0),(0,f._)([(0,m.Cb)({type:[G.Z]})],V.prototype,"types",void 0),(0,f._)([(0,m.Cb)(A.HQ)],V.prototype,"url",void 0);var $=V=(0,f._)([(0,g.j)("esri.layers.OGCFeatureLayer")],V)},60480:function(e,t,i){i.d(t,{g:function(){return r}});var r={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0}},27961:function(e,t,i){i.d(t,{V:function(){return p}});var r=i(15671),n=i(43144),o=i(60136),s=i(29388),a=i(27366),u=i(49861),l=(i(25243),i(63780),i(93169),i(69912));var p=function(e){var t=function(e){(0,o.Z)(i,e);var t=(0,s.Z)(i);function i(){return(0,r.Z)(this,i),t.apply(this,arguments)}return(0,n.Z)(i,[{key:"apiKey",get:function(){var e;return this._isOverridden("apiKey")?this._get("apiKey"):"portalItem"in this?null===(e=this.portalItem)||void 0===e?void 0:e.apiKey:null},set:function(e){null!=e?this._override("apiKey",e):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}}]),i}(e);return(0,a._)([(0,u.Cb)({type:String})],t.prototype,"apiKey",null),t=(0,a._)([(0,l.j)("esri.layers.mixins.APIKeyMixin")],t)}},94207:function(e,t,i){i.d(t,{c:function(){return _}});var r,n=i(43144),o=i(15671),s=i(60136),a=i(29388),u=i(27366),l=i(18202),p=i(49861),d=(i(25243),i(63780),i(93169),i(69912)),c=i(43404),f=i(46784),y=new c.X({asc:"ascending",desc:"descending"}),h=r=function(e){(0,s.Z)(i,e);var t=(0,a.Z)(i);function i(e){var r;return(0,o.Z)(this,i),(r=t.call(this,e)).field=null,r.valueExpression=null,r.order="ascending",r}return(0,n.Z)(i,[{key:"clone",value:function(){return new r({field:this.field,valueExpression:this.valueExpression,order:this.order})}}]),i}(f.wq);(0,u._)([(0,p.Cb)({type:String,json:{write:!0}})],h.prototype,"field",void 0),(0,u._)([(0,p.Cb)({type:String,json:{write:!0}})],h.prototype,"valueExpression",void 0),(0,u._)([(0,p.Cb)({type:y.apiValues,json:{read:y.read,write:y.write}})],h.prototype,"order",void 0);var v=h=r=(0,u._)([(0,d.j)("esri.layers.support.OrderByInfo")],h);function m(e,t,i){if(!e)return null;var r=e.find((function(e){return!!e.field}));if(!r)return null;var n=new v;return n.read(r,i),[n]}function g(e,t,i,r){var n=e.find((function(e){return!!e.field}));n&&(0,l.RB)(i,[n.toJSON()],t)}var _=function(e){var t=function(e){(0,s.Z)(i,e);var t=(0,a.Z)(i);function i(){var e;return(0,o.Z)(this,i),(e=t.apply(this,arguments)).orderBy=null,e}return(0,n.Z)(i)}(e);return(0,u._)([(0,p.Cb)({type:[v],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:m},write:{target:"layerDefinition.orderBy",writer:g}}})],t.prototype,"orderBy",void 0),t=(0,u._)([(0,d.j)("esri.layers.mixins.OrderedLayer")],t),t}},87165:function(e,t,i){i.d(t,{Z:function(){return m}});var r=i(15671),n=i(43144),o=i(60136),s=i(29388),a=i(27366),u=i(11582),l=i(46784),p=i(49861),d=(i(25243),i(63780),i(93169),i(38511)),c=i(69912),f=i(31201),y=i(66591),h=i(12224),v=function(e){(0,o.Z)(i,e);var t=(0,s.Z)(i);function i(e){var n;return(0,r.Z)(this,i),(n=t.call(this,e)).id=null,n.name=null,n.domains=null,n.templates=null,n}return(0,n.Z)(i,[{key:"readDomains",value:function(e){for(var t={},i=0,r=Object.keys(e);i<r.length;i++){var n=r[i];t[n]=(0,y.im)(e[n])}return t}},{key:"writeDomains",value:function(e,t){for(var i={},r=0,n=Object.keys(e);r<n.length;r++){var o,s=n[r];e[s]&&(i[s]=null===(o=e[s])||void 0===o?void 0:o.toJSON())}t.domains=i}}]),i}((0,u.J)(l.wq));(0,a._)([(0,p.Cb)({json:{write:!0}})],v.prototype,"id",void 0),(0,a._)([(0,p.Cb)({json:{write:!0}})],v.prototype,"name",void 0),(0,a._)([(0,p.Cb)({json:{write:!0}})],v.prototype,"domains",void 0),(0,a._)([(0,d.r)("domains")],v.prototype,"readDomains",null),(0,a._)([(0,f.c)("domains")],v.prototype,"writeDomains",null),(0,a._)([(0,p.Cb)({type:[h.Z],json:{write:!0}})],v.prototype,"templates",void 0);var m=v=(0,a._)([(0,c.j)("esri.layers.support.FeatureType")],v)},52410:function(e,t,i){i.d(t,{Z:function(){return l}});var r=i(37762),n=i(15671),o=i(43144),s=i(37270);function a(e){return"oid"===e.type||"esriFieldTypeOID"===e.type}function u(e){return"global-id"===e.type||"esriFieldTypeGlobalID"===e.type}var l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if((0,n.Z)(this,e),this.fields=[],this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this.dateFields=[],this.numericFields=[],this._requiredFields=null,t){this.fields=t;var i,o,l=[],c=(0,r.Z)(t);try{for(c.s();!(i=c.n()).done;){var f=i.value,y=null===f||void 0===f?void 0:f.name,h=d(null===f||void 0===f?void 0:f.name);if(y&&h){var v=p(y);this._fieldsMap.set(y,f),this._fieldsMap.set(v,f),this._normalizedFieldsMap.set(h,f),l.push(v),"date"===(o=f).type||"esriFieldTypeDate"===o.type||"date-only"===o.type||"esriFieldTypeDateOnly"===o.type||"timestamp-offset"===o.type||"esriFieldTypeTimestampOffset"===o.type?(this.dateFields.push(f),this._dateFieldsSet.add(f)):(0,s.H7)(f)&&(this._numericFieldsSet.add(f),this.numericFields.push(f)),a(f)||u(f)||(f.editable=null==f.editable||!!f.editable,f.nullable=null==f.nullable||!!f.nullable)}}}catch(m){c.e(m)}finally{c.f()}l.sort(),this.uid=l.join(",")}}return(0,o.Z)(e,[{key:"destroy",value:function(){this._fieldsMap.clear()}},{key:"requiredFields",get:function(){if(!this._requiredFields){this._requiredFields=[];var e,t=(0,r.Z)(this.fields);try{for(t.s();!(e=t.n()).done;){var i=e.value;a(i)||u(i)||i.nullable||void 0!==(0,s.os)(i)||this._requiredFields.push(i)}}catch(n){t.e(n)}finally{t.f()}}return this._requiredFields}},{key:"has",value:function(e){return null!=this.get(e)}},{key:"get",value:function(e){var t;if(e){var i=this._fieldsMap.get(e);return i||((i=null!==(t=this._fieldsMap.get(p(e)))&&void 0!==t?t:this._normalizedFieldsMap.get(d(e)))&&this._fieldsMap.set(e,i),i)}}},{key:"isDateField",value:function(e){return this._dateFieldsSet.has(this.get(e))}},{key:"isNumericField",value:function(e){return this._numericFieldsSet.has(this.get(e))}},{key:"normalizeFieldName",value:function(e){var t,i=this.get(e);if(i)return null!==(t=i.name)&&void 0!==t?t:void 0}}]),e}();function p(e){return e.trim().toLowerCase()}function d(e){var t,i;return null!==(t=null===(i=(0,s.q6)(e))||void 0===i?void 0:i.toLowerCase())&&void 0!==t?t:""}},49818:function(e,t,i){i.d(t,{Z:function(){return Z}});var r,n=i(29439),o=i(37762),s=i(15671),a=i(43144),u=i(60136),l=i(29388),p=i(27366),d=i(59486),c=i(52639),f=i(43404),y=i(46784),h=i(84652),v=i(49861),m=(i(25243),i(38511)),g=i(69912),_=i(31201),b=i(78952),S=i(77981),k=i(83040),x=new f.X({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null}),C=r=function(e){(0,u.Z)(i,e);var t=(0,l.Z)(i);function i(e){var r;return(0,s.Z)(this,i),(r=t.call(this,e)).displayFieldName=null,r.exceededTransferLimit=!1,r.features=[],r.fields=null,r.geometryType=null,r.hasM=!1,r.hasZ=!1,r.queryGeometry=null,r.spatialReference=null,r}return(0,a.Z)(i,[{key:"readFeatures",value:function(e,t){for(var i=b.Z.fromJSON(t.spatialReference),r=[],n=0;n<e.length;n++){var o=e[n],s=c.Z.fromJSON(o),a=o.geometry&&o.geometry.spatialReference;null==s.geometry||a||(s.geometry.spatialReference=i);var u=o.aggregateGeometries,l=s.aggregateGeometries;if(u&&null!=l)for(var p in l){var d=l[p],f=u[p],y=null===f||void 0===f?void 0:f.spatialReference;null==d||y||(d.spatialReference=i)}r.push(s)}return r}},{key:"writeGeometryType",value:function(e,t,i,r){if(e)x.write(e,t,i,r);else{var n=this.features;if(n){var s,a=(0,o.Z)(n);try{for(a.s();!(s=a.n()).done;){var u=s.value;if(u&&null!=u.geometry)return void x.write(u.geometry.type,t,i,r)}}catch(l){a.e(l)}finally{a.f()}}}}},{key:"readQueryGeometry",value:function(e,t){if(!e)return null;var i=!!e.spatialReference,r=(0,S.im)(e);return r&&!i&&t.spatialReference&&(r.spatialReference=b.Z.fromJSON(t.spatialReference)),r}},{key:"writeSpatialReference",value:function(e,t){if(e)t.spatialReference=e.toJSON();else{var i=this.features;if(i){var r,n=(0,o.Z)(i);try{for(n.s();!(r=n.n()).done;){var s=r.value;if(s&&null!=s.geometry&&s.geometry.spatialReference)return void(t.spatialReference=s.geometry.spatialReference.toJSON())}}catch(a){n.e(a)}finally{n.f()}}}}},{key:"clone",value:function(){return new r(this.cloneProperties())}},{key:"cloneProperties",value:function(){return(0,h.d9)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}},{key:"toJSON",value:function(e){var t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(var i=0;i<t.features.length;i++){var r=t.features[i];if(r.geometry){var n=e&&e[i];r.geometry=n&&n.toJSON()||r.geometry}}return t}},{key:"quantize",value:function(e){for(var t=(0,n.Z)(e.scale,2),i=t[0],r=t[1],o=(0,n.Z)(e.translate,2),s=o[0],a=o[1],u=this.features,l=this._getQuantizationFunction(this.geometryType,(function(e){return Math.round((e-s)/i)}),(function(e){return Math.round((a-e)/r)})),p=0,d=u.length;p<d;p++)(null===l||void 0===l?void 0:l(u[p].geometry))||(u.splice(p,1),p--,d--);return this.transform=e,this}},{key:"unquantize",value:function(){var e,t,i=this.geometryType,r=this.features,s=this.transform;if(!s)return this;var a=(0,n.Z)(s.translate,2),u=a[0],l=a[1],p=(0,n.Z)(s.scale,2),d=p[0],c=p[1],f=null,y=null;if(this.hasZ&&null!=(null===s||void 0===s||null===(e=s.scale)||void 0===e?void 0:e[2])){var h=(0,n.Z)(s.translate,3)[2],v=(0,n.Z)(s.scale,3)[2];f=function(e){return e*v+h}}if(this.hasM&&null!=(null===s||void 0===s||null===(t=s.scale)||void 0===t?void 0:t[3])){var m=(0,n.Z)(s.translate,4)[3],g=(0,n.Z)(s.scale,4)[3];y=function(e){return null==e?e:e*g+m}}var _,b=this._getHydrationFunction(i,(function(e){return e*d+u}),(function(e){return l-e*c}),f,y),S=(0,o.Z)(r);try{for(S.s();!(_=S.n()).done;){var k=_.value.geometry;null!=k&&b&&b(k)}}catch(x){S.e(x)}finally{S.f()}return this.transform=null,this}},{key:"_quantizePoints",value:function(e,t,i){for(var r,n,o=[],s=0,a=e.length;s<a;s++){var u=e[s];if(s>0){var l=t(u[0]),p=i(u[1]);l===r&&p===n||(o.push([l-r,p-n]),r=l,n=p)}else r=t(u[0]),n=i(u[1]),o.push([r,n])}return o.length>0?o:null}},{key:"_getQuantizationFunction",value:function(e,t,i){var r=this;return"point"===e?function(e){return e.x=t(e.x),e.y=i(e.y),e}:"polyline"===e||"polygon"===e?function(e){for(var n=(0,S.oU)(e)?e.rings:e.paths,o=[],s=0,a=n.length;s<a;s++){var u=n[s],l=r._quantizePoints(u,t,i);l&&o.push(l)}return o.length>0?((0,S.oU)(e)?e.rings=o:e.paths=o,e):null}:"multipoint"===e?function(e){var n=r._quantizePoints(e.points,t,i);return n&&n.length>0?(e.points=n,e):null}:"extent"===e?function(e){return e}:null}},{key:"_getHydrationFunction",value:function(e,t,i,r,n){return"point"===e?function(e){e.x=t(e.x),e.y=i(e.y),r&&(e.z=r(e.z))}:"polyline"===e||"polygon"===e?function(e){for(var o,s,a=(0,S.oU)(e)?e.rings:e.paths,u=0,l=a.length;u<l;u++)for(var p=a[u],d=0,c=p.length;d<c;d++){var f=p[d];d>0?(o+=f[0],s+=f[1]):(o=f[0],s=f[1]),f[0]=t(o),f[1]=i(s)}if(r&&n)for(var y=0,h=a.length;y<h;y++)for(var v=a[y],m=0,g=v.length;m<g;m++){var _=v[m];_[2]=r(_[2]),_[3]=n(_[3])}else if(r)for(var b=0,k=a.length;b<k;b++)for(var x=a[b],C=0,Z=x.length;C<Z;C++){var z=x[C];z[2]=r(z[2])}else if(n)for(var R=0,w=a.length;R<w;R++)for(var F=a[R],O=0,M=F.length;O<M;O++){var j=F[O];j[2]=n(j[2])}}:"extent"===e?function(e){e.xmin=t(e.xmin),e.ymin=i(e.ymin),e.xmax=t(e.xmax),e.ymax=i(e.ymax),r&&null!=e.zmax&&null!=e.zmin&&(e.zmax=r(e.zmax),e.zmin=r(e.zmin)),n&&null!=e.mmax&&null!=e.mmin&&(e.mmax=n(e.mmax),e.mmin=n(e.mmin))}:"multipoint"===e?function(e){for(var o,s,a=e.points,u=0,l=a.length;u<l;u++){var p=a[u];u>0?(o+=p[0],s+=p[1]):(o=p[0],s=p[1]),p[0]=t(o),p[1]=i(s)}if(r&&n)for(var d=0,c=a.length;d<c;d++){var f=a[d];f[2]=r(f[2]),f[3]=n(f[3])}else if(r)for(var y=0,h=a.length;y<h;y++){var v=a[y];v[2]=r(v[2])}else if(n)for(var m=0,g=a.length;m<g;m++){var _=a[m];_[2]=n(_[2])}}:null}}]),i}(y.wq);(0,p._)([(0,v.Cb)({type:String,json:{write:!0}})],C.prototype,"displayFieldName",void 0),(0,p._)([(0,v.Cb)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],C.prototype,"exceededTransferLimit",void 0),(0,p._)([(0,v.Cb)({type:[c.Z],json:{write:!0}})],C.prototype,"features",void 0),(0,p._)([(0,m.r)("features")],C.prototype,"readFeatures",null),(0,p._)([(0,v.Cb)({type:[k.Z],json:{write:!0}})],C.prototype,"fields",void 0),(0,p._)([(0,v.Cb)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:x.read}}})],C.prototype,"geometryType",void 0),(0,p._)([(0,_.c)("geometryType")],C.prototype,"writeGeometryType",null),(0,p._)([(0,v.Cb)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],C.prototype,"hasM",void 0),(0,p._)([(0,v.Cb)({type:Boolean,json:{write:{overridePolicy:function(e){return{enabled:e}}}}})],C.prototype,"hasZ",void 0),(0,p._)([(0,v.Cb)({types:d.qM,json:{write:!0}})],C.prototype,"queryGeometry",void 0),(0,p._)([(0,m.r)("queryGeometry")],C.prototype,"readQueryGeometry",null),(0,p._)([(0,v.Cb)({type:b.Z,json:{write:!0}})],C.prototype,"spatialReference",void 0),(0,p._)([(0,_.c)("spatialReference")],C.prototype,"writeSpatialReference",null),(0,p._)([(0,v.Cb)({json:{write:!0}})],C.prototype,"transform",void 0),(C=r=(0,p._)([(0,g.j)("esri.rest.support.FeatureSet")],C)).prototype.toJSON.isDefaultToJSON=!0;var Z=C}}]);
//# sourceMappingURL=8632.a8824ef9.chunk.js.map